(window.webpackJsonp=window.webpackJsonp||[]).push([[178],{6834:function(e,n,t){"use strict";t.d(n,"a",function(){return g});var r=t(52),a=t(5),c=t(0),i=t.n(c),o=t(28),l=t(20),u=t(171);function s(){var e=Object(a.a)(["\n  padding-top: 0.2rem;\n  display: inline-block;\n"]);return s=function(){return e},e}function d(){var e=Object(a.a)(["\n  margin-left: 0.5rem;\n  align-self: stretch;\n  flex: 1 1 auto;\n"]);return d=function(){return e},e}function m(){var e=Object(a.a)(["\n  margin: ",";\n  min-width: ",";\n  flex: 0 0 auto;\n  text-align: right;\n"]);return m=function(){return e},e}function f(){var e=Object(a.a)(["\n  display: flex;\n"]);return f=function(){return e},e}var b=o.default.div(f());b.displayName="IconLineWrap";var v=o.default.div(m(),function(e){var n=e.labelMargin;return void 0===n?"0.5rem 0.2rem 0 auto":n},function(e){var n=e.labelWidth,t=void 0===n?0:n,r=e.labelWidthUnits;return t+(void 0===r?l.d.DefaultSizeUnit:r)}),h=o.default.div(d()),p=o.default.div(s());h.displayName="IconLineChildren";var g=function(e){var n,t=e.icon,a=e.label,c=e.labelWidth,o=e.labelWidthUnits,s=e.labelMargin,d=e.children,m=Object(r.a)(e,["icon","label","labelWidth","labelWidthUnits","labelMargin","children"]);return t&&(n="string"===typeof t?i.a.createElement(u.a,{iconName:t,color:l.a.greyDark}):i.a.createElement(t,{nativeColor:l.a.greyDark})),i.a.createElement(b,m,i.a.createElement(v,{labelWidth:c,labelWidthUnits:o,labelMargin:s},n,a?i.a.createElement(p,null,a):null),i.a.createElement(h,null,d))}},6835:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var r=t(69),a=t(0),c=t.n(a),i=t(6842),o=t(82),l=function(e){var n=e.mutationName,t=e.children,a=Object(o.b)().user;return Object(r.useObserver)(function(){return a.canMutate(n)?c.a.createElement(c.a.Fragment,null,t):c.a.createElement(i.a,null,"No access to mutation ".concat(n))})}},6837:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var r=t(57),a=t(0),c=t.n(a),i=t(6871),o=t(20),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)({},e,{control:function(n,t){var a=t.selectProps,c=a.width,i=a.minWidth,l=Object(r.a)({},n,{border:"1px solid ".concat(o.a.greyMiddle),margin:o.d.MarginAroundFormComponents,width:void 0!==c?"".concat(c,"rem"):"100%",minWidth:void 0!==i?"".concat(i,"rem"):"8rem"});return e.control?e.control(l,t):l},menu:function(n,t){var a=t.selectProps.width,c=Object(r.a)({},n,{zIndex:20,color:o.a.black,width:void 0!==a?"".concat(a,"rem"):"100%"});return e.menu?e.menu(c,t):c},valueContainer:function(n,t){var a=t.selectProps.maxHeight,c=Object(r.a)({},n,{maxHeight:void 0!==a?"".concat(a,"rem"):"100%",overflowY:void 0!==a?"scroll":"hidden"});return e.valueContainer?e.valueContainer(c,t):c}})};function u(e){return c.a.createElement(i.b,Object.assign({},e,{styles:l(e.styles)}))}},6838:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var r=t(52),a=t(0),c=t.n(a),i=t(6832),o=t(6853),l=t(43),u=t(6839),s=c.a.forwardRef(function(e,n){var t=e.field,a=e.inputFullWidth,s=void 0!==a&&a,d=e.isRequired,m=e.validatioName,f=e.validationMessage,b=e.validate,v=Object(r.a)(e,["field","inputFullWidth","isRequired","validatioName","validationMessage","validate"]);return c.a.createElement(i.Field,{field:t,validate:b||function(e){return d&&Object(o.isEmpty)(e+"")?f||l.b._("{validatioName} is required",{validatioName:m}):null}},function(e){return c.a.createElement(u.a,Object.assign({value:e.value||0===e.value?e.value:"",onChange:function(n){n.target.validity.valid&&(e.setTouched(!0),e.setValue(n.target.value))},inputFullWidth:s,invalid:Boolean(e.error),ref:n},v))})})},6839:function(e,n,t){"use strict";t.d(n,"b",function(){return s}),t.d(n,"a",function(){return d});var r=t(5),a=t(28),c=t(20);function i(){var e=Object(r.a)(["\n  margin: ",";\n  ",";\n  ",";\n"]);return i=function(){return e},e}function o(){var e=Object(r.a)(["\n  width: 100%;\n"]);return o=function(){return e},e}function l(){var e=Object(r.a)(["\n  border: 1px red solid;\n"]);return l=function(){return e},e}var u=Object(a.css)(l()),s=Object(a.css)(o()),d=a.default.input(i(),c.d.MarginAroundFormComponents,function(e){return e.inputFullWidth&&s},function(e){return e.invalid&&u})},6840:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(5),a=t(28),c=t(20);function i(){var e=Object(r.a)(["\n  color: ",";\n  font-weight: lighter;\n  margin: ",";\n  font-size: ",";\n"]);return i=function(){return e},e}var o=a.default.h2(i(),function(e){var n=e.light;return void 0!==n&&n?c.a.greyLight:c.a.greyDarkest},function(e){var n=e.margin;return void 0===n?"0 0.5rem 0 0.5rem":n},function(e){return"smaller"===e.size&&"1rem"})},6841:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var r=t(69),a=t(0),c=t.n(a),i=t(6842),o=t(82),l=function(e){var n=e.queryName,t=e.children,a=Object(o.b)().user;return Object(r.useObserver)(function(){return a.canQuery(n)?c.a.createElement(c.a.Fragment,null,t):c.a.createElement(i.a,null,"No access to query ".concat(n))})}},6842:function(e,n,t){"use strict";t.d(n,"a",function(){return r});t(0);var r=function(e){e.children;return null}},6847:function(e,n,t){"use strict";t.d(n,"a",function(){return m});var r=t(5),a=t(97),c=t(6893),i=t(0),o=t.n(i),l=t(28),u=t(34);function s(){var e=Object(r.a)(["\n  ","\n\n  color: ",";\n\n  &.interactive {\n    cursor: pointer;\n  }\n\n  &.invalid {\n    border: 1px red solid;\n  }\n\n  > div {\n    margin: 0.5rem 0.6rem;\n    display: inline-block;\n  }\n\n  > div.active {\n    font-weight: bolder;\n    text-decoration: underline;\n  }\n"]);return s=function(){return e},e}var d=l.default.div(s(),function(e){return""},function(e){var n=e.textColor;return n||"inherit"}),m=function(e){var n=e.items,t=e.formatItem,r=void 0===t?u.a.prop("displayName"):t,i=e.isMulti,l=void 0!==i&&i,s=e.isClearable,m=void 0!==s&&s,f=e.isInvalid,b=void 0!==f&&f,v=e.selectedItem,h=e.selectedItems,p=e.onSingleSelection,g=e.onMultiSelection,E=e.textColor,O=1===n.length,y=function(e){return 1!==n.length&&(l&&Array.isArray(h)?u.a.contains(e,h):u.a.equals(v,e))},j=function(e){O||(null===e?l&&g?g([]):p&&p(null):l&&g?y(e)?g(Array.isArray(h)?u.a.without([e],h):[e]):g(Array.isArray(h)?u.a.concat(h,[e]):[]):p&&p(e))};return o.a.createElement(d,{className:Object(c.cn)({invalid:b,interactive:!O}),textColor:E},m&&o.a.createElement("div",{className:Object(c.cn)({active:!(l?Array.isArray(h)&&h.length>0:null!==v&&void 0!==v)}),onClick:function(){j(null)}},o.a.createElement(a.Trans,{id:"optionselector.clear-filter"})),n.map(function(e,n){var t=r(e);return o.a.createElement("div",{key:n,className:Object(c.cn)({active:y(e)}),onClick:function(){j(e)}},t)}))}},6848:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var r=t(5);function a(){var e=Object(r.a)(["\n  flex: ",";\n  padding: ",";\n  margin: ",";\n"]);return a=function(){return e},e}var c=t(28).default.div(a(),function(e){var n=e.fixedWidth,t=void 0!==n&&n,r=e.width,a=e.widthGrowIndex,c=void 0===a?0:a;return t?r?"0 0 ".concat(r):"0 0":"".concat(c," 0")},function(e){var n=e.padding;return void 0===n?"0.25rem":n},function(e){var n=e.margin;return void 0===n?"":n})},6849:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(19),a=t(0),c=t.n(a),i=t(82);function o(e){var n=Object(i.b)().user;c.a.useEffect(function(){return Object(r.autorun)(function(){n.isReady&&n.hasSingleBranch&&e(n.branches[0])})})}},6852:function(e,n,t){"use strict";var r=t(0),a=t.n(r),c=t(82),i=t(34),o=t(6857),l=t(52),u=t(6847),s=t(20),d=function(e){var n=e.branches,t=e.selectedBranch,r=e.selectedBranches,c=e.textColor,i=void 0===c?s.a.black:c,o=Object(l.a)(e,["branches","selectedBranch","selectedBranches","textColor"]);return a.a.createElement(u.a,Object.assign({items:n,selectedItem:t,selectedItems:r,textColor:i,formatItem:function(e){return a.a.createElement("span",{title:e.brand.name},e.name)}},o))};t.d(n,"a",function(){return m});var m=function(e){var n=e.breakpoint,t=void 0===n?3:n,r=e.selectedBranches,l=void 0===r?[]:r,u=e.isMulti,s=void 0!==u&&u,m=e.isClearable,f=void 0===m||m,b=e.hideWhenSingleBranch,v=void 0!==b&&b,h=e.textColor,p=e.onSelectionChange,g=e.onSelectionClear,E=e.getDropdownProps,O=void 0===E?function(){return{}}:E,y=Object(c.b)().user,j=function(e){return l.includes(e.id)},w={textColor:h,isClearable:f,isMulti:s,branches:y.branches,selectedBranch:y.branches.find(j),selectedBranches:y.branches.filter(j),onSingleSelection:function(e){null===e&&g?g():null!==e&&p&&p([e.id],[e])},onMultiSelection:function(e){0===e.length&&g?g():e.length&&p&&p(e.map(i.a.prop("id")),e)}};return y.hasSingleBranch&&v?null:y.branches.length<t?a.a.createElement(d,w):a.a.createElement(o.a,Object.assign({},w,O()))}},6857:function(e,n,t){"use strict";var r=t(57),a=t(52),c=t(97),i=t(0),o=t.n(i),l=t(5);function u(){var e=Object(l.a)(["\n  cursor: ",";\n"]);return u=function(){return e},e}var s=t(28).default.div(u(),function(e){var n=e.cursor;return void 0===n?"default":n}),d=function(e){var n=e.branch,t=e.onClick,r=e.short,a=void 0!==r&&r,c=e.showBrand,i=void 0===c||c;return o.a.createElement(s,{cursor:"pointer",onClick:t},a?n.name.substr(0,8):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,n.name),i&&o.a.createElement("span",null," [".concat(n.brand.name,"]"))))},m=t(6837),f=t(34),b=t(43),v=t(20);t.d(n,"a",function(){return p});var h=function(e){var n=e.getStyles,t=e.innerProps,r=t.ref,i=Object(a.a)(t,["ref"]);return o.a.createElement("div",Object.assign({},i,{ref:r,style:n("clearIndicator",e)}),o.a.createElement("div",{style:{padding:"0px 5px"}},o.a.createElement(c.Trans,{id:"All"})))},p=function(e){var n=e.branches,t=e.selectedBranch,c=e.onSingleSelection,i=e.selectedBranches,l=e.onMultiSelection,u=Object(a.a)(e,["branches","selectedBranch","onSingleSelection","selectedBranches","onMultiSelection"]);return o.a.createElement(m.a,Object.assign({value:u.isMulti?i:t,placeholder:u.isMulti?b.b._("Filter branches..."):b.b._("Select a branch"),maxHeight:v.d.ButtonHeight,options:n,getOptionValue:f.a.prop("id"),formatOptionLabel:function(e){return o.a.createElement(d,{branch:e})},filterOption:function(e,n){return e.data.name.toLocaleLowerCase().includes(n.toLocaleLowerCase())},closeMenuOnSelect:!u.isMulti,components:{ClearIndicator:h},styles:{clearIndicator:function(e){return Object(r.a)({},e,{cursor:"pointer"})}},onChange:function(e){u.isMulti&&l&&Array.isArray(e)&&l(e),!u.isMulti&&c&&(Array.isArray(e)?c(f.a.head(e)||null):c(e||null))}},u))}},6859:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var r=t(52),a=t(0),c=t.n(a),i=t(6832),o=t(6860),l=t(145),u=t(20),s=function(e){var n=e.children,t=Object(r.a)(e,["children"]);return c.a.createElement(i.FormApi,null,function(e){return c.a.createElement(l.a,Object.assign({color:u.a.green,disabled:!Object(o.a)(e)||e.submitting,onClick:function(n){n.preventDefault(),e.submitForm(n)}},t),n)})}},6860:function(e,n,t){"use strict";t.d(n,"a",function(){return c}),t.d(n,"b",function(){return i});var r=t(6853),a=t(43);function c(e){return!e.errors||0===Object.keys(e.errors).length}function i(e){return function(n){return Object(r.isEmpty)(n+"")?a.b._("{fieldName} must be entered",{fieldName:e}):null}}},6861:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(6924),a=t(6855),c=t(0),i=t.n(c),o=function(e){var n=e.children;return i.a.createElement(a.e,{utils:r.a},n)}},6866:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var r=t(52),a=t(0),c=t.n(a),i=t(83),o=t(6835),l=t(6841),u=function(e){var n=e.route,t=e.component,u=e.canQuery,s=e.canMutate,d=Object(r.a)(e,["route","component","canQuery","canMutate"]),m=n?c.a.createElement(i.b,{to:n},Object(a.createElement)(t)):Object(a.createElement)(t);return u&&(m=c.a.createElement(l.a,{queryName:u},m)),s&&(m=c.a.createElement(o.a,{mutationName:s},m)),c.a.createElement("div",d,m)}},6870:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var r=t(52),a=t(0),c=t.n(a),i=t(338),o=t(20),l=t(145),u=function(e){var n=e.onDelete,t=e.confirmText,a=Object(r.a)(e,["onDelete","confirmText"]);return c.a.createElement(i.a,null,c.a.createElement(l.a,Object.assign({iconName:"delete",color:o.a.greyMiddle,onClick:function(e){e.preventDefault(),t&&!window.confirm(t)||n()}},a)))}},6876:function(e,n,t){"use strict";t.d(n,"a",function(){return d});var r=t(98),a=t(69),c=t(0),i=t.n(c),o=t(6834),l=t(82),u=t(6849),s=t(6852),d=function(e){var n=e.isMulti,t=e.width,c=Object(l.b)(),d=c.settings,m=c.user;return Object(u.a)(function(e){d.selectBranch(e.id)}),Object(a.useObserver)(function(){return m.hasSingleBranch?null:i.a.createElement(o.a,{icon:"store_mall_directory"},i.a.createElement(s.a,{selectedBranches:d.branchId?[d.branchId]:void 0,onSelectionChange:function(e){var n=Object(r.a)(e,1)[0];return d.selectBranch(n)},isMulti:n,isClearable:!1,getDropdownProps:function(){return{width:t}},hideWhenSingleBranch:!0}))})}},6894:function(e,n,t){var r={"./cs.svg":6895,"./de.svg":6896,"./en.svg":6897,"./pl.svg":6898,"./sk.svg":6899};function a(e){var n=c(e);return t(n)}function c(e){var n=r[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id=6894},6900:function(e,n,t){var r={"./logo-doveze.svg":6901,"./logo-gopay.svg":6902,"./logo-mastercard.svg":6903,"./logo-visa.svg":6904};function a(e){var n=c(e);return t(n)}function c(e){var n=r[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id=6900},6911:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var r=t(52),a=t(0),c=t.n(a),i=t(6832),o=t(6994),l=function(e){var n=e.field,t=e.label,a=e.defaultValue,l=(e.children,Object(r.a)(e,["field","label","defaultValue","children"]));return c.a.createElement(o.a,null,c.a.createElement(i.Checkbox,Object.assign({field:n,checked:Boolean(a)},l)),t&&c.a.createElement("label",null,t))}},6963:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(5),a=t(28),c=t(20);function i(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-bottom: 1px solid ",";\n  padding: 0.1rem 0 0.1rem 0;\n"]);return i=function(){return e},e}var o=a.default.div(i(),c.a.greyMiddle)},6965:function(e,n,t){"use strict";var r=t(52),a=t(0),c=t.n(a),i=t(6832),o=t(249),l=t(6855),u=t(6861),s=function(e){return c.a.createElement(u.a,null,c.a.createElement(l.b,Object.assign({format:"ll",maxDateMessage:o.i18n._("Date is too much in the future"),minDateMessage:o.i18n._("Date is too much in the past")},e)))};t.d(n,"a",function(){return d});var d=function(e){var n=e.field,t=Object(r.a)(e,["field"]);return c.a.createElement(i.Field,{field:n,render:function(e){return c.a.createElement(s,Object.assign({value:e.value,onChange:function(n){return e.setValue(n)},onOpen:function(){return e.setTouched(!0)}},t))}})}},6994:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(5),a=t(28),c=t(20);function i(){var e=Object(r.a)(["\n  input {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    background-color: ",";\n    border: 1px solid ",";\n    padding: 1rem;\n    border-radius: ",";\n    display: inline-block;\n    position: relative;\n    margin: ",";\n    outline: none;\n    &:checked {\n      background-color: ",";\n      border: 1px solid ",";\n    }\n    &:checked:after {\n      content: '\\2714';\n      font-size: 2rem;\n      position: absolute;\n      top: -0.5rem;\n      left: 0.1rem;\n      color: ",";\n      overflow: hidden;\n    }\n    &:disabled {\n      background-color: ",";\n    }\n    &:disabled:after {\n      color: ",";\n    }\n  }\n  label {\n    display: inline-block;\n    margin: 0.4rem 0 0 0.5rem;\n    vertical-align: top;\n  }\n"],["\n  input {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    background-color: ",";\n    border: 1px solid ",";\n    padding: 1rem;\n    border-radius: ",";\n    display: inline-block;\n    position: relative;\n    margin: ",";\n    outline: none;\n    &:checked {\n      background-color: ",";\n      border: 1px solid ",";\n    }\n    &:checked:after {\n      content: '\\\\2714';\n      font-size: 2rem;\n      position: absolute;\n      top: -0.5rem;\n      left: 0.1rem;\n      color: ",";\n      overflow: hidden;\n    }\n    &:disabled {\n      background-color: ",";\n    }\n    &:disabled:after {\n      color: ",";\n    }\n  }\n  label {\n    display: inline-block;\n    margin: 0.4rem 0 0 0.5rem;\n    vertical-align: top;\n  }\n"]);return i=function(){return e},e}var o=a.default.span(i(),c.a.white,c.a.greyMiddle,c.c.TextComponent,c.d.MarginAroundFormComponents,c.a.white,c.a.greyMiddle,c.a.greyDark,c.a.greyLight,c.a.greyMiddle)},7992:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(76),i=t(172),o=t(43),l=t(200),u=t(551),s=t(115),d=t(97),m=t(195),f=t(6840),b=t(196),v=t(6876),h=t(5),p=t(6832),g=t(28),E=t(6838),O=t(145),y=t(20),j=function(e){return a.a.createElement(O.a,{text:o.b._("Save invoice preferences"),color:y.a.green})};function w(){var e=Object(h.a)(["\n  margin-top: 1rem;\n  width: 15rem;\n"]);return w=function(){return e},e}var k=g.default.div(w()),x=function(e){return a.a.createElement(p.Form,null,a.a.createElement(E.a,{field:"account",placeholder:"N\xe1zev firmy"}),a.a.createElement("br",null),a.a.createElement(E.a,{field:"number",placeholder:"I\u010c"}),a.a.createElement(E.a,{field:"vatIdent",placeholder:"DI\u010c"}),a.a.createElement(k,null,a.a.createElement(j,null)))},M=t(6911),C=function(e){return a.a.createElement(p.Form,null,a.a.createElement(M.a,{field:"onlyPersonalPickup",label:o.b._("We are not delivering, only take away.")}),a.a.createElement("br",null),a.a.createElement(M.a,{field:"stoppage",label:o.b._("Completely stop all orders.")}))},S=function(e){return a.a.createElement(b.a,{pageTitle:o.b._("Branch preferences")},a.a.createElement(m.a,null,a.a.createElement(v.a,null),a.a.createElement(f.a,null,a.a.createElement(d.Trans,{id:"branch.preferences.stoppage"})),a.a.createElement(C,null),a.a.createElement(f.a,null,a.a.createElement(d.Trans,{id:"Change of invoice preferences"})),a.a.createElement(x,null)))},D=function(e){var n=e.match;return a.a.createElement(c.Switch,null,a.a.createElement(s.a,{exact:!0,path:n.path,component:S}),a.a.createElement(c.Route,{component:l.a}))},A=t(6835),N=t(6841),_=t(346),I=t(21),B=t.n(I),F=t(147),T=t(35),W=t(98),H=t(112),R=t(19),z=t(69),L=t(340),P=t(82),q=t(146),U=t(41),Q=t(248),V=t(198),Y=t(104),G=t(338),J=t(6855),Z=t(6861),K=function(e){return a.a.createElement(Z.a,null,a.a.createElement(J.d,Object.assign({format:"LT"},e)))};function X(){var e=Object(h.a)(["\n  & input {\n    width: 5rem;\n  }\n"]);return X=function(){return e},e}var $=g.default.div(X()),ee=a.a.memo(function(e){var n=e.hour;return Object(z.useObserver)(function(){return a.a.createElement($,null,a.a.createElement(K,{value:n.openAt,onChange:function(e){return n.openAt=e},label:a.a.createElement(d.Trans,{id:"input.timespan.from"}),fullWidth:!1}),a.a.createElement(K,{value:n.closeAt,onChange:function(e){return n.closeAt=e},label:a.a.createElement(d.Trans,{id:"input.timespan.to"}),fullWidth:!1}))})});function ne(){var e=Object(h.a)(["\n  display: flex;\n  align-items: baseline;\n  margin: 0 0 0.3rem 0;\n  h5 {\n    width: 5rem;\n  }\n  & .range {\n    display: flex;\n    margin: 0 2rem 0 0;\n    padding-right: 1rem;\n    background: ",";\n    border-radius: ",";\n  }\n  .remove-btn {\n    margin-right: 1rem;\n  }\n"]);return ne=function(){return e},e}var te=g.default.article(ne(),y.a.white,y.c.Button),re=a.a.memo(function(e){var n=e.weekday,t=e.hours,r=e.onAdd,c=e.onRemove,i=function(e){return a.a.createElement("div",{key:e.id,"data-testid":"bh-range",className:"range"},a.a.createElement(G.a,{className:"remove-btn"},a.a.createElement(O.a,{title:o.b._("Remove business hour"),role:"button",onClick:function(){return c(e.id)}},a.a.createElement(Y.i,null))),a.a.createElement(ee,{hour:e}))};return Object(z.useObserver)(function(){return a.a.createElement(te,null,a.a.createElement("h5",null,n.code),0===t.length?a.a.createElement("em",null,a.a.createElement(d.Trans,{id:"Closed"})):t.map(i),a.a.createElement(G.a,null,a.a.createElement(O.a,{title:o.b._("Add business hour"),role:"button",onClick:r},a.a.createElement(Y.b,null))))})}),ae=H.DFP.parse(new Date,"H:mm"),ce=function(){return Object(z.useObserver)(function(){var e=Object(P.b)().settings,n=Object(U.pb)({branchId:e.branchId}),t=n.data,r=n.loading,c=a.a.useState(function(){return Object(R.observable)(new Map)}),i=Object(W.a)(c,1)[0],l=Object(U.x)(),u=Object(W.a)(l,1)[0];a.a.useEffect(function(){if(!r)return 0===i.size&&t.weekDays.forEach(function(e){i.set(e.enum,R.observable.array([]))}),t.businessHours.forEach(function(e){var n=e.id,t=e.openAt,r=e.closeAt,a=e.weekDay;a&&i.get(a.enum).push({id:n,openAt:ae(t),closeAt:ae(r),weekDay:a.enum})}),function(){i.forEach(function(e){e.clear()})}},[r,e.branchId]);var s=a.a.useRef(0),d=function(e){return function(n){var t=i.get(e),r=t.findIndex(H.RM.propEq("id",n));r>=0&&t.splice(r,1)}},m=Object(V.a)().enqueueSuccess,f=a.a.useCallback(Object(T.a)(B.a.mark(function n(){var t;return B.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],i.forEach(function(e,n){t.push.apply(t,Object(F.a)(e.map(function(e){return{openAt:Object(Q.e)(e.openAt),closeAt:Object(Q.e)(e.closeAt),weekDay:n}})))}),n.next=4,u({branchId:e.branchId,hours:t});case 4:n.sent&&m(o.b._("Regular business hours has been updated"));case 6:case"end":return n.stop()}},n)})),[]);return r||0===i.size?a.a.createElement(L.a,null):a.a.createElement("div",null,t.weekDays.map(function(e){return a.a.createElement(re,{key:e.enum,weekday:e,hours:i.get(e.enum),onAdd:(n=e.enum,function(){i.get(n).push({weekDay:n,id:"L".concat(s.current++),openAt:H.DFP.startOfDay(new Date),closeAt:H.DFP.endOfDay(new Date)})}),onRemove:d(e.enum)});var n}),a.a.createElement(q.a,{width:20},a.a.createElement(_.a,{margin:"1rem"},a.a.createElement(O.a,{text:o.b._("Save regular hours"),color:y.a.green,onClick:f}))))})},ie=t(72),oe=t(6965),le=t(52),ue=function(e){var n=e.field,t=Object(le.a)(e,["field"]);return a.a.createElement(p.Field,{field:n,render:function(e){return a.a.createElement(K,Object.assign({value:e.value,onChange:function(n){return e.setValue(n)},onOpen:function(){return e.setTouched(!0)}},t))}})};function se(){var e=Object(h.a)(["\n  width: 5rem;\n  display: inline-block;\n"]);return se=function(){return e},e}var de,me=g.default.div(se()),fe=function(e){var n=e.fieldFrom,t=e.fieldTo;return a.a.createElement(a.a.Fragment,null,a.a.createElement(me,null,a.a.createElement(ue,{field:n,label:a.a.createElement(d.Trans,{id:"input.timespan.from"}),fullWidth:!1})),a.a.createElement(me,null,a.a.createElement(ue,{field:t,label:a.a.createElement(d.Trans,{id:"input.timespan.to"}),fullWidth:!1})))},be=t(6859),ve=t(361),he=t(197),pe=t(249),ge=t(6847);var Ee=(de={},Object(he.a)(de,ve.b.TIMESPAN,Object(pe.i18nMark)("Open between")),Object(he.a)(de,ve.b.FULLDAY,Object(pe.i18nMark)("Closed")),de),Oe=a.a.memo(function(){var e=Object(P.b)().settings.businessHours;return a.a.createElement(ge.a,{items:[ve.b.TIMESPAN,ve.b.FULLDAY],selectedItem:e.specificMode,formatItem:function(e){return o.b._(Ee[e])},onSingleSelection:function(n){return e.changeSpecificMode(n)}})});function ye(){var e=Object(h.a)(["\n  display: inline-block;\n  width: 16rem;\n  min-height: 6rem;\n  margin: 0rem 0 0 1rem;\n  vertical-align: top;\n"]);return ye=function(){return e},e}function je(){var e=Object(h.a)(["\n  display: inline-block;\n  width: 13rem;\n  margin-left: 1rem;\n  margin-top: 2rem;\n"]);return je=function(){return e},e}var we=g.default.div(je()),ke=g.default.div(ye()),xe=function(e){var n=Object(P.b)().settings.businessHours;return a.a.createElement(p.Form,{onSubmit:n.submitSpecificHour,defaultValues:Me()},a.a.createElement(we,null,a.a.createElement(oe.a,{field:"date",format:Q.g,minDate:new Date,fullWidth:!0,label:a.a.createElement(d.Trans,{id:"Date"})})),a.a.createElement(ke,null,a.a.createElement(Oe,null),a.a.createElement(z.Observer,null,function(){return n.specificMode===ve.b.TIMESPAN?a.a.createElement(fe,{fieldFrom:"openAt",fieldTo:"closeAt"}):a.a.createElement(q.a,{width:13},a.a.createElement(E.a,{field:"note",inputFullWidth:!0,placeholder:o.b._("Closing reason")}))})),a.a.createElement(be.a,{width:"9rem"},o.b._("Add")))};function Me(){var e=new Date;return{date:e,openAt:Object(ie.setHours)(Object(ie.setMinutes)(e,0),9),closeAt:Object(ie.setHours)(Object(ie.setMinutes)(e,0),20)}}var Ce=t(34),Se=t(6848),De=t(6963),Ae=t(6870),Ne=function(e){var n=e.bsHour,t=e.onDelete;return a.a.createElement(De.a,null,a.a.createElement(Se.a,{fixedWidth:!0},a.a.createElement(A.a,{mutationName:"destroyBusinessHour"},a.a.createElement(Ae.a,{onDelete:t,confirmText:"".concat(o.b._("Really remove specific business hour {0}?",{0:n.specificDateLocalized}))}))),a.a.createElement(Se.a,{fixedWidth:!0,width:"14rem"},n.specificDateLocalized),a.a.createElement(Se.a,{widthGrowIndex:1},function(e){if(e.closed)return e.closedNote;return"".concat(e.openAt," - ").concat(e.closeAt)}(n)))};var _e=t(506),Ie=Ce.a.sort(Ce.a.ascend(Ce.a.or(Ce.a.prop("specificDate"),Ce.a.not))),Be=function(){var e=Object(P.b)().settings;return Object(z.useObserver)(function(){return a.a.createElement(_e.a,{variables:{branchId:e.branchId},fetchPolicy:"cache-and-network",renderFragment:function(n){var t=n.businessHours;return Ie(t).map(function(n){return a.a.createElement(Ne,{key:n.id,bsHour:n,onDelete:function(){return e.businessHours.deleteSpecificHour(n.id)}})})}})})},Fe=function(){return a.a.createElement(b.a,{pageTitle:o.b._("Business hours"),useBackButton:!0},a.a.createElement(m.a,null,a.a.createElement(v.a,null),a.a.createElement(N.a,{queryName:"businessHours"},a.a.createElement(f.a,null,a.a.createElement(_.a,{margin:"1rem 0"},a.a.createElement(d.Trans,{id:"Regular business hours"}))),a.a.createElement(ce,null)),a.a.createElement(f.a,null,a.a.createElement(_.a,{margin:"1rem 0"},a.a.createElement(d.Trans,{id:"Specific business hours"}))),a.a.createElement(Be,null),a.a.createElement(A.a,{mutationName:"addSpecialBusinessHour"},a.a.createElement(f.a,null,a.a.createElement(_.a,{margin:"1rem 0"},a.a.createElement(d.Trans,{id:"Add specific business hour"}))),a.a.createElement(xe,null))))},Te=function(e){var n=e.match;return a.a.createElement(c.Switch,null,a.a.createElement(s.a,{exact:!0,path:n.path,component:Fe}),a.a.createElement(c.Route,{component:l.a}))},We=t(341),He=t(6866),Re=function(e){return a.a.createElement(O.a,{text:o.b._("Business hours"),iconName:"av_timer",color:y.a.red})},ze=function(e){return a.a.createElement(O.a,{text:o.b._("Categories"),iconName:"folder",color:y.a.turquoise})},Le=function(e){return a.a.createElement(O.a,{text:o.b._("Recipes"),iconName:"insert_drive_file",color:y.a.turquoise})},Pe=function(e){return a.a.createElement(O.a,{text:o.b._("Stock overview"),iconName:"assignment",color:y.a.turquoise})},qe=function(e){return a.a.createElement(O.a,{text:o.b._("Stock deposit"),iconName:"open_in_browser",color:y.a.turquoise})},Ue=function(){return a.a.createElement(O.a,{text:o.b._("User"),iconName:"person",color:y.a.greyMiddle})},Qe=function(e){return a.a.createElement(O.a,{text:o.b._("Delivery zones"),iconName:"edit_location",color:y.a.violet})};var Ve=function(e){return a.a.createElement(We.a,{layouts:[{i:"BusinessHours",x:0,y:1,w:2,h:2},{i:"Preferences",x:2,y:1,w:2,h:2},{i:"ZonesMenu",x:4,y:1,w:2,h:2},{i:"UserMenu",x:6,y:1,w:2,h:2},{i:"MenuRecipe",x:0,y:3,w:2,h:2},{i:"MenuCategory",x:2,y:3,w:2,h:2},{i:"MenuStock",x:4,y:3,w:2,h:2},{i:"MenuStockDeposit",x:6,y:3,w:2,h:2}]},a.a.createElement(He.a,{key:"BusinessHours",route:"/settings/businesshours",component:Re,canQuery:"businessHours"}),a.a.createElement(He.a,{key:"MenuRecipe",route:"/settings/menu/recipe",component:Le,canQuery:"recipes"}),a.a.createElement(He.a,{key:"MenuCategory",route:"/settings/menu/category",component:ze,canQuery:"wareCategories"}),a.a.createElement(He.a,{key:"MenuStock",route:"/settings/menu/stock",component:Pe,canQuery:"stockItems"}),a.a.createElement(He.a,{key:"MenuStockDeposit",route:"/settings/menu/stock/deposit",component:qe,canMutate:"changeAmountStockItem"}),a.a.createElement(He.a,{key:"ZonesMenu",route:"/settings/zones",component:Qe,canQuery:"zones"}),a.a.createElement(He.a,{key:"UserMenu",route:"/settings/user",component:Ue,canQuery:"user"}))};t.d(n,"SettingsRoutes",function(){return Ze});var Ye=a.a.lazy(function(){return Promise.all([t.e(165),t.e(177),t.e(181)]).then(t.bind(null,7993))}),Ge=a.a.lazy(function(){return Promise.all([t.e(3),t.e(165),t.e(180)]).then(t.bind(null,7989))}),Je=a.a.lazy(function(){return t.e(187).then(t.bind(null,7999))}),Ze=function(e){var n=e.match;return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a.Route,{path:n.path,title:o.b._("Settings")}),a.a.createElement(c.Switch,null,a.a.createElement(s.a,{exact:!0,path:n.path,component:Ve}),a.a.createElement(u.a,{path:"".concat(n.path,"/menu"),component:Ge}),a.a.createElement(u.a,{path:"".concat(n.path,"/zones"),component:Ye}),a.a.createElement(u.a,{path:"".concat(n.path,"/user"),component:Je}),a.a.createElement(c.Route,{path:"".concat(n.path,"/businesshours"),component:Te}),a.a.createElement(c.Route,{path:"".concat(n.path,"/preferences"),component:D}),a.a.createElement(c.Route,{component:l.a})))};n.default=Ze}}]);
//# sourceMappingURL=178.0b30d792.chunk.js.map