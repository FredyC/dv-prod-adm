(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{1456:function(e,n,t){"use strict";t.d(n,"a",function(){return f});var a=t(5),r=t(2607),c=t(0),i=t.n(c),o=t(26),l=t(43),u=t(19),s=t(185);function d(){var e=Object(a.a)(["\n  display: flex;\n\n  div.description {\n    margin: ",";\n    min-width: ",";\n    flex: 0 0 auto;\n    text-align: right;\n  }\n\n  div.contents {\n    margin-left: 0.5rem;\n    align-self: stretch;\n    flex: 1 1 auto;\n  }\n\n  div.label {\n    padding-top: 0.2rem;\n    display: inline-block;\n  }\n"]);return d=function(){return e},e}var m=o.default.div(d(),function(e){return e.labelMargin},function(e){var n=e.labelWidth,t=e.labelWidthUnits;return"".concat(n).concat(t)}),f=function(e){var n=e.icon,t=e.label,a=e.labelWidth,c=void 0===a?0:a,o=e.labelWidthUnits,d=void 0===o?u.d.DefaultSizeUnit:o,f=e.labelMargin,b=void 0===f?"0.5rem 0.2rem 0 auto":f,v=e.children,h=n;return"string"===typeof n&&(Object(l.c)('IconLine: Do not use icon prop as string! Replace "'.concat(n,'" with the one imported from @material-ui/icons.')),h=r.a),i.a.createElement(m,{labelWidth:c,labelWidthUnits:d,labelMargin:b},i.a.createElement("div",{className:"description"},i.a.createElement(s.a,{icon:h,color:u.a.greyDark}),t?i.a.createElement("div",{className:"label"},t):null),i.a.createElement("div",{className:"contents"},v))}},1457:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var a=t(62),r=t(0),c=t.n(r),i=t(1465),o=t(57),l=function(e){var n=e.mutationName,t=e.children,r=Object(o.b)().user;return Object(a.useObserver)(function(){return r.canMutate(n)?c.a.createElement(c.a.Fragment,null,t):c.a.createElement(i.a,null,"No access to mutation ".concat(n))})}},1458:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var a=t(46),r=t(0),c=t.n(r),i=t(1521),o=t(19),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)({},e,{control:function(n,t){var r=t.selectProps,c=r.width,i=r.minWidth,l=Object(a.a)({},n,{border:"1px solid ".concat(o.a.greyMiddle),margin:o.d.MarginAroundFormComponents,width:void 0!==c?"".concat(c,"rem"):"100%",minWidth:void 0!==i?"".concat(i,"rem"):"8rem"});return e.control?e.control(l,t):l},menu:function(n,t){var r=t.selectProps.width,c=Object(a.a)({},n,{zIndex:20,color:o.a.black,width:void 0!==r?"".concat(r,"rem"):"100%"});return e.menu?e.menu(c,t):c},valueContainer:function(n,t){var r=t.selectProps.maxHeight,c=Object(a.a)({},n,{maxHeight:void 0!==r?"".concat(r,"rem"):"100%",overflowY:void 0!==r?"scroll":"hidden"});return e.valueContainer?e.valueContainer(c,t):c}})};function u(e){return c.a.createElement(i.b,Object.assign({},e,{styles:l(e.styles)}))}},1459:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t(26),r=t(1464),c=t(19),i=a.default.input.attrs(function(e){var n=e.invalid,t=void 0!==n&&n,a=e.inputFullWidth,c=void 0!==a&&a;return{className:Object(r.cn)({invalid:t,fullWidth:c})}}).withConfig({displayName:"FormInputStyled",componentId:"sc-18qocdt-0"})(["margin:",";&.invalid{border:1px red solid;background-color:#ff000011;}&.fullWidth{width:100%;}"],c.d.MarginAroundFormComponents)},1462:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var a=t(5),r=t(26),c=t(19);function i(){var e=Object(a.a)(["\n  color: ",";\n  font-weight: lighter;\n  margin: ",";\n  font-size: ",";\n"]);return i=function(){return e},e}var o=r.default.h2(i(),function(e){var n=e.light;return void 0!==n&&n?c.a.greyLight:c.a.greyDarkest},function(e){var n=e.margin;return void 0===n?"0 0.5rem 0 0.5rem":n},function(e){return"smaller"===e.size&&"1rem"})},1463:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var a=t(58),r=t(0),c=t.n(r),i=t(1455),o=t(1489),l=t(45),u=t(1459),s=c.a.forwardRef(function(e,n){var t=e.field,r=e.inputFullWidth,s=void 0!==r&&r,d=e.isRequired,m=e.validatioName,f=e.validationMessage,b=e.validate,v=Object(a.a)(e,["field","inputFullWidth","isRequired","validatioName","validationMessage","validate"]);return c.a.createElement(i.Field,{field:t,validate:b||function(e){return d&&Object(o.isEmpty)(e+"")?f||l.b._("{validatioName} is required",{validatioName:m}):null}},function(e){return c.a.createElement(u.a,Object.assign({value:e.value||0===e.value?e.value:"",onChange:function(n){n.target.validity.valid&&(e.setTouched(!0),e.setValue(n.target.value))},inputFullWidth:s,invalid:Boolean(e.error),ref:n},v))})})},1465:function(e,n,t){"use strict";t.d(n,"a",function(){return a});t(0);var a=function(e){e.children;return null}},1466:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var a=t(62),r=t(0),c=t.n(r),i=t(1465),o=t(57),l=function(e){var n=e.queryName,t=e.children,r=Object(o.b)().user;return Object(a.useObserver)(function(){return r.canQuery(n)?c.a.createElement(c.a.Fragment,null,t):c.a.createElement(i.a,null,"No access to query ".concat(n))})}},1467:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var a=t(5);function r(){var e=Object(a.a)(["\n  flex: ",";\n  padding: ",";\n  margin: ",";\n"]);return r=function(){return e},e}var c=t(26).default.div(r(),function(e){var n=e.fixedWidth,t=void 0!==n&&n,a=e.width,r=e.widthGrowIndex,c=void 0===r?0:r;return t?a?"0 0 ".concat(a):"0 0":"".concat(c," 0")},function(e){var n=e.padding;return void 0===n?"0.25rem":n},function(e){var n=e.margin;return void 0===n?"":n})},1470:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var a=t(20),r=t(0),c=t.n(r),i=t(57);function o(e){var n=Object(i.b)().user;c.a.useEffect(function(){return Object(a.autorun)(function(){n.isReady&&n.hasSingleBranch&&e(n.branches[0])})})}},1471:function(e,n,t){"use strict";t.d(n,"a",function(){return m});var a=t(5),r=t(98),c=t(1464),i=t(0),o=t.n(i),l=t(26),u=t(31);function s(){var e=Object(a.a)(["\n  ","\n\n  color: ",";\n\n  &.interactive {\n    cursor: pointer;\n  }\n\n  &.invalid {\n    border: 1px red solid;\n  }\n\n  > div {\n    margin: 0.5rem 0.6rem;\n    display: inline-block;\n  }\n\n  > div.active {\n    font-weight: bolder;\n    text-decoration: underline;\n  }\n"]);return s=function(){return e},e}var d=l.default.div(s(),function(e){return""},function(e){var n=e.textColor;return n||"inherit"}),m=function(e){var n=e.items,t=e.formatItem,a=void 0===t?u.a.prop("displayName"):t,i=e.isMulti,l=void 0!==i&&i,s=e.isClearable,m=void 0!==s&&s,f=e.isInvalid,b=void 0!==f&&f,v=e.selectedItem,h=e.selectedItems,p=e.onSingleSelection,g=e.onMultiSelection,E=e.textColor,O=1===n.length,y=function(e){return 1!==n.length&&(l&&Array.isArray(h)?u.a.contains(e,h):u.a.equals(v,e))},j=function(e){O||(null===e?l&&g?g([]):p&&p(null):l&&g?y(e)?g(Array.isArray(h)?u.a.without([e],h):[e]):g(Array.isArray(h)?u.a.concat(h,[e]):[]):p&&p(e))};return o.a.createElement(d,{className:Object(c.cn)({invalid:b,interactive:!O}),textColor:E},m&&o.a.createElement("div",{className:Object(c.cn)({active:!(l?Array.isArray(h)&&h.length>0:null!==v&&void 0!==v)}),onClick:function(){j(null)}},o.a.createElement(r.Trans,{id:"optionselector.clear-filter"})),n.map(function(e,n){var t=a(e);return o.a.createElement("div",{key:n,className:Object(c.cn)({active:y(e)}),onClick:function(){j(e)}},t)}))}},1475:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(57),i=t(31),o=t(1497),l=t(58),u=t(1471),s=t(19),d=function(e){var n=e.branches,t=e.selectedBranch,a=e.selectedBranches,c=e.textColor,i=void 0===c?s.a.black:c,o=Object(l.a)(e,["branches","selectedBranch","selectedBranches","textColor"]);return r.a.createElement(u.a,Object.assign({items:n,selectedItem:t,selectedItems:a,textColor:i,formatItem:function(e){return r.a.createElement("span",{title:e.brand.name},e.name)}},o))};t.d(n,"a",function(){return m});var m=function(e){var n=e.breakpoint,t=void 0===n?3:n,a=e.branches,l=e.selectedBranches,u=void 0===l?[]:l,s=e.isMulti,m=void 0!==s&&s,f=e.isClearable,b=void 0===f||f,v=e.hideWhenSingleBranch,h=void 0!==v&&v,p=e.textColor,g=e.onSelectionChange,E=e.onSelectionClear,O=e.getDropdownProps,y=void 0===O?function(){return{}}:O,j=Object(c.b)().user,w=function(e){return u.includes(e.id)},k={textColor:p,isClearable:b,isMulti:m,branches:a||j.branches,selectedBranch:j.branches.find(w)||null,selectedBranches:j.branches.filter(w),onSingleSelection:function(e){null===e&&E?E():null!==e&&g&&g([e.id],[e])},onMultiSelection:function(e){0===e.length&&E?E():e.length&&g&&g(e.map(i.a.prop("id")),e)}};return j.hasSingleBranch&&h?null:j.branches.length<t?r.a.createElement(d,k):r.a.createElement(o.a,Object.assign({},k,y()))}},1476:function(e,n,t){var a={"./cs.svg":1477,"./de.svg":1478,"./en.svg":1479,"./pl.svg":1480,"./sk.svg":1481};function r(e){var n=c(e);return t(n)}function c(e){var n=a[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=1476},1482:function(e,n,t){var a={"./logo-doveze.svg":1483,"./logo-gopay.svg":1484,"./logo-mastercard.svg":1485,"./logo-visa.svg":1486};function r(e){var n=c(e);return t(n)}function c(e){var n=a[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=1482},1488:function(e,n,t){"use strict";var a=t(91),r=t(0),c=t.n(r),i=t(49),o=Object(i.a)(c.a.createElement("path",{d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"}),"StoreMallDirectory"),l=t(62),u=t(1456),s=t(57),d=t(1470),m=t(1475);t.d(n,"a",function(){return f});var f=function(e){var n=e.isMulti,t=e.width,r=Object(s.b)(),i=r.settings,f=r.user;return Object(d.a)(function(e){i.selectBranch(e.id)}),Object(l.useObserver)(function(){return f.hasSingleBranch?null:c.a.createElement(u.a,{icon:o},c.a.createElement(m.a,{selectedBranches:i.branchId?[i.branchId]:void 0,onSelectionChange:function(e){var n=Object(a.a)(e,1)[0];return i.selectBranch(n)},isMulti:n,isClearable:!1,getDropdownProps:function(){return{width:t}},hideWhenSingleBranch:!0}))})}},1497:function(e,n,t){"use strict";var a=t(46),r=t(58),c=t(98),i=t(0),o=t.n(i),l=t(5);function u(){var e=Object(l.a)(["\n  cursor: ",";\n"]);return u=function(){return e},e}var s=t(26).default.div(u(),function(e){var n=e.cursor;return void 0===n?"default":n}),d=function(e){var n=e.branch,t=e.onClick,a=e.short,r=void 0!==a&&a,c=e.showBrand,i=void 0===c||c;return o.a.createElement(s,{cursor:"pointer",onClick:t},r?n.name.substr(0,8):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,n.name),i&&o.a.createElement("span",null," [".concat(n.brand.name,"]"))))},m=t(1458),f=t(31),b=t(45),v=t(19);t.d(n,"a",function(){return p});var h=function(e){var n=e.getStyles,t=e.innerProps,a=t.ref,i=Object(r.a)(t,["ref"]);return o.a.createElement("div",Object.assign({},i,{ref:a,style:n("clearIndicator",e)}),o.a.createElement("div",{style:{padding:"0px 5px"}},o.a.createElement(c.Trans,{id:"All"})))},p=function(e){var n=e.branches,t=e.selectedBranch,c=e.onSingleSelection,i=e.selectedBranches,l=e.onMultiSelection,u=Object(r.a)(e,["branches","selectedBranch","onSingleSelection","selectedBranches","onMultiSelection"]);return o.a.createElement(m.a,Object.assign({value:u.isMulti?i:t,placeholder:u.isMulti?b.b._("Filter branches..."):b.b._("Select a branch"),maxHeight:v.d.ButtonHeight,options:n,getOptionValue:f.a.prop("id"),formatOptionLabel:function(e){return o.a.createElement(d,{branch:e})},filterOption:function(e,n){return e.data.name.toLocaleLowerCase().includes(n.toLocaleLowerCase())},closeMenuOnSelect:!u.isMulti,components:{ClearIndicator:h},styles:{clearIndicator:function(e){return Object(a.a)({},e,{cursor:"pointer"})}},onChange:function(e){u.isMulti&&l&&Array.isArray(e)&&l(e),!u.isMulti&&c&&(Array.isArray(e)?c(f.a.head(e)||null):c(e||null))}},u))}},1503:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var a=t(58),r=t(0),c=t.n(r),i=t(1455),o=t(1504),l=t(139),u=t(19),s=function(e){var n=e.children,t=Object(a.a)(e,["children"]);return c.a.createElement(i.FormApi,null,function(e){return c.a.createElement(l.a,Object.assign({color:u.a.green,disabled:!Object(o.a)(e)||e.submitting,onClick:function(n){n.preventDefault(),e.submitForm(n)}},t),n)})}},1504:function(e,n,t){"use strict";t.d(n,"a",function(){return c}),t.d(n,"b",function(){return i});var a=t(1489),r=t(45);function c(e){return!e.errors||0===Object.keys(e.errors).length}function i(e){return function(n){return Object(a.isEmpty)(n+"")?r.b._("{fieldName} must be entered",{fieldName:e}):null}}},1505:function(e,n,t){"use strict";t.d(n,"a",function(){return m});var a=t(58),r=t(0),c=t.n(r),i=t(81),o=t(1457),l=t(1466),u=t(331),s=t(141),d=t(19),m=function(e){var n=e.route,t=e.component,m=e.canQuery,f=e.canMutate,b=Object(a.a)(e,["route","component","canQuery","canMutate"]),v=n?c.a.createElement(i.b,{to:n},Object(r.createElement)(t)):Object(r.createElement)(t);return m&&(v=c.a.createElement(l.a,{queryName:m},v)),f&&(v=c.a.createElement(o.a,{mutationName:f},v)),c.a.createElement(u.a,b,c.a.createElement(s.a,{height:d.d.DashboardButtonHeight},v))}},1507:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var a=t(1559),r=t(1496),c=t(0),i=t.n(c),o=function(e){var n=e.children;return i.a.createElement(r.c,{utils:a.a},n)}},1513:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var a=t(58),r=t(1693),c=t(0),i=t.n(c),o=t(330),l=t(19),u=t(139),s=function(e){var n=e.onDelete,t=e.confirmText,c=Object(a.a)(e,["onDelete","confirmText"]);return i.a.createElement(o.a,null,i.a.createElement(u.a,Object.assign({icon:r.a,color:l.a.greyMiddle,onClick:function(e){e.preventDefault(),t&&!window.confirm(t)||n()}},c)))}},1546:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var a=t(58),r=t(0),c=t.n(r),i=t(1455),o=t(1566),l=function(e){var n=e.field,t=e.label,r=e.defaultValue,l=(e.children,Object(a.a)(e,["field","label","defaultValue","children"]));return c.a.createElement(o.a,null,c.a.createElement(i.Checkbox,Object.assign({field:n,checked:Boolean(r)},l)),t&&c.a.createElement("label",null,t))}},1566:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var a=t(5),r=t(26),c=t(19);function i(){var e=Object(a.a)(["\n  input {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    background-color: ",";\n    border: 1px solid ",";\n    padding: 1rem;\n    border-radius: ",";\n    display: inline-block;\n    position: relative;\n    margin: ",";\n    outline: none;\n    &:checked {\n      background-color: ",";\n      border: 1px solid ",";\n    }\n    &:checked:after {\n      content: '\\2714';\n      font-size: 2rem;\n      position: absolute;\n      top: -0.5rem;\n      left: 0.1rem;\n      color: ",";\n      overflow: hidden;\n    }\n    &:disabled {\n      background-color: ",";\n    }\n    &:disabled:after {\n      color: ",";\n    }\n    &:focus {\n      border: 2px solid #86a8df;\n    }\n  }\n  label {\n    display: inline-block;\n    margin: 0.4rem 0 0 0.5rem;\n    vertical-align: top;\n  }\n"],["\n  input {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    background-color: ",";\n    border: 1px solid ",";\n    padding: 1rem;\n    border-radius: ",";\n    display: inline-block;\n    position: relative;\n    margin: ",";\n    outline: none;\n    &:checked {\n      background-color: ",";\n      border: 1px solid ",";\n    }\n    &:checked:after {\n      content: '\\\\2714';\n      font-size: 2rem;\n      position: absolute;\n      top: -0.5rem;\n      left: 0.1rem;\n      color: ",";\n      overflow: hidden;\n    }\n    &:disabled {\n      background-color: ",";\n    }\n    &:disabled:after {\n      color: ",";\n    }\n    &:focus {\n      border: 2px solid #86a8df;\n    }\n  }\n  label {\n    display: inline-block;\n    margin: 0.4rem 0 0 0.5rem;\n    vertical-align: top;\n  }\n"]);return i=function(){return e},e}var o=r.default.span(i(),c.a.white,c.a.greyMiddle,c.c.TextComponent,c.d.MarginAroundFormComponents,c.a.white,c.a.greyMiddle,c.a.greyDark,c.a.greyLight,c.a.greyMiddle)},1567:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var a=t(5),r=t(26),c=t(19);function i(){var e=Object(a.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-bottom: 1px solid ",";\n  padding: 0.1rem 0 0.1rem 0;\n"]);return i=function(){return e},e}var o=r.default.div(i(),c.a.greyMiddle)},1568:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var a=t(1593),r=t(0),c=t.n(r),i=t(45),o=t(139),l=t(19),u=function(e){return c.a.createElement(o.a,{text:i.b._("Stock overview"),icon:a.a,color:l.a.violet})}},1572:function(e,n,t){"use strict";var a=t(58),r=t(0),c=t.n(r),i=t(1455),o=t(257),l=t(1496),u=t(1507),s=function(e){return c.a.createElement(u.a,null,c.a.createElement(l.a,Object.assign({variant:"inline",format:"ll",maxDateMessage:o.i18n._("Date is too much in the future"),minDateMessage:o.i18n._("Date is too much in the past")},e)))};t.d(n,"a",function(){return d});var d=function(e){var n=e.field,t=Object(a.a)(e,["field"]);return c.a.createElement(i.Field,{field:n,render:function(e){return c.a.createElement(s,Object.assign({value:e.value,onChange:function(n){return e.setValue(n)},onOpen:function(){return e.setTouched(!0)}},t))}})}},1593:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(49);n.a=Object(c.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"}),r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),"Inbox")},1693:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(49);n.a=Object(c.a)(r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},2554:function(e,n,t){"use strict";var a=t(0),r=t.n(a),c=t(49);n.a=Object(c.a)(r.a.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person")},2620:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(74),i=t(186),o=t(45),l=t(208),u=t(503),s=t(127),d=t(98),m=t(203),f=t(1462),b=t(204),v=t(1488),h=t(5),p=t(1455),g=t(26),E=t(1463),O=t(139),y=t(19),j=function(e){return r.a.createElement(O.a,{text:o.b._("Save invoice preferences"),color:y.a.green})};function w(){var e=Object(h.a)(["\n  margin-top: 1rem;\n  width: 15rem;\n"]);return w=function(){return e},e}var k=g.default.div(w()),C=function(e){return r.a.createElement(p.Form,null,r.a.createElement(E.a,{field:"account",placeholder:"N\xe1zev firmy"}),r.a.createElement("br",null),r.a.createElement(E.a,{field:"number",placeholder:"I\u010c"}),r.a.createElement(E.a,{field:"vatIdent",placeholder:"DI\u010c"}),r.a.createElement(k,null,r.a.createElement(j,null)))},M=t(1546),x=function(e){return r.a.createElement(p.Form,null,r.a.createElement(M.a,{field:"onlyPersonalPickup",label:o.b._("We are not delivering, only take away.")}),r.a.createElement("br",null),r.a.createElement(M.a,{field:"stoppage",label:o.b._("Completely stop all orders.")}))},D=function(e){return r.a.createElement(b.a,{pageTitle:o.b._("Branch preferences")},r.a.createElement(m.a,null,r.a.createElement(v.a,null),r.a.createElement(f.a,null,r.a.createElement(d.Trans,{id:"branch.preferences.stoppage"})),r.a.createElement(x,null),r.a.createElement(f.a,null,r.a.createElement(d.Trans,{id:"Change of invoice preferences"})),r.a.createElement(C,null)))},S=function(e){var n=e.match;return r.a.createElement(c.Switch,null,r.a.createElement(s.a,{exact:!0,path:n.path,component:D}),r.a.createElement(c.Route,{component:l.a}))},A=t(1457),z=t(1466),I=t(334),H=t(25),F=t.n(H),N=t(205),B=t(36),T=t(91),_=t(107),R=t(20),W=t(62),L=t(335),P=t(57),V=t(141),q=t(41),U=t(184),Q=t(207),Y=t(1693),G=t(1691),J=t(330),Z=t(1496),K=t(1507),X=function(e){return r.a.createElement(K.a,null,r.a.createElement(Z.d,Object.assign({format:"LT",variant:"inline"},e)))};function $(){var e=Object(h.a)(["\n  & input {\n    width: 5rem;\n  }\n"]);return $=function(){return e},e}var ee=g.default.div($()),ne=r.a.memo(function(e){var n=e.hour;return Object(W.useObserver)(function(){return r.a.createElement(ee,null,r.a.createElement(X,{value:n.openAt,onChange:function(e){return n.openAt=e},label:r.a.createElement(d.Trans,{id:"input.timespan.from"}),fullWidth:!1}),r.a.createElement(X,{value:n.closeAt,onChange:function(e){return n.closeAt=e},label:r.a.createElement(d.Trans,{id:"input.timespan.to"}),fullWidth:!1}))})});function te(){var e=Object(h.a)(["\n  display: flex;\n  align-items: baseline;\n  margin: 0 0 0.3rem 0;\n  h5 {\n    width: 5rem;\n  }\n  & .range {\n    display: flex;\n    margin: 0 2rem 0 0;\n    padding-right: 1rem;\n    background: ",";\n    border-radius: ",";\n  }\n  .remove-btn {\n    margin-right: 1rem;\n  }\n"]);return te=function(){return e},e}var ae=g.default.article(te(),y.a.white,y.c.Button),re=r.a.memo(function(e){var n=e.weekday,t=e.hours,a=e.onAdd,c=e.onRemove,i=function(e){return r.a.createElement("div",{key:e.id,"data-testid":"bh-range",className:"range"},r.a.createElement(J.a,{className:"remove-btn"},r.a.createElement(O.a,{title:o.b._("Remove business hour"),role:"button",onClick:function(){return c(e.id)}},r.a.createElement(Y.a,null))),r.a.createElement(ne,{hour:e}))};return Object(W.useObserver)(function(){return r.a.createElement(ae,null,r.a.createElement("h5",null,n.code),0===t.length?r.a.createElement("em",null,r.a.createElement(d.Trans,{id:"Closed"})):t.map(i),r.a.createElement(J.a,null,r.a.createElement(O.a,{title:o.b._("Add business hour"),role:"button",onClick:a},r.a.createElement(G.a,null))))})}),ce=_.DFP.parse(new Date,"H:mm"),ie=function(){return Object(W.useObserver)(function(){var e=Object(P.b)().settings,n=Object(q.ub)({branchId:e.branchId}),t=n.data,a=n.loading,c=r.a.useState(function(){return Object(R.observable)(new Map)}),i=Object(T.a)(c,1)[0],l=Object(q.y)(),u=Object(T.a)(l,1)[0];r.a.useEffect(function(){if(!a)return 0===i.size&&t.weekDays.forEach(function(e){i.set(e.enum,R.observable.array([]))}),t.businessHours.forEach(function(e){var n=e.id,t=e.openAt,a=e.closeAt,r=e.weekDay;r&&i.get(r.enum).push({id:n,openAt:ce(t),closeAt:ce(a),weekDay:r.enum})}),function(){i.forEach(function(e){e.clear()})}},[t.businessHours,t.weekDays,a,e.branchId]);var s=r.a.useRef(0),d=function(e){return function(n){var t=i.get(e),a=t.findIndex(_.RM.propEq("id",n));a>=0&&t.splice(a,1)}},m=Object(Q.a)().enqueueSuccess,f=r.a.useCallback(Object(B.a)(F.a.mark(function n(){var t;return F.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],i.forEach(function(e,n){t.push.apply(t,Object(N.a)(e.map(function(e){return{openAt:Object(U.e)(e.openAt),closeAt:Object(U.e)(e.closeAt),weekDay:n}})))}),n.next=4,u({branchId:e.branchId,hours:t});case 4:n.sent&&m(o.b._("Regular business hours has been updated"));case 6:case"end":return n.stop()}},n)})),[i,m,e.branchId,u]);return a||0===i.size?r.a.createElement(L.a,null):r.a.createElement("div",null,t.weekDays.map(function(e){return r.a.createElement(re,{key:e.enum,weekday:e,hours:i.get(e.enum),onAdd:(n=e.enum,function(){i.get(n).push({weekDay:n,id:"L".concat(s.current++),openAt:_.DFP.startOfDay(new Date),closeAt:_.DFP.endOfDay(new Date)})}),onRemove:d(e.enum)});var n}),r.a.createElement(V.a,{width:20},r.a.createElement(I.a,{margin:"1rem"},r.a.createElement(O.a,{text:o.b._("Save regular hours"),color:y.a.green,onClick:f}))))})},oe=t(88),le=t(1572),ue=t(58),se=function(e){var n=e.field,t=Object(ue.a)(e,["field"]);return r.a.createElement(p.Field,{field:n,render:function(e){return r.a.createElement(X,Object.assign({value:e.value,onChange:function(n){return e.setValue(n)},onOpen:function(){return e.setTouched(!0)}},t))}})};function de(){var e=Object(h.a)(["\n  width: 5rem;\n  display: inline-block;\n"]);return de=function(){return e},e}var me,fe=g.default.div(de()),be=function(e){var n=e.fieldFrom,t=e.fieldTo;return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,null,r.a.createElement(se,{field:n,label:r.a.createElement(d.Trans,{id:"input.timespan.from"}),fullWidth:!1})),r.a.createElement(fe,null,r.a.createElement(se,{field:t,label:r.a.createElement(d.Trans,{id:"input.timespan.to"}),fullWidth:!1})))},ve=t(1503),he=t(354),pe=t(206),ge=t(257),Ee=t(1471);var Oe=(me={},Object(pe.a)(me,he.b.TIMESPAN,Object(ge.i18nMark)("Open between")),Object(pe.a)(me,he.b.FULLDAY,Object(ge.i18nMark)("Closed")),me),ye=r.a.memo(function(){var e=Object(P.b)().settings.businessHours;return r.a.createElement(Ee.a,{items:[he.b.TIMESPAN,he.b.FULLDAY],selectedItem:e.specificMode,formatItem:function(e){return o.b._(Oe[e])},onSingleSelection:function(n){return e.changeSpecificMode(n)}})});function je(){var e=Object(h.a)(["\n  display: inline-block;\n  width: 16rem;\n  min-height: 6rem;\n  margin: 0rem 0 0 1rem;\n  vertical-align: top;\n"]);return je=function(){return e},e}function we(){var e=Object(h.a)(["\n  display: inline-block;\n  width: 13rem;\n  margin-left: 1rem;\n  margin-top: 2rem;\n"]);return we=function(){return e},e}var ke=g.default.div(we()),Ce=g.default.div(je()),Me=function(e){var n=Object(P.b)().settings.businessHours;return r.a.createElement(p.Form,{onSubmit:n.submitSpecificHour,defaultValues:xe()},r.a.createElement(ke,null,r.a.createElement(le.a,{field:"date",format:U.g,minDate:new Date,fullWidth:!0,label:r.a.createElement(d.Trans,{id:"Date"})})),r.a.createElement(Ce,null,r.a.createElement(ye,null),r.a.createElement(W.Observer,null,function(){return n.specificMode===he.b.TIMESPAN?r.a.createElement(be,{fieldFrom:"openAt",fieldTo:"closeAt"}):r.a.createElement(V.a,{width:13},r.a.createElement(E.a,{field:"note",inputFullWidth:!0,placeholder:o.b._("Closing reason")}))})),r.a.createElement(ve.a,{width:"9rem"},o.b._("Add")))};function xe(){var e=new Date;return{date:e,openAt:Object(oe.setHours)(Object(oe.setMinutes)(e,0),9),closeAt:Object(oe.setHours)(Object(oe.setMinutes)(e,0),20)}}var De=t(31),Se=t(1467),Ae=t(1567),ze=t(1513),Ie=function(e){var n=e.bsHour,t=e.onDelete;return r.a.createElement(Ae.a,null,r.a.createElement(Se.a,{fixedWidth:!0},r.a.createElement(A.a,{mutationName:"destroyBusinessHour"},r.a.createElement(ze.a,{onDelete:t,confirmText:"".concat(o.b._("Really remove specific business hour {0}?",{0:n.specificDateLocalized}))}))),r.a.createElement(Se.a,{fixedWidth:!0,width:"14rem"},n.specificDateLocalized),r.a.createElement(Se.a,{widthGrowIndex:1},function(e){if(e.closed)return e.closedNote;return"".concat(e.openAt," - ").concat(e.closeAt)}(n)))};var He=t(495),Fe=De.a.sort(De.a.ascend(De.a.or(De.a.prop("specificDate"),De.a.not))),Ne=function(){var e=Object(P.b)().settings;return Object(W.useObserver)(function(){return r.a.createElement(He.a,{variables:{branchId:e.branchId},fetchPolicy:"cache-and-network",renderFragment:function(n){var t=n.businessHours;return Fe(t).map(function(n){return r.a.createElement(Ie,{key:n.id,bsHour:n,onDelete:function(){return e.businessHours.deleteSpecificHour(n.id)}})})}})})},Be=function(){return r.a.createElement(b.a,{pageTitle:o.b._("Business hours"),useBackButton:!0},r.a.createElement(m.a,null,r.a.createElement(v.a,null),r.a.createElement(z.a,{queryName:"businessHours"},r.a.createElement(f.a,null,r.a.createElement(I.a,{margin:"1rem 0"},r.a.createElement(d.Trans,{id:"Regular business hours"}))),r.a.createElement(ie,null)),r.a.createElement(f.a,null,r.a.createElement(I.a,{margin:"1rem 0"},r.a.createElement(d.Trans,{id:"Specific business hours"}))),r.a.createElement(Ne,null),r.a.createElement(A.a,{mutationName:"addSpecialBusinessHour"},r.a.createElement(f.a,null,r.a.createElement(I.a,{margin:"1rem 0"},r.a.createElement(d.Trans,{id:"Add specific business hour"}))),r.a.createElement(Me,null))))},Te=function(e){var n=e.match;return r.a.createElement(c.Switch,null,r.a.createElement(s.a,{exact:!0,path:n.path,component:Be}),r.a.createElement(c.Route,{component:l.a}))},_e=t(1505),Re=t(333),We=t(1568),Le=t(49),Pe=Object(Le.a)(r.a.createElement("path",{d:"M11 17c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1zm0-14v4h2V5.08c3.39.49 6 3.39 6 6.92 0 3.87-3.13 7-7 7s-7-3.13-7-7c0-1.68.59-3.22 1.58-4.42L12 13l1.41-1.41-6.8-6.8v.02C4.42 6.45 3 9.05 3 12c0 4.97 4.02 9 9 9 4.97 0 9-4.03 9-9s-4.03-9-9-9h-1zm7 9c0-.55-.45-1-1-1s-1 .45-1 1 .45 1 1 1 1-.45 1-1zM6 12c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1z"}),"AvTimer"),Ve=function(e){return r.a.createElement(O.a,{text:o.b._("Business hours"),icon:Pe,color:y.a.red})},qe=Object(Le.a)(r.a.createElement("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),"Folder"),Ue=function(e){return r.a.createElement(O.a,{text:o.b._("Categories"),icon:qe,color:y.a.turquoise})},Qe=Object(Le.a)(r.a.createElement("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"}),"InsertDriveFile"),Ye=function(e){return r.a.createElement(O.a,{text:o.b._("Recipes"),icon:Qe,color:y.a.turquoise})},Ge=t(2554),Je=function(){return r.a.createElement(O.a,{text:o.b._("User"),icon:Ge.a,color:y.a.greyMiddle})},Ze=Object(Le.a)(r.a.createElement("path",{d:"M12 2C8.14 2 5 5.14 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm-1.56 10H9v-1.44l3.35-3.34 1.43 1.43L10.44 12zm4.45-4.45l-.7.7-1.44-1.44.7-.7c.15-.15.39-.15.54 0l.9.9c.15.15.15.39 0 .54z"}),"EditLocation"),Ke=function(e){return r.a.createElement(O.a,{text:o.b._("Delivery zones"),icon:Ze,color:y.a.violet})},Xe=function(e){return r.a.createElement(Re.a,{isForIconDashboard:!0},r.a.createElement(_e.a,{gridRow:1,gridColumn:1,gridColumnSpan:2,key:"BusinessHours",route:"/settings/businesshours",component:Ve,canQuery:"businessHours"}),r.a.createElement(_e.a,{gridRow:1,gridColumn:3,gridColumnSpan:2,key:"ZonesMenu",route:"/settings/zones",component:Ke,canQuery:"zones"}),r.a.createElement(_e.a,{gridRow:1,gridColumn:5,gridColumnSpan:2,key:"UserMenu",route:"/settings/user",component:Je,canQuery:"user"}),r.a.createElement(_e.a,{gridRow:2,gridColumn:1,gridColumnSpan:2,key:"MenuRecipe",route:"/settings/menu/recipe",component:Ye,canQuery:"recipes"}),r.a.createElement(_e.a,{gridRow:2,gridColumn:3,gridColumnSpan:2,key:"MenuCategory",route:"/settings/menu/category",component:Ue,canQuery:"wareCategories"}),r.a.createElement(_e.a,{gridRow:2,gridColumn:5,gridColumnSpan:2,route:"/settings/menu/stock",component:We.a,canQuery:"stockItems"}))};t.d(n,"SettingsRoutes",function(){return tn});var $e=r.a.lazy(function(){return Promise.all([t.e(165),t.e(188),t.e(184)]).then(t.bind(null,2621))}),en=r.a.lazy(function(){return Promise.all([t.e(2),t.e(165),t.e(178)]).then(t.bind(null,2617))}),nn=r.a.lazy(function(){return t.e(189).then(t.bind(null,2628))}),tn=function(e){var n=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a.Route,{path:n.path,title:o.b._("Settings")}),r.a.createElement(c.Switch,null,r.a.createElement(s.a,{exact:!0,path:n.path,component:Xe}),r.a.createElement(u.a,{path:"".concat(n.path,"/menu"),component:en}),r.a.createElement(u.a,{path:"".concat(n.path,"/zones"),component:$e}),r.a.createElement(u.a,{path:"".concat(n.path,"/user"),component:nn}),r.a.createElement(c.Route,{path:"".concat(n.path,"/businesshours"),component:Te}),r.a.createElement(c.Route,{path:"".concat(n.path,"/preferences"),component:S}),r.a.createElement(c.Route,{component:l.a})))};n.default=tn}}]);
//# sourceMappingURL=179.7b8a0205.chunk.js.map