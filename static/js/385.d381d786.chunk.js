(this.webpackJsonpspeedlo=this.webpackJsonpspeedlo||[]).push([[385],{1358:function(e,n,t){"use strict";t.d(n,"a",function(){return i}),t.d(n,"b",function(){return i});var a=t(18),r=t(1356),o=t(14),i=a.c.input.attrs(function(e){var n=e.invalid,t=void 0!==n&&n,a=e.inputFullWidth,o=void 0!==a&&a;return{className:Object(r.b)({invalid:t,fullWidth:o})}}).withConfig({displayName:"FormInputStyled",componentId:"sc-18qocdt-0"})(["margin:",";&.invalid{border:1px "," solid;background-color:",";}&.fullWidth{width:100%;}"],o.d.MarginAroundFormComponents,o.a.red,o.a.errorBackground)},1395:function(e,n,t){var a={"./cs.svg":1396,"./de.svg":1397,"./en.svg":1398,"./pl.svg":1399,"./sk.svg":1400};function r(e){var n=o(e);return t(n)}function o(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=1395},1401:function(e,n,t){var a={"./logo-doveze.svg":1402,"./logo-gopay.svg":1403,"./logo-mastercard.svg":1404,"./logo-visa.svg":1405};function r(e){var n=o(e);return t(n)}function o(e){if(!t.o(a,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=1401},1476:function(e,n,t){"use strict";t.d(n,"a",function(){return d});var a=t(4),r=t(18),o=t(1477),i=t.n(o),c=t(1478),s=t.n(c);function l(){var e=Object(a.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n\n  @media only screen and (-webkit-min-device-pixel-ratio: 1.3),\n    only screen and (min--moz-device-pixel-ratio: 1.3),\n    only screen and (-o-min-device-pixel-ratio: 2.6/2),\n    only screen and (min-device-pixel-ratio: 1.3),\n    only screen and (min-width: 1024px) {\n    background-image: url(",");\n  }\n"]);return l=function(){return e},e}var d=r.c.div(l(),i.a,s.a)},1477:function(e,n,t){e.exports=t.p+"static/media/bg_login.382d98be.jpg"},1478:function(e,n,t){e.exports=t.p+"static/media/bg_login@2x.35ab1818.jpg"},1479:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var a=t(18),r=t(14),o=a.c.div.withConfig({displayName:"PasswordPageGrid",componentId:"qobi9l-0"})(["display:grid;width:100vw;height:100vh;grid-gap:",";grid-template-columns:repeat(16,1fr);grid-template-rows:repeat(7,3rem);padding:0 "," 0 ",";"],r.d.Middle,r.d.Small,r.d.Small)},2810:function(e,n,t){"use strict";t.r(n);var a=t(69),r=t.n(a),o=t(112),i=t(48),c=t(66),s=t(0),l=t.n(s),d=t(57),u=t(40),p=t(77),g=t(42),m=t(254),b=t(36),f=t(1476),v=t(439),h=t(241),w=t(1479),y=t(18),O=t(78),k=t(2786),E=t(2787),j=t(1358),P=t(437),C=t(132),x=t(1884),_=t.n(x);function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,a)}return t}var L=function(e){var n=e.children,t=Object(s.useState)(""),a=Object(i.a)(t,2),r=a[0],o=a[1],c={minLen:function(e){return b.b._("Minimal length is {length}",{length:e})},maxLen:function(e){return b.b._("Maximal length is {length}",{length:e})},digits:b.b._("Requires at least one digit"),uppercaseChars:b.b._("Requires at least one uppercase character")},d=Object(s.useCallback)(function(){return r},[r]);return l.a.createElement(_.a,{minLen:6,maxLen:30,digits:1,uppercaseChars:1,defaultMessages:c,onChange:o},function(e){return n(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(t,!0).forEach(function(n){Object(C.a)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e,{getPassword:d}))})},T=t(158),D=t(131),M=t(14),N=y.c.div.withConfig({displayName:"StyledPasswordChangeForm",componentId:"sc-3memsc-0"})([".password{display:inline-block;margin:0.5rem;button{display:inline-block;width:3rem;}}.error{background-color:",";opacity:0.8;padding:1rem;width:31rem;}"],M.a.red),q=function(e){var n=e.onSubmitChange,t=e.buttonLabel;return l.a.createElement(L,null,function(e){var a=e.getInputProps,r=e.valid,o=e.errors,i=e.touched,c=e.isVisible,s=e.toggleShowPassword,d=e.getPassword;return l.a.createElement(N,null,l.a.createElement("div",{className:"password"},l.a.createElement(j.a,Object.assign({},a(),{name:"password",placeholder:b.b._("new password"),invalid:i&&!r})),l.a.createElement(D.a,{color:M.a.greyMiddle,onClick:s,icon:c?k.a:E.a,iconSize:2})),l.a.createElement(P.a,{margin:"".concat(M.d.Middle," 0 0 0")},l.a.createElement(T.a,{width:14},l.a.createElement(D.a,{color:M.a.green,disabled:!r,onClick:function(e){e.preventDefault(),n(d())}},t))),i&&!r&&l.a.createElement("div",{className:"error"},l.a.createElement(O.Trans,{id:"Password is invalid due to following errors:"}),l.a.createElement("ul",null,o.map(function(e){return l.a.createElement("li",{key:e.key},e.message)}))))})},R=function(e){var n=e.onPasswordChange,t=e.pageTitle,a=e.buttonLabel;return l.a.createElement(f.a,null,l.a.createElement(h.a,{title:t}),l.a.createElement(w.a,null,l.a.createElement(v.a,{gridRow:"2 / span 2",gridColumn:"6 / span 6"},l.a.createElement(h.a.Display,null)),l.a.createElement(v.a,{gridRow:"4 / span 6",gridColumn:"6 / span 6"},l.a.createElement(q,{onSubmitChange:n,buttonLabel:a}))))};t.d(n,"PasswordChangeRoute",function(){return F});var F=function(e){var n=e.history,t=e.location,a=e.match,s=Object(u.b)().auth,f=Object(m.a)(),v=f.enqueueError,h=f.enqueueSuccess,w=Object(c.d)(),y=a.params.token,O=window.atob(y);w.setExtras({tempToken:y,decodedTempToken:O});var k=Object(p.gb)({fetchPolicy:"no-cache",context:{overrideWithToken:O}}),E=Object(i.a)(k,1)[0];if(!y)return Object(g.a)("no token has been passed to change password"),v(b.b._("Request for password update is invalid. Please try again.")),l.a.createElement(d.b,{to:"/"});var j={onPasswordChange:function(){var e=Object(o.a)(r.a.mark(function e(t){var a,o,i,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({password:t});case 2:(a=e.sent)?(o=a.change,i=o.userId,l=o.newToken,s.invalidate(),s.authenticate(l,i),h(b.b._("Password has been updated."))):(c.a.captureMessage("Password change failed"),v(b.b._("Request for password update is invalid. Please try again."))),n.replace("/");case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),pageTitle:"",buttonLabel:""};if(t.pathname.includes("register"))j.pageTitle=b.b._("Set up password"),j.buttonLabel=b.b._("Create password");else{if(!t.pathname.includes("recovery"))return l.a.createElement(d.b,{to:"/"});j.pageTitle=b.b._("Password recovery"),j.buttonLabel=b.b._("Update password")}return l.a.createElement(R,j)};n.default=F}}]);
//# sourceMappingURL=385.d381d786.chunk.js.map