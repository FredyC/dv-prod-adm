{"version":3,"sources":["../node_modules/babel-runtime/helpers/defineProperty.js","molecules/PageLayoutFullHeightItem.tsx","atoms/FlexRowSingle.tsx","atoms/VerticalGap.tsx","hooks/useRouterContext.ts","atoms/ScrollArea.tsx","atoms/CardListTitle.tsx","atoms/DragHandle.tsx","atoms/BaseMap.tsx","atoms/FormInputSelect.tsx","atoms/ConfirmDialog.tsx","segments/zones/hooks/useZoneId.ts","segments/zones/hooks/useZoneRouteControl.tsx","segments/zones/atoms/ZonePriceInput.tsx","segments/zones/molecules/ZoneColorSelector.tsx","segments/zones/atoms/ZonePlaceholderInput.tsx","segments/zones/molecules/ZoneFormPriceRange.tsx","segments/zones/molecules/ZoneFormContent.tsx","segments/zones/molecules/ZoneFormControls.tsx","segments/zones/organisms/ZoneListLoader.graphql.ts","segments/zones/organisms/ZoneListLoader.tsx","segments/zones/organisms/ZoneFormPanel.tsx","molecules/MapCompanyBranchMarker.tsx","segments/zones/atoms/ZoneMapArea.tsx","segments/zones/atoms/ZoneMapEditableArea.tsx","segments/zones/hooks/useZoneModel.ts","segments/zones/organisms/ZoneMapControl.tsx","segments/zones/molecules/CreateZoneButton.tsx","segments/zones/atoms/ZoneListCard.tsx","segments/zones/molecules/ZoneList.tsx","segments/zones/organisms/ZoneListControl.tsx","segments/zones/molecules/ZoneFIlterBranch.tsx","segments/zones/molecules/ZoneFilterBrand.tsx","segments/zones/organisms/ZoneFilter.tsx","segments/zones/organisms/ZoneMenuPanel.tsx","segments/zones/pages/ZonePageLayout.tsx","segments/zones/routes/ZoneMenuRoutes.tsx"],"names":["exports","__esModule","obj","_defineProperty","__webpack_require__","_defineProperty2","default","key","value","enumerable","configurable","writable","d","__webpack_exports__","PageLayoutFullHeightItem","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","styled_components__WEBPACK_IMPORTED_MODULE_1__","_atoms_ScrollArea__WEBPACK_IMPORTED_MODULE_2__","_styling__WEBPACK_IMPORTED_MODULE_3__","FullHeightDiv","div","withConfig","displayName","props","undefined","widthInColumns","LayoutGridCellMargin","widthComputed","column","leftPos","row","topPos","FullHeightDivStyled","children","withScrollArea","scrollAreaId","a","createElement","id","FlexRowSingle","justify","VerticalGap","size","sizeUnit","useRouterContext","react_router__WEBPACK_IMPORTED_MODULE_1__","Object","ScrollArea","CardListTitle","styled_components__WEBPACK_IMPORTED_MODULE_0__","_styling__WEBPACK_IMPORTED_MODULE_1__","h2","greyLight","DragHandle","react_sortable_hoc__WEBPACK_IMPORTED_MODULE_1__","styled_components__WEBPACK_IMPORTED_MODULE_2__","_Icon__WEBPACK_IMPORTED_MODULE_3__","DragHandleContainerStyled","iconName","BaseMap","mobx_react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","react_google_maps__WEBPACK_IMPORTED_MODULE_2__","styled_components__WEBPACK_IMPORTED_MODULE_3__","_styling__WEBPACK_IMPORTED_MODULE_4__","MapContainerStyled","Card","BaseMapContainer","Fragment","[object Object]","this","getOptions","streetViewControl","mapTypeControl","fullscreenControl","model","containerElement","mapElement","style","height","ref","setMapRef","zoom","center","onCenterChanged","updatePosition","onZoomChanged","updateZoom","options","render","FormInputSelect","Component","validate","isRequired","_i18n__WEBPACK_IMPORTED_MODULE_3__","_","0","validatioName","fieldApi","isMulti","getOptionValue","defaultValue","selection","isSelected","Array","isArray","item","includes","_helpers_ramda__WEBPACK_IMPORTED_MODULE_2__","F","filter","onChange","selectedOptions","setValue","map","find","option","_a","field","fieldIsPure","__rest","react_form__WEBPACK_IMPORTED_MODULE_1__","pure","_SelectControl__WEBPACK_IMPORTED_MODULE_4__","_extends","getControlProps","onFocus","setTouched","styles","control","base","Boolean","error","assign","borderColor","defaultProps","getItemId","prop","ConfirmDialog","react","isShow","window","confirm","confirmText","onConfirm","onCancel","useZoneId","match","zoneId","params","useZoneRouteControl","user","zone","zoneModel","RootProvider","history","getRouteToZone","editZoneId","panToZone","canQuery","push","LabelStyled","styled_components_browser_esm","FormInputTextBoxStyled","FormInputTextBox","FormInputTextBoxDeliveryStyled","styling","blue","DeliveryContainer","PriceRangeContainer","VerticalLine","validatePrice","trim","length","Number","isNaN","parseFloat","i18n","ZonePriceInput","react_default","forwardRef","label","isDeliveryPrice","autoFocus","ColorOption","color","white","QueryZoneColors","buildQuery","Zones_graphql","ZoneColorSelector","zoneColors","width","padding","margin","menu","maxWidth","makeStyles","ramda","head","formatOptionLabel","zoneColor","code","ZonePlaceholderInput_LabelStyled","FormInputForPlaceholderStyled","Container","ZonePlaceholderInput","display","disabled","placeholder","AddButtonContainer","RemoveButtonContainer","ZoneFormPriceRange","values","idx","TouchButtonDelete","onDelete","removeValue","es","formApi","TouchButton","submitting","ButtonHeight","onClick","addValue","price","toPrice","ZoneFormContentStyled","Middle","black","DescriptionUnderHeadline","greyDark","ZoneFormContent","IconLine","icon","helpers_form","FormInputCheckbox","name","toLocaleLowerCase","_lingui_react","components","Headline","component","ZoneFormControls","isSubmitting","isModified","onGoBack","onSave","FlexColumn","widthGrowIndex","greyMiddle","text","CanMutate","mutationName","green","ZonesQuery","QueryZones","ZoneListContext","createContext","ZoneListLoader","index_module","branches","branchFilterPredicate","Provider","variables","branchesId","renderLoading","zones","loading","useZoneList","DeleteButtonContainer","ZoneFormPanel","zoneList","routeToZoneList","setModified","formApiRef","__awaiter","current","submitForm","destroyZone","mobx_module","currentZonePoints","propEq","defaultValues","formState","logger","onSubmit","saveZone","index_es","when","handleOk","handleCancel","Loading","BranchNameStyled","isActive","MapCompanyBranchMarker","branch","lib","getPixelPositionOffset","x","y","mapPaneName","MARKER_LAYER","position","gps","ZoneMapArea","onAreaFocus","e","stop","points","priority","defaultPath","fillColor","fillOpacity","strokeWeight","zIndex","editable","draggable","onDblClick","ZoneMapEditableArea","polygonRef","onAreaChange","path","getPath","getArray","listeners","addListener","onClear","forEach","lis","remove","onDragEnd","useZoneModel","ZoneMapControl","routeToZoneEdit","companyBranchId","hasBranchFilter","branchFilterId","renderZoneArea","areaProps","geoPolygon","companyBranch","enabled","updateZonePoints","clearZonePoints","renderBranchLabel","CreateZoneButton","createZone","turquoise","textNextToIcon","ZoneNameStyled","ZoneDescriptionStyled","ZoneFlexRowStyled","ZoneListCard","commonjs","onEdit","fixedWidth","ZoneListContainerStyled","sortZones","ramda_es","groupByBranch","ZoneList","onZoneEdit","renderZone","index","collection","output","onSortEnd","sorted","oldIndex","newIndex","changeZonePriority","grouped","branchZones","renderBranch","useDragHandle","lockAxis","ZoneListControl","react_content_loader_es","primaryOpacity","secondaryOpacity","brand","zoneFilterPredicate","root","filterBranches","ZoneFilterBranch","selectedBranch","onSelection","CompanyBranchDropdown","onSingleSelection","isClearable","ZoneFilterBrand","brands","selectedBrand","SelectControl","getOptionLabel","isSearchable","ZoneFilter","WithRoot","setBranchFilter","getBrandBranches","pathEq","singleBrand","setBrandFilter","clearBrandFilter","clearBranchFilter","ZoneMenuContainer","FixedHeaderContainer","ScrollAreaContainer","ZoneMenuPanel","ZonePageLayout","isEditing","PageLayout","pageTitle","useBackButton","backRoute","ZoneMenuRoutes","react_router","NotFoundPage"],"mappings":"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","file":"static/js/54.878455ab.chunk.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};","import React from 'react'\nimport styled from 'styled-components'\n\nimport { ScrollArea } from '../atoms/ScrollArea'\nimport { Spacing } from '../styling'\n\ninterface IPageLayoutFullHeightItemProps {\n  row?: number\n  column?: number\n  widthInColumns?: number\n  withScrollArea?: boolean\n  scrollAreaId?: string\n}\n\nconst gridColumnWidth: string = '6.22vw'\nconst gridColumnHeigth: string = '3.9375rem'\n\nconst leftPos = () => (props: IPageLayoutFullHeightItemProps) => {\n  if (props.column !== undefined) {\n    return (\n      'calc((' +\n      props.column +\n      ' * ' +\n      gridColumnWidth +\n      ') + ' +\n      Spacing.LayoutGridCellMargin +\n      ')'\n    )\n  } else {\n    return Spacing.LayoutGridCellMargin\n  }\n}\nconst widthComputed = () => (props: IPageLayoutFullHeightItemProps) => {\n  if (props.widthInColumns !== undefined) {\n    return (\n      'calc((' +\n      props.widthInColumns +\n      ' * ' +\n      gridColumnWidth +\n      ') - ' +\n      Spacing.LayoutGridCellMargin +\n      ')'\n    )\n  } else {\n    return 'calc(100vh - (2 * ' + Spacing.LayoutGridCellMargin + '))'\n  }\n}\nconst topPos = () => (props: IPageLayoutFullHeightItemProps) => {\n  if (props.row !== undefined) {\n    return (\n      'calc((' +\n      props.row +\n      ' * ' +\n      gridColumnHeigth +\n      ') + ' +\n      Spacing.LayoutGridCellMargin +\n      ')'\n    )\n  } else {\n    return (\n      'calc(' + gridColumnHeigth + ' + ' + Spacing.LayoutGridCellMargin + ')'\n    )\n  }\n}\n\nconst FullHeightDiv = styled.div`\n  position: fixed;\n  bottom: 0.5rem;\n  width: ${widthComputed()};\n  left: ${leftPos()};\n  top: ${topPos()};\n`\n\nconst FullHeightDivStyled = styled.div`\n  height: 100%;\n`\n\nexport const PageLayoutFullHeightItem: React.SFC<\n  IPageLayoutFullHeightItemProps\n> = ({\n  children,\n  row = 1,\n  column = 0,\n  widthInColumns = 16,\n  withScrollArea = false,\n  scrollAreaId,\n}) => (\n  <FullHeightDiv\n    column={column}\n    row={row}\n    widthInColumns={widthInColumns}\n    withScrollArea={withScrollArea}\n  >\n    {withScrollArea ? (\n      <ScrollArea id={scrollAreaId}>{children}</ScrollArea>\n    ) : (\n      <FullHeightDivStyled>{children}</FullHeightDivStyled>\n    )}\n  </FullHeightDiv>\n)\n","import styled from 'styled-components'\n\nexport const FlexRowSingle = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: ${({ justify = 'space-between' }: { justify?: string }) =>\n    justify};\n`\n","import styled from 'styled-components'\n\ninterface IVerticalGapProps {\n  size?: number\n  sizeUnit?: string\n}\n\nexport const VerticalGap = styled.div`\n  height: ${({ size = 1, sizeUnit = 'rem' }: IVerticalGapProps) =>\n    `${size}${sizeUnit}`};\n`\n\nVerticalGap.displayName = 'VerticalGap'\n","import { useContext } from 'react'\nimport * as Router from 'react-router'\n\nexport default function useRouterContext<\n  Params extends { [K in keyof Params]?: string } = {}\n>(): Router.RouteComponentProps<Params> {\n  // @ts-ignore\n  return useContext(Router.__RouterContext)\n}\n\n// export default function useRouter<\n// Params extends { [K in keyof Params]?: string } = {}\n// >(): Router.RouteComponentProps<Params> {\n//   // @ts-ignore\n//   let context = useContext(Router.__RouterContext);\n//   let location = options.location || context.location;\n//   let match = options.path\n//     ? matchPath(location.pathname, options)\n//     : context.match;\n\n//   return { ...context, location, match };\n\n// }\n\n// export default function useRouter(options = {}) {\n//   invariant(\n//     typeof useContext === \"function\",\n//     \"The useRouter hook requires React 16.7 or greater\"\n//   );\n\n//   let context = useContext(RouterContext);\n//   let location = options.location || context.location;\n//   let match = options.path\n//     ? matchPath(location.pathname, options)\n//     : context.match;\n\n//   return { ...context, location, match };\n// }\n","import styled from 'styled-components'\n\nexport const ScrollArea = styled.div`\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n  height: 100%;\n`\n","import styled from 'styled-components'\n\nimport { Colors } from '../styling'\n\nexport const CardListTitle = styled.h2`\n  color: ${Colors.greyLight};\n  font-weight: lighter;\n  font-size: 1.2rem;\n  margin: 0.8rem 0 0.8rem 0.3rem;\n`\n","import React from 'react'\nimport { SortableHandle } from 'react-sortable-hoc'\nimport styled from 'styled-components'\n\nimport { Icon } from './Icon'\n\ninterface IDragHandleProps {}\n\nconst DragHandleContainerStyled = styled.div`\n  padding: 1rem 0.4rem;\n  cursor: grab;\n`\nexport const DragHandle = SortableHandle<IDragHandleProps>(() => (\n  <DragHandleContainerStyled>\n    <Icon iconName=\"reorder\" />\n  </DragHandleContainerStyled>\n))\n","import { Observer } from 'mobx-react'\nimport React, { Component } from 'react'\nimport { GoogleMap, GoogleMapProps, withGoogleMap } from 'react-google-maps'\nimport styled from 'styled-components'\n\nimport { TMapModel } from '../models/MapModel'\nimport { Radiuses } from '../styling'\n\ninterface IBaseMapProps extends GoogleMapProps {\n  model: TMapModel\n  render(control: IMapControl): ReactNode | ReactNode[]\n}\n\ninterface IMapControl {}\n\nconst MapContainerStyled = styled.div`\n  border-radius: ${Radiuses.Card};\n  overflow: hidden;\n  height: 100%;\n`\n\nconst BaseMapContainer = withGoogleMap(({ children }) => <>{children}</>)\n\nexport class BaseMap extends Component<IBaseMapProps> {\n  getOptions = () => {\n    return {\n      streetViewControl: false,\n      mapTypeControl: false,\n      fullscreenControl: false,\n    }\n  }\n  render() {\n    const { model } = this.props\n    return (\n      <BaseMapContainer\n        containerElement={<MapContainerStyled />}\n        mapElement={<div style={{ height: `100%` }} />}\n      >\n        <Observer>\n          {() => (\n            <GoogleMap\n              ref={model.setMapRef}\n              zoom={model.zoom}\n              center={model.center}\n              onCenterChanged={model.updatePosition}\n              onZoomChanged={model.updateZoom}\n              options={this.getOptions()}\n            >\n              {this.props.render({})}\n            </GoogleMap>\n          )}\n        </Observer>\n      </BaseMapContainer>\n    )\n  }\n}\n","import React from 'react'\nimport { Field, FieldType, IFieldApi } from 'react-form'\n\nimport { RM } from '../helpers/ramda'\nimport { i18n } from '../i18n'\nimport { ISelectControlProps, SelectControl } from './SelectControl'\n\nexport interface IFormInputSelectProps<OptionType>\n  extends ISelectControlProps<OptionType> {\n  field: FieldType\n  fieldIsPure?: boolean\n  defaultValue?: OptionType\n  isRequired?: boolean\n  validatioName?: string\n}\n\nexport class FormInputSelect<OptionType> extends React.Component<\n  IFormInputSelectProps<OptionType>\n> {\n  static defaultProps = {\n    validatioName: 'Value',\n    getItemId: RM.prop('id'),\n  }\n\n  validate = (value: OptionType | undefined) => {\n    if (this.props.isRequired && !value) {\n      return i18n.t`${this.props.validatioName} must be selected`\n    }\n    return null\n  }\n\n  getControlProps(fieldApi: IFieldApi) {\n    const { isMulti, options, getOptionValue, defaultValue } = this.props\n    const selection = fieldApi.value || defaultValue\n\n    if (isMulti) {\n      const isSelected = Array.isArray(selection)\n        ? (item: OptionType) => selection.includes(getOptionValue!(item))\n        : RM.F\n      return {\n        value: Array.isArray(options)\n          ? (options as OptionType[]).filter(isSelected)\n          : [],\n        onChange: selectedOptions => {\n          fieldApi.setValue(selectedOptions.map(getOptionValue))\n        },\n      }\n    }\n\n    return {\n      value:\n        selection &&\n        (options as OptionType[]).find(\n          item => getOptionValue!(item) === selection,\n        ),\n      onChange: option => {\n        fieldApi.setValue(getOptionValue!(option))\n      },\n    }\n  }\n\n  render() {\n    const {\n      field,\n      fieldIsPure = false,\n      defaultValue = undefined,\n      isRequired = false,\n      ...props\n    } = this.props\n    return (\n      <Field field={field} validate={this.validate} pure={fieldIsPure}>\n        {fieldApi => (\n          <SelectControl\n            {...this.getControlProps(fieldApi)}\n            onFocus={() => fieldApi.setTouched(true)}\n            styles={{\n              control: base => {\n                if (Boolean(fieldApi.error)) {\n                  return {\n                    ...base,\n                    borderColor: 'red',\n                  }\n                }\n                return base\n              },\n            }}\n            {...props}\n          />\n        )}\n      </Field>\n    )\n  }\n}\n","import React, { useEffect } from 'react'\n\ninterface IProps {\n  isShow: boolean\n  confirmText: string\n  onConfirm(): void\n  onCancel(): void\n}\n\nexport const ConfirmDialog: React.SFC<IProps> = props => {\n  useEffect(\n    () => {\n      if (props.isShow) {\n        if (window.confirm(props.confirmText)) {\n          props.onConfirm()\n        } else {\n          props.onCancel()\n        }\n      }\n    },\n    [props.isShow],\n  )\n  return null\n}\n","import useRouterContext from '../../../hooks/useRouterContext'\n\ninterface IZoneRouteParams {\n  zoneId?: ID\n}\n\nexport function useZoneId() {\n  const { match } = useRouterContext<IZoneRouteParams>()\n  const { zoneId } = match.params\n  return zoneId\n}\n","import { useRoot } from '../../../atoms/RootProvider'\nimport useRouterContext from '../../../hooks/useRouterContext'\n\nexport function useZoneRouteControl() {\n  const { user, zone: zoneModel } = useRoot()\n  const { history } = useRouterContext()\n  const baseRoute = '/settings/zones'\n  const getRouteToZone = (zoneId: ID) => {\n    return `${baseRoute}/${zoneId}`\n  }\n  return {\n    getRouteToZone,\n    routeToZoneEdit(editZoneId: ID) {\n      zoneModel.map.panToZone(editZoneId)\n      if (user.canQuery('zone')) {\n        history.push(getRouteToZone(editZoneId))\n      }\n    },\n    routeToZoneList() {\n      history.push(baseRoute)\n    },\n  }\n}\n","import React from 'react'\nimport { FieldType } from 'react-form'\nimport styled from 'styled-components'\n\nimport { FormInputTextBox } from '../../../atoms/FormInputTextBox'\nimport { i18n } from '../../../i18n'\nimport { Colors } from '../../../styling'\n\ninterface IZoneInputProps {\n  field: FieldType\n  label?: string\n  autoFocus?: boolean\n  isDeliveryPrice?: boolean\n}\n\nconst LabelStyled = styled.div`\n  min-width: 2rem;\n  display: inline-block;\n`\n\nconst FormInputTextBoxStyled = styled(FormInputTextBox)`\n  width: 3rem;\n  position: relative;\n  z-index: 4;\n`\nconst FormInputTextBoxDeliveryStyled = styled(FormInputTextBoxStyled)`\n  color: ${Colors.blue};\n`\n\nconst DeliveryContainer = styled.div`\n  position: relative;\n  left: 8rem;\n  top: 0rem;\n`\n\nconst PriceRangeContainer = styled.div`\n  position: relative;\n  left: 4rem;\n  top: -0.3rem;\n  width: 3rem;\n`\n\nconst VerticalLine = styled.div`\n  border-left: 3px solid #707070;\n  width: 3px;\n  position: relative;\n  left: -2rem;\n  height: 4rem;\n  float: left;\n  margin: -0.5rem 0 0 0;\n`\n\nconst validatePrice = (value: string) => {\n  if (typeof value === 'number') {\n    return null\n  }\n  const trim = value.trim()\n  return trim.length && Number.isNaN(Number.parseFloat(trim))\n    ? i18n.t`Must be number`\n    : null\n}\n\nexport const ZonePriceInput = React.forwardRef<\n  HTMLInputElement,\n  IZoneInputProps\n>(\n  ({ field, label, isDeliveryPrice, autoFocus = false }, ref) =>\n    isDeliveryPrice ? (\n      <DeliveryContainer>\n        <VerticalLine />\n        <LabelStyled>{label}</LabelStyled>\n        <FormInputTextBoxDeliveryStyled\n          field={field}\n          validate={validatePrice}\n          // @ts-ignore\n          ref={ref}\n        />\n      </DeliveryContainer>\n    ) : (\n      <PriceRangeContainer>\n        <FormInputTextBoxStyled\n          field={field}\n          validate={validatePrice}\n          autoFocus={autoFocus}\n        />\n      </PriceRangeContainer>\n    ),\n)\n","import React from 'react'\nimport { FieldType } from 'react-form'\nimport styled from 'styled-components'\n\nimport { FormInputSelect } from '../../../atoms/FormInputSelect'\nimport { buildQuery } from '../../../graph/buildQuery'\nimport { GZoneColors } from '../../../graph/types'\nimport { RM } from '../../../helpers/ramda'\nimport { Colors } from '../../../styling'\nimport { ZoneColorsQuery } from '../Zones.graphql'\n\ninterface IZoneColorSelectorProps {\n  field?: FieldType\n}\n\nconst ColorOption = styled.div`\n  background-color: ${({ color }: { color: string }) => color};\n  color: ${Colors.white};\n  width: 6rem;\n  padding: 0.4rem 1rem;\n  margin: 0;\n  height: 100%;\n`\n\nconst QueryZoneColors = buildQuery<GZoneColors.Query, GZoneColors.Variables>(\n  ZoneColorsQuery,\n)\n\nconst makeStyles = () => ({\n  option: base => ({\n    ...base,\n    padding: 0,\n    margin: 0,\n  }),\n  menu: base => ({\n    ...base,\n    width: '8rem',\n    maxWidth: '8rem',\n  }),\n})\n\nexport const ZoneColorSelector: React.SFC<IZoneColorSelectorProps> = ({\n  field = 'zoneColor.id',\n}) => (\n  <QueryZoneColors\n    render={({ zoneColors }) => (\n      <FormInputSelect<GZoneColors.ZoneColors>\n        field={field}\n        fieldIsPure={true}\n        options={zoneColors}\n        width={8}\n        styles={makeStyles()}\n        defaultValue={RM.head(zoneColors)}\n        getOptionValue={RM.prop('id')}\n        formatOptionLabel={zoneColor => (\n          <ColorOption color={zoneColor.color}>{zoneColor.code}</ColorOption>\n        )}\n      />\n    )}\n  />\n)\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { FormInputStyled } from '../../../atoms/FormInputTextBox'\n\ninterface IZonePlaceholderInputProps {\n  label: string\n  display: string\n}\n\nconst LabelStyled = styled.div`\n  width: 3rem;\n  display: inline-block;\n`\n\nconst FormInputForPlaceholderStyled = styled(FormInputStyled)`\n  width: 3rem;\n  position: relative;\n  z-index: 4;\n`\n\nconst Container = styled.div`\n  margin: 0 0 0 1rem;\n`\n\nexport const ZonePlaceholderInput: React.SFC<IZonePlaceholderInputProps> = ({\n  label,\n  display,\n}) => (\n  <Container>\n    <LabelStyled>{label}</LabelStyled>\n    <FormInputForPlaceholderStyled disabled={true} placeholder={display} />\n  </Container>\n)\n","import React, { Fragment } from 'react'\nimport { FormApi, NestedFieldComponentProps } from 'react-form'\nimport styled from 'styled-components'\n\nimport { GZonePriceRange } from '../../../graph/types'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { TouchButtonDelete } from '../../../molecules/TouchButtonDelete'\nimport { Spacing } from '../../../styling'\nimport { ZonePlaceholderInput } from '../atoms/ZonePlaceholderInput'\nimport { ZonePriceInput } from '../atoms/ZonePriceInput'\n\ninterface IProps\n  extends NestedFieldComponentProps<GZonePriceRange.Fragment[]> {}\n\nconst AddButtonContainer = styled.div`\n  position: relative;\n  top: -6rem;\n`\n\nconst RemoveButtonContainer = styled.div`\n  position: relative;\n  top: -7rem;\n  left: 16rem;\n`\n\nexport const ZoneFormPriceRange: React.SFC<IProps> = ({ fieldApi }) => {\n  return (\n    <>\n      {fieldApi.values.map((value, idx, values) => (\n        <Fragment key={idx}>\n          <ZonePriceInput\n            label=\"za\"\n            isDeliveryPrice={true}\n            field={[idx, 'price', 'value']}\n          />\n\n          {idx === values.length - 1 ? (\n            <ZonePlaceholderInput display=\"&infin;\" label=\"do\" />\n          ) : (\n            <ZonePriceInput\n              field={[idx, 'toPrice', 'value']}\n              autoFocus={true}\n            />\n          )}\n\n          {values.length > 1 && (\n            <RemoveButtonContainer>\n              <TouchButtonDelete\n                onDelete={() => fieldApi.removeValue('', idx)}\n              />\n            </RemoveButtonContainer>\n          )}\n        </Fragment>\n      ))}\n      <FormApi\n        render={formApi => (\n          <AddButtonContainer>\n            <TouchButton\n              disabled={formApi.submitting}\n              width={Spacing.ButtonHeight}\n              iconName=\"add_circle\"\n              onClick={() =>\n                fieldApi.addValue('', {\n                  price: { value: 0 },\n                  toPrice: { value: 0 },\n                })\n              }\n            />\n          </AddButtonContainer>\n        )}\n      />\n    </>\n  )\n}\n","import { Trans } from '@lingui/react'\nimport React from 'react'\nimport { NestedField } from 'react-form'\nimport styled from 'styled-components'\n\nimport { FormInputCheckbox } from '../../../atoms/FormInputCheckbox'\nimport { FormInputTextBox } from '../../../atoms/FormInputTextBox'\nimport { Headline } from '../../../atoms/Headline'\nimport { IconLine } from '../../../atoms/IconLine'\nimport { validateIsRequired } from '../../../helpers/form'\nimport { i18n } from '../../../i18n'\nimport { Colors, Spacing } from '../../../styling'\nimport { ZonePriceInput } from '../atoms/ZonePriceInput'\nimport { ZoneColorSelector } from '../molecules/ZoneColorSelector'\nimport { ZoneFormPriceRange } from '../molecules/ZoneFormPriceRange'\n\ninterface IZoneFormContentProps {}\n\nconst ZoneFormContentStyled = styled.div`\n  margin: ${Spacing.Middle};\n  color: ${Colors.black};\n`\n\nconst DescriptionUnderHeadline = styled.div`\n  color: ${Colors.greyDark};\n  padding-bottom: 0.2rem;\n`\n\nexport const ZoneFormContent: React.SFC<IZoneFormContentProps> = props => (\n  <ZoneFormContentStyled>\n    <IconLine icon=\"label\">\n      <FormInputTextBox\n        field=\"name\"\n        validate={validateIsRequired(i18n.t`Zone name`)}\n      />\n    </IconLine>\n\n    <IconLine icon=\"color_lens\">\n      <ZoneColorSelector />\n    </IconLine>\n\n    <FormInputCheckbox\n      field=\"enabled\"\n      name=\"enabled\"\n      label={i18n.t`Is active`.toLocaleLowerCase()}\n    />\n\n    <Trans>\n      <Headline margin=\"0.5rem 0 0 0\">Delivery cost</Headline>\n      <DescriptionUnderHeadline>\n        according order total cost\n      </DescriptionUnderHeadline>\n    </Trans>\n    <ZonePriceInput field=\"minimalOrderPrice.value\" />\n    <NestedField field=\"priceRangeRules\" component={ZoneFormPriceRange} />\n  </ZoneFormContentStyled>\n)\n","import React, { MouseEvent } from 'react'\n\nimport { CanMutate } from '../../../atoms/CanMutate'\nimport { FlexColumn } from '../../../atoms/FlexColumn'\nimport { FlexRowSingle } from '../../../atoms/FlexRowSingle'\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors } from '../../../styling'\n\ninterface IProps {\n  isSubmitting: boolean\n  isModified: boolean\n  onSave(e: MouseEvent<HTMLButtonElement>): void\n  onGoBack(): void\n}\n\nexport const ZoneFormControls: React.SFC<IProps> = ({\n  isSubmitting,\n  isModified,\n  onGoBack,\n  onSave,\n}) => (\n  <FlexRowSingle>\n    <FlexColumn widthGrowIndex={0.4} padding=\"0\">\n      <TouchButton\n        color={Colors.greyMiddle}\n        onClick={onGoBack}\n        text={i18n.t`Back`}\n        disabled={isSubmitting}\n      />\n    </FlexColumn>\n    <FlexColumn widthGrowIndex={0.4} padding=\"0\">\n      <CanMutate mutationName=\"updateZone\">\n        <TouchButton\n          color={Colors.green}\n          text={i18n.t`Save zone`}\n          onClick={onSave}\n          disabled={isSubmitting || !isModified}\n        />\n      </CanMutate>\n    </FlexColumn>\n  </FlexRowSingle>\n)\n","import gql from 'graphql-tag'\n\nimport { buildQuery } from '../../../graph/buildQuery'\nimport { GZones } from '../../../graph/types'\nimport { ZoneFragment } from '../Zones.graphql'\n\nexport const ZonesQuery = gql`\n  query GZones($branchesId: [ID!]!) {\n    zones(companyBranches: $branchesId) {\n      ...GZone\n    }\n  }\n  ${ZoneFragment}\n`\n\nexport const QueryZones = buildQuery<GZones.Query, GZones.Variables>(ZonesQuery)\n","import { observer } from 'mobx-react-lite'\nimport React, { useContext } from 'react'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { GZone } from '../../../graph/types'\nimport { RM } from '../../../helpers/ramda'\nimport { QueryZones } from './ZoneListLoader.graphql'\n\ninterface IProps {}\n\nexport type TZone = GZone.Fragment\n\nconst ZoneListContext = React.createContext<Maybe<TZone[]>>(null)\n\nexport const ZoneListLoader: React.SFC<IProps> = observer(({ children }) => {\n  const { zone } = useRoot()\n  const branches = zone.branches.filter(zone.branchFilterPredicate)\n  if (branches.length === 0) {\n    return (\n      <ZoneListContext.Provider value={[]}>{children}</ZoneListContext.Provider>\n    )\n  }\n  return (\n    <QueryZones\n      variables={{ branchesId: branches.map(RM.prop('id')) }}\n      renderLoading={false}\n      render={({ zones }, { loading }) => (\n        <ZoneListContext.Provider value={loading ? null : zones}>\n          {children}\n        </ZoneListContext.Provider>\n      )}\n    />\n  )\n})\n\nexport const useZoneList = () => {\n  return useContext(ZoneListContext)\n}\n","import { reaction } from 'mobx'\nimport { useObservableEffect } from 'mobx-react-lite'\nimport React, { useCallback, useRef, useState } from 'react'\nimport { Form, IFormApi } from 'react-form'\nimport Goodbye from 'react-goodbye'\nimport styled from 'styled-components'\n\nimport { CanMutate } from '../../../atoms/CanMutate'\nimport { Card } from '../../../atoms/Card'\nimport { ConfirmDialog } from '../../../atoms/ConfirmDialog'\nimport { Loading } from '../../../atoms/Loading'\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { logDebug } from '../../../helpers/logger'\nimport { RM } from '../../../helpers/ramda'\nimport { i18n } from '../../../i18n'\nimport { TouchButtonDelete } from '../../../molecules/TouchButtonDelete'\nimport { Spacing } from '../../../styling'\nimport { useZoneId } from '../hooks/useZoneId'\nimport { useZoneRouteControl } from '../hooks/useZoneRouteControl'\nimport { ZoneFormContent } from '../molecules/ZoneFormContent'\nimport { ZoneFormControls } from '../molecules/ZoneFormControls'\nimport { useZoneList } from './ZoneListLoader'\n\nconst DeleteButtonContainer = styled.div`\n  width: ${Spacing.ButtonHeight};\n  margin-top: ${Spacing.Middle};\n`\n\nexport const ZoneFormPanel: React.SFC = () => {\n  const zoneId = useZoneId()\n  const zoneList = useZoneList()\n  const { zone: zoneModel } = useRoot()\n  const { routeToZoneList } = useZoneRouteControl()\n  const [isModified, setModified] = useState(false)\n  const formApiRef = useRef<IFormApi | null>(null)\n\n  const onSave = useCallback(async () => {\n    if (formApiRef.current) {\n      await formApiRef.current.submitForm()\n      setModified(false)\n      routeToZoneList()\n    }\n  }, [])\n\n  const onDelete = useCallback(\n    async () => {\n      if (zoneId) {\n        await zoneModel.destroyZone(zoneId)\n      }\n      routeToZoneList()\n    },\n    [zoneId],\n  )\n\n  useObservableEffect(() =>\n    reaction(() => zoneModel.map.currentZonePoints !== null, setModified),\n  )\n\n  const zone =\n    zoneId && zoneList ? zoneList.find(RM.propEq('id', zoneId)) || null : null\n\n  if (!zone) {\n    return <Loading text={i18n.t`Loading form...`} />\n  }\n\n  return (\n    <Form\n      defaultValues={zone}\n      onChange={formState => {\n        logDebug('zone form change', formState.values)\n        setModified(true)\n      }}\n      onSubmit={values => zoneModel.saveZone(zoneId!, values)}\n      render={formApi => {\n        formApiRef.current = formApi\n        return (\n          <Card padding={0}>\n            <ZoneFormControls\n              isSubmitting={formApi.submitting}\n              isModified={isModified}\n              onSave={onSave}\n              onGoBack={routeToZoneList}\n            />\n            <ZoneFormContent />\n\n            <CanMutate mutationName=\"destroyZone\">\n              <DeleteButtonContainer>\n                <TouchButtonDelete\n                  disabled={formApi.submitting}\n                  confirmText={i18n.t`Remove zone ${zone.name}?`}\n                  onDelete={onDelete}\n                />\n              </DeleteButtonContainer>\n            </CanMutate>\n\n            <Goodbye when={isModified}>\n              {({ isShow, handleOk, handleCancel }) => (\n                <ConfirmDialog\n                  isShow={isShow}\n                  confirmText={i18n.t`Do you want to cancel changes for the zone?`}\n                  onConfirm={handleOk}\n                  onCancel={handleCancel}\n                />\n              )}\n            </Goodbye>\n          </Card>\n        )\n      }}\n    />\n  )\n}\n","import React from 'react'\nimport { OverlayView } from 'react-google-maps'\nimport styled, { css } from 'styled-components'\n\nimport { GCompanyBranch } from '../graph/types'\nimport { gpsToLatLng } from '../helpers/gps'\nimport { Colors } from '../styling'\n\ninterface IProps {\n  branch: GCompanyBranch.Fragment\n  isActive?: boolean\n}\n\nconst BranchNameStyled = styled.div`\n  ${getColors} font-size: 1.3rem;\n  white-space: nowrap;\n  padding: 0.2rem 0.5rem;\n`\n\nexport const MapCompanyBranchMarker: React.SFC<IProps> = ({\n  branch,\n  isActive = true,\n}) => (\n  <OverlayView\n    getPixelPositionOffset={(width, height) => ({\n      x: -(width / 2),\n      y: -(height / 2),\n    })}\n    mapPaneName={OverlayView.MARKER_LAYER}\n    position={gpsToLatLng(branch.gps)}\n  >\n    <BranchNameStyled isActive={isActive}>{branch.name}</BranchNameStyled>\n  </OverlayView>\n)\n\nfunction getColors({ isActive }: { isActive: boolean }) {\n  return css`\n    background-color: ${isActive ? Colors.green : Colors.greyLight};\n    color: ${isActive ? Colors.white : Colors.greyDark};\n  `\n}\n","import React, { useCallback } from 'react'\nimport { Polygon } from 'react-google-maps'\n\nimport { gpsToLatLng } from '../../../helpers/gps'\n\ninterface IZoneMapAreaProps {\n  points: GeoPoint[]\n  color: string\n  priority: number\n  onFocus?(): void\n}\n\nexport const ZoneMapArea: React.FC<IZoneMapAreaProps> = props => {\n  const onAreaFocus = useCallback(\n    (e: google.maps.PolyMouseEvent) => {\n      if (props.onFocus) {\n        e.stop()\n        props.onFocus()\n      }\n    },\n    [props.onFocus],\n  )\n\n  const { points, color, priority } = props\n  return (\n    <Polygon\n      defaultPath={points.map(gpsToLatLng)}\n      options={{\n        fillColor: color,\n        fillOpacity: 0.3,\n        strokeWeight: 0,\n        zIndex: 5000 - priority,\n      }}\n      editable={false}\n      draggable={false}\n      onDblClick={onAreaFocus}\n    />\n  )\n}\n","import React, { useCallback, useEffect, useRef } from 'react'\nimport { Polygon } from 'react-google-maps'\n\nimport { gpsToLatLng, latLngToGps } from '../../../helpers/gps'\n\ninterface IZoneMapAreaProps {\n  points: GeoPoint[]\n  color: string\n  priority: number\n  onChange(points: GeoPoint[]): void\n  onClear(): void\n}\n\nexport const ZoneMapEditableArea: React.FC<IZoneMapAreaProps> = props => {\n  const polygonRef = useRef<Polygon | null>(null)\n\n  const onAreaChange = useCallback(\n    () => {\n      if (polygonRef.current) {\n        const path = polygonRef.current.getPath()\n        props.onChange(path.getArray().map(latLngToGps))\n      }\n    },\n    [props.onChange],\n  )\n\n  useEffect(() => {\n    let listeners\n    if (polygonRef.current && props.onChange) {\n      const path = polygonRef.current.getPath()\n      listeners = [\n        path.addListener('set_at', onAreaChange),\n        path.addListener('insert_at', onAreaChange),\n        path.addListener('remove_at', onAreaChange),\n      ]\n    }\n    return () => {\n      props.onClear()\n      if (listeners) {\n        listeners.forEach(lis => lis.remove())\n      }\n    }\n  }, [])\n\n  const { points, color } = props\n  return (\n    <Polygon\n      defaultPath={points.map(gpsToLatLng)}\n      options={{\n        fillColor: color,\n        fillOpacity: 0.6,\n        strokeWeight: 2,\n        zIndex: 10000,\n      }}\n      editable={true}\n      draggable={true}\n      ref={polygonRef}\n      onDragEnd={onAreaChange}\n    />\n  )\n}\n","import { useRoot } from '../../../atoms/RootProvider'\n\nexport function useZoneModel() {\n  const { zone: zoneModel } = useRoot()\n  return zoneModel\n}\n","import React, { useCallback, useMemo } from 'react'\n\nimport { BaseMap } from '../../../atoms/BaseMap'\nimport { GCompanyBranch } from '../../../graph/types'\nimport { MapCompanyBranchMarker } from '../../../molecules/MapCompanyBranchMarker'\nimport { Colors } from '../../../styling'\nimport { ZoneMapArea } from '../atoms/ZoneMapArea'\nimport { ZoneMapEditableArea } from '../atoms/ZoneMapEditableArea'\nimport { useZoneId } from '../hooks/useZoneId'\nimport { useZoneModel } from '../hooks/useZoneModel'\nimport { useZoneRouteControl } from '../hooks/useZoneRouteControl'\nimport { TZone, useZoneList } from '../organisms/ZoneListLoader'\n\nexport const ZoneMapControl: React.FC = () => {\n  const zoneModel = useZoneModel()\n  const editZoneId = useZoneId()\n  const zoneList = useZoneList()\n  const { routeToZoneEdit } = useZoneRouteControl()\n\n  const branches = useMemo(\n    () => zoneModel.branches.filter(zoneModel.branchFilterPredicate),\n    [zoneModel.branches],\n  )\n\n  const isActive = (companyBranchId: ID) =>\n    !zoneModel.hasBranchFilter || companyBranchId === zoneModel.branchFilterId\n\n  const renderZoneArea = (zone: TZone) => {\n    const areaProps = {\n      key: `zone${zone.id}`,\n      points: zone.geoPolygon,\n      priority: zone.priority,\n      color:\n        isActive(zone.companyBranch.id) && zone.enabled\n          ? zone.zoneColor.color\n          : Colors.greyMiddle,\n    }\n\n    if (zone.id === editZoneId) {\n      return (\n        <ZoneMapEditableArea\n          {...areaProps}\n          onChange={zoneModel.map.updateZonePoints}\n          onClear={zoneModel.map.clearZonePoints}\n        />\n      )\n    }\n\n    return (\n      <ZoneMapArea\n        {...areaProps}\n        onFocus={() => {\n          if (isActive(zone.companyBranch.id)) {\n            routeToZoneEdit(zone.id)\n          }\n        }}\n      />\n    )\n  }\n\n  const renderBranchLabel = useCallback(\n    (branch: GCompanyBranch.Fragment) => (\n      <MapCompanyBranchMarker\n        key={`branch${branch.id}`}\n        branch={branch}\n        isActive={isActive(branch.id)}\n      />\n    ),\n    [],\n  )\n\n  return (\n    <BaseMap\n      model={zoneModel.map}\n      render={() => (\n        <>\n          {zoneList && zoneList.map(renderZoneArea)}\n          {branches && branches.map(renderBranchLabel)}\n        </>\n      )}\n    />\n  )\n}\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors, Spacing } from '../../../styling'\nimport { useZoneModel } from '../hooks/useZoneModel'\nimport { useZoneRouteControl } from '../hooks/useZoneRouteControl'\n\nexport const CreateZoneButton: React.SFC = observer(() => {\n  const zoneModel = useZoneModel()\n  const { routeToZoneEdit } = useZoneRouteControl()\n  return (\n    <TouchButton\n      text={\n        zoneModel.hasBranchFilter\n          ? i18n.t`Create zone for branch`\n          : i18n.t`Select branch to create zone`\n      }\n      onClick={() => zoneModel.createZone(routeToZoneEdit)}\n      disabled={!zoneModel.hasBranchFilter}\n      color={Colors.turquoise}\n      textNextToIcon={true}\n      height={Spacing.ButtonHeight}\n      iconName=\"add_circle\"\n    />\n  )\n})\n","import React from 'react'\nimport { SortableElement } from 'react-sortable-hoc'\nimport styled from 'styled-components'\n\nimport { Card } from '../../../atoms/Card'\nimport { DragHandle } from '../../../atoms/DragHandle'\nimport { FlexColumn } from '../../../atoms/FlexColumn'\nimport { FlexRowSingle } from '../../../atoms/FlexRowSingle'\nimport { GCompanyBranch, GZone } from '../../../graph/types'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors, Spacing } from '../../../styling'\n\ninterface IZoneListCardProps {\n  zone: GZone.Fragment\n  branch: GCompanyBranch.Fragment\n  onEdit(): void\n}\n\nconst ZoneNameStyled = styled.div`\n  font-size: 1.125rem;\n  margin-top: 0.2rem;\n`\n\nconst ZoneDescriptionStyled = styled.div`\n  font-size: 0.875rem;\n`\nconst ZoneFlexRowStyled = styled(FlexRowSingle)`\n  height: ${Spacing.ButtonHeight};\n`\n\nexport const ZoneListCard = SortableElement<IZoneListCardProps>(\n  ({ zone, branch, onEdit }) => (\n    <Card\n      key={zone.id}\n      padding={0}\n      color={zone.enabled ? zone.zoneColor.color : Colors.greyMiddle}\n      onClick={onEdit}\n    >\n      <ZoneFlexRowStyled>\n        <FlexColumn fixedWidth={true} padding=\"0 0.5rem 0 0\">\n          <TouchButton\n            width={Spacing.ButtonHeight}\n            height={Spacing.ButtonHeight}\n            iconName=\"mode_edit\"\n          />\n        </FlexColumn>\n        <FlexColumn widthGrowIndex={1}>\n          <ZoneNameStyled>\n            {zone.name}\n            {` [P${zone.priority}]`}\n          </ZoneNameStyled>\n          <ZoneDescriptionStyled>{branch.name}</ZoneDescriptionStyled>\n        </FlexColumn>\n        <FlexColumn padding=\"0\">\n          <DragHandle />\n        </FlexColumn>\n      </ZoneFlexRowStyled>\n    </Card>\n  ),\n)\n","import * as R from 'ramda'\nimport React, { Fragment } from 'react'\nimport { SortableContainer, SortEndHandler } from 'react-sortable-hoc'\nimport styled from 'styled-components'\n\nimport { CardListTitle } from '../../../atoms/CardListTitle'\nimport { GCompanyBranch, GZone } from '../../../graph/types'\nimport { TZoneModel } from '../../../segments/zones/models/ZoneModel'\nimport { ZoneListCard } from '../atoms/ZoneListCard'\n\ninterface IZoneListProps {\n  branches: GCompanyBranch.Fragment[]\n  zones: GZone.Fragment[]\n  zoneModel: TZoneModel\n  onZoneEdit(zoneID: ID): void\n}\n\nconst ZoneListContainerStyled = SortableContainer(styled.div`\n  margin-top: 0.5rem;\n  cursor: arrow;\n`)\n\nconst sortZones = R.sortWith<GZone.Fragment>([\n  R.ascend(R.path(['companyBranch', 'name'])),\n  R.descend(R.prop('priority')),\n])\n\nconst groupByBranch = R.groupBy((zone: GZone.Fragment) => zone.companyBranch.id)\n\nexport const ZoneList: React.SFC<IZoneListProps> = ({\n  branches,\n  zones,\n  zoneModel,\n  onZoneEdit,\n}) => {\n  const renderZone = (zone: GZone.Fragment, idx: number) => (\n    <ZoneListCard\n      key={zone.id}\n      zone={zone}\n      branch={branches.find(R.propEq('id', zone.companyBranch.id))!}\n      index={idx}\n      collection={zone.companyBranch.id}\n      onEdit={() => onZoneEdit(zone.id)}\n    />\n  )\n  const renderBranch = (\n    branch: GCompanyBranch.Fragment,\n    branchZones: GZone.Fragment[],\n  ) => (\n    <Fragment key={branch.id}>\n      <CardListTitle>{branch.name}</CardListTitle>\n      {branchZones.map(renderZone)}\n    </Fragment>\n  )\n\n  let output\n  let onSortEnd: SortEndHandler\n\n  if (branches.length === 1) {\n    const sorted = sortZones(zones)\n    output = sorted.map(renderZone)\n    onSortEnd = ({ oldIndex, newIndex }) => {\n      const zone = sorted[oldIndex]\n      zoneModel.changeZonePriority(zone, oldIndex, newIndex)\n    }\n  } else {\n    const grouped = R.mapObjIndexed(sortZones, groupByBranch(zones))\n    output = branches.map(branch => {\n      const branchZones = grouped[branch.id]\n      return branchZones ? renderBranch(branch, branchZones) : null\n    })\n    onSortEnd = ({ oldIndex, newIndex, collection }) => {\n      const group = grouped[collection]\n      const zone = group[oldIndex]\n      zoneModel.changeZonePriority(zone, oldIndex, newIndex)\n    }\n  }\n\n  return (\n    <ZoneListContainerStyled\n      useDragHandle={true}\n      lockAxis=\"y\"\n      onSortEnd={onSortEnd}\n    >\n      {output}\n    </ZoneListContainerStyled>\n  )\n}\n","import { Trans } from '@lingui/react'\nimport React from 'react'\nimport { BulletList } from 'react-content-loader'\n\nimport { CardListTitle } from '../../../atoms/CardListTitle'\nimport { useZoneModel } from '../hooks/useZoneModel'\nimport { useZoneRouteControl } from '../hooks/useZoneRouteControl'\nimport { ZoneList } from '../molecules/ZoneList'\nimport { useZoneList } from './ZoneListLoader'\n\nexport const ZoneListControl: React.SFC = () => {\n  const zoneList = useZoneList()\n  if (zoneList === null) {\n    return <BulletList primaryOpacity={0.2} secondaryOpacity={0.2} />\n  }\n  const zoneModel = useZoneModel()\n  const { routeToZoneEdit } = useZoneRouteControl()\n  if (zoneModel.brand === null) {\n    return (\n      <CardListTitle>\n        <Trans>Select brand to see its zones</Trans>\n      </CardListTitle>\n    )\n  }\n  return (\n    <ZoneList\n      zoneModel={zoneModel}\n      zones={zoneList.filter(zoneModel.zoneFilterPredicate)}\n      branches={zoneModel.root.user.filterBranches(\n        zoneModel.branchFilterPredicate,\n      )}\n      onZoneEdit={routeToZoneEdit}\n    />\n  )\n}\n","import React from 'react'\n\nimport { GCompanyBranch } from '../../../graph/types'\nimport { RM } from '../../../helpers/ramda'\nimport { i18n } from '../../../i18n'\nimport { CompanyBranchDropdown } from '../../../molecules/CompanyBranchDropdown'\n\ntype TBranch = GCompanyBranch.Fragment\n\ninterface IProps {\n  branches: TBranch[]\n  selectedBranch: Maybe<TBranch>\n  onSelection(branch: Maybe<TBranch>): void\n  autoFocus: boolean\n}\n\nexport const ZoneFilterBranch: React.SFC<IProps> = ({\n  branches,\n  selectedBranch,\n  onSelection,\n  autoFocus,\n}) => (\n  <CompanyBranchDropdown\n    placeholder={i18n.t`Select branch`}\n    branches={branches}\n    selectedBranch={selectedBranch}\n    onSingleSelection={onSelection}\n    formatOptionLabel={RM.prop('name')}\n    isClearable={true}\n    autoFocus={autoFocus}\n  />\n)\n","import React from 'react'\n\nimport { SelectControl } from '../../../atoms/SelectControl'\nimport { GCompanyBranch } from '../../../graph/types'\nimport { RM } from '../../../helpers/ramda'\nimport { i18n } from '../../../i18n'\n\ntype TBrand = GCompanyBranch.Brand\n\ninterface IProps {\n  brands: TBrand[]\n  selectedBrand: Maybe<TBrand>\n  onSelection(brand: Maybe<TBrand>): void\n}\n\nexport const ZoneFilterBrand: React.SFC<IProps> = ({\n  brands,\n  selectedBrand,\n  onSelection,\n}) => (\n  <SelectControl<TBrand>\n    placeholder={i18n.t`Select brand`}\n    options={brands}\n    value={selectedBrand}\n    formatOptionLabel={RM.prop('name')}\n    getOptionValue={RM.prop('id')}\n    getOptionLabel={RM.prop('name')}\n    isClearable={true}\n    isSearchable={true}\n    onChange={value => onSelection(value as Maybe<TBrand>)}\n    autoFocus={true}\n  />\n)\n","import React from 'react'\n\nimport { VerticalGap } from '../../../atoms/VerticalGap'\nimport { WithRoot } from '../../../atoms/WithRoot'\nimport { GCompanyBranch } from '../../../graph/types'\nimport { RM } from '../../../helpers/ramda'\nimport { ZoneFilterBranch } from '../molecules/ZoneFIlterBranch'\nimport { ZoneFilterBrand } from '../molecules/ZoneFilterBrand'\n\nexport const ZoneFilter: React.SFC = () => (\n  <WithRoot\n    render={({ user, zone }) => {\n      const branches = user.branches!\n      if (branches.length === 0) {\n        return null\n      }\n\n      if (branches.length === 1) {\n        zone.setBranchFilter(RM.head(branches)!)\n        return null\n      }\n\n      const brands = user.brands!\n\n      const getBrandBranches = (brand: Maybe<GCompanyBranch.Brand>) =>\n        brand === null\n          ? []\n          : branches.filter(RM.pathEq(['brand', 'id'], brand.id))\n\n      const singleBrand = brands.length === 1 ? RM.head(brands)! : null\n      if (singleBrand) {\n        zone.setBrandFilter(singleBrand, getBrandBranches(zone.brand))\n      }\n\n      return (\n        <>\n          {!singleBrand && (\n            <ZoneFilterBrand\n              brands={brands}\n              selectedBrand={zone.brand}\n              onSelection={brand => {\n                if (brand === null) {\n                  zone.clearBrandFilter()\n                } else {\n                  zone.setBrandFilter(brand, getBrandBranches(brand))\n                }\n              }}\n            />\n          )}\n          {!singleBrand && <VerticalGap />}\n          <ZoneFilterBranch\n            branches={getBrandBranches(zone.brand)}\n            selectedBranch={zone.branch}\n            autoFocus={Boolean(singleBrand)}\n            onSelection={branch => {\n              if (branch === null) {\n                zone.clearBranchFilter()\n              } else {\n                zone.setBranchFilter(branch)\n              }\n            }}\n          />\n        </>\n      )\n    }}\n  />\n)\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { CanMutate } from '../../../atoms/CanMutate'\nimport { Card } from '../../../atoms/Card'\nimport { ScrollArea } from '../../../atoms/ScrollArea'\nimport { CreateZoneButton } from '../molecules/CreateZoneButton'\nimport { ZoneListControl } from '../organisms/ZoneListControl'\nimport { ZoneFilter } from './ZoneFilter'\n\nconst ZoneMenuContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`\n\nconst FixedHeaderContainer = styled.div`\n  flex: 0 0 auto;\n`\nconst ScrollAreaContainer = styled.div`\n  flex: 1 1 0;\n  min-height: 0;\n`\nexport const ZoneMenuPanel: React.SFC = () => (\n  <ZoneMenuContainer>\n    <FixedHeaderContainer>\n      <Card>\n        <ZoneFilter />\n      </Card>\n      <CanMutate mutationName=\"createZone\">\n        <CreateZoneButton />\n      </CanMutate>\n    </FixedHeaderContainer>\n\n    <ScrollAreaContainer>\n      <ScrollArea>\n        <ZoneListControl />\n      </ScrollArea>\n    </ScrollAreaContainer>\n  </ZoneMenuContainer>\n)\n","import React from 'react'\nimport { RouteComponentProps } from 'react-router'\n\nimport { i18n } from '../../../i18n'\nimport { PageLayout } from '../../../molecules/PageLayout'\nimport { PageLayoutFullHeightItem } from '../../../molecules/PageLayoutFullHeightItem'\nimport { ZoneFormPanel } from '../organisms/ZoneFormPanel'\nimport { ZoneListLoader } from '../organisms/ZoneListLoader'\nimport { ZoneMapControl } from '../organisms/ZoneMapControl'\nimport { ZoneMenuPanel } from '../organisms/ZoneMenuPanel'\n\ninterface IProps extends RouteComponentProps<{ zoneId?: ID }> {}\n\nexport const ZonePageLayout: React.SFC<IProps> = ({ match }) => {\n  const isEditing = Boolean(match.params.zoneId)\n  return (\n    <ZoneListLoader>\n      <PageLayout\n        pageTitle={i18n.t`Delivery zones`}\n        useBackButton={true}\n        backRoute=\"/settings\"\n      />\n      <PageLayoutFullHeightItem\n        widthInColumns={6}\n        column={10}\n        withScrollArea={isEditing}\n      >\n        {isEditing ? <ZoneFormPanel /> : <ZoneMenuPanel />}\n      </PageLayoutFullHeightItem>\n      <PageLayoutFullHeightItem widthInColumns={10}>\n        <ZoneMapControl />\n      </PageLayoutFullHeightItem>\n    </ZoneListLoader>\n  )\n}\n","import React from 'react'\nimport { Route, RouteComponentProps, Switch } from 'react-router'\n\nimport { NotFoundPage } from '../../../pages/NotFoundPage'\nimport { ZonePageLayout } from '../../../segments/zones/pages/ZonePageLayout'\nimport { useZoneRouteControl } from '../hooks/useZoneRouteControl'\n\ninterface IZoneMenuRoutesProps extends RouteComponentProps<{}> {}\n\nexport const ZoneMenuRoutes: React.SFC<IZoneMenuRoutesProps> = () => {\n  const { getRouteToZone } = useZoneRouteControl()\n  return (\n    <Switch>\n      <Route path={getRouteToZone(':zoneId?')} component={ZonePageLayout} />\n      <Route component={NotFoundPage} />\n    </Switch>\n  )\n}\n\nexport default ZoneMenuRoutes\n"],"sourceRoot":""}