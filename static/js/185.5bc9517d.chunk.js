(window.webpackJsonp=window.webpackJsonp||[]).push([[185],{1459:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var a=t(26),r=t(1464),i=t(19),o=a.default.input.attrs(function(e){var n=e.invalid,t=void 0!==n&&n,a=e.inputFullWidth,i=void 0!==a&&a;return{className:Object(r.cn)({invalid:t,fullWidth:i})}}).withConfig({displayName:"FormInputStyled",componentId:"sc-18qocdt-0"})(["margin:",";&.invalid{border:1px red solid;background-color:#ff000011;}&.fullWidth{width:100%;}"],i.d.MarginAroundFormComponents)},1476:function(e,n,t){var a={"./cs.svg":1477,"./de.svg":1478,"./en.svg":1479,"./pl.svg":1480,"./sk.svg":1481};function r(e){var n=i(e);return t(n)}function i(e){var n=a[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1476},1482:function(e,n,t){var a={"./logo-doveze.svg":1483,"./logo-gopay.svg":1484,"./logo-mastercard.svg":1485,"./logo-visa.svg":1486};function r(e){var n=i(e);return t(n)}function i(e){var n=a[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1482},1523:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var a=t(5),r=t(26),i=t(1524),o=t.n(i),s=t(1525),c=t.n(s);function d(){var e=Object(a.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n\n  @media only screen and (-webkit-min-device-pixel-ratio: 1.3),\n    only screen and (min--moz-device-pixel-ratio: 1.3),\n    only screen and (-o-min-device-pixel-ratio: 2.6/2),\n    only screen and (min-device-pixel-ratio: 1.3),\n    only screen and (min-width: 1024px) {\n    background-image: url(",");\n  }\n"]);return d=function(){return e},e}var l=r.default.div(d(),o.a,c.a)},1524:function(e,n,t){e.exports=t.p+"static/media/bg_login.382d98be.jpg"},1525:function(e,n,t){e.exports=t.p+"static/media/bg_login@2x.35ab1818.jpg"},1526:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var a=t(26),r=t(19),i=a.default.div.withConfig({displayName:"PasswordPageGrid",componentId:"qobi9l-0"})(["display:grid;width:100vw;height:100vh;grid-gap:",";grid-template-columns:repeat(16,1fr);grid-template-rows:repeat(7,3rem);padding:0 "," 0 ",";"],r.d.Middle,r.d.Small,r.d.Small)},2625:function(e,n,t){"use strict";t.r(n);var a=t(25),r=t.n(a),i=t(36),o=t(91),s=t(69),c=t(0),d=t.n(c),l=t(74),u=t(57),p=t(41),g=t(43),m=t(207),b=t(45),v=t(1523),f=t(331),h=t(186),w=t(1526),y=t(5),k=t(98),E=t(2604),O=t(2605),j=t(26),x=t(1459),C=t(46),_=t(1687),P=t.n(_),S=function(e){var n=e.children,t=Object(c.useState)(""),a=Object(o.a)(t,2),r=a[0],i=a[1],s={minLen:function(e){return b.b._("Minimal length is {length}",{length:e})},maxLen:function(e){return b.b._("Maximal length is {length}",{length:e})},digits:b.b._("Requires at least one digit"),uppercaseChars:b.b._("Requires at least one uppercase character")},l=Object(c.useCallback)(function(){return r},[r]);return d.a.createElement(P.a,{minLen:6,maxLen:30,digits:1,uppercaseChars:1,defaultMessages:s,onChange:i},function(e){return n(Object(C.a)({},e,{getPassword:l}))})},L=t(139),T=t(19);function M(){var e=Object(y.a)(["\n  background-color: ",";\n  opacity: 0.5;\n  padding: 1rem;\n  width: 31rem;\n"]);return M=function(){return e},e}function N(){var e=Object(y.a)(["\n  .password {\n    display: inline-block;\n    margin: 0.5rem;\n\n    button {\n      display: inline-block;\n      width: 3rem;\n    }\n  }\n\n  .submit {\n    width: 14rem;\n    margin: 0.5rem;\n  }\n"]);return N=function(){return e},e}var R=j.default.div(N()),q=j.default.div(M(),T.a.red),D=function(e){var n=e.onSubmitChange,t=e.buttonLabel;return d.a.createElement(S,null,function(e){var a=e.getInputProps,r=e.valid,i=e.errors,o=e.touched,s=e.isVisible,c=e.toggleShowPassword,l=e.getPassword;return d.a.createElement(R,null,d.a.createElement("div",{className:"password"},d.a.createElement(x.a,Object.assign({},a(),{name:"password",placeholder:b.b._("new password"),invalid:o&&!r})),d.a.createElement(L.a,{color:T.a.greyMiddle,onClick:c,icon:s?E.a:O.a,iconSize:2})),d.a.createElement("div",{className:"submit"},d.a.createElement(L.a,{color:T.a.green,disabled:!r,onClick:function(e){e.preventDefault(),n(l())}},t)),o&&!r&&d.a.createElement(q,null,d.a.createElement(k.Trans,{id:"Password is invalid due to following errors:"}),d.a.createElement("ul",null,i.map(function(e){return d.a.createElement("li",{key:e.key},e.message)}))))})},F=function(e){var n=e.onPasswordChange,t=e.pageTitle,a=e.buttonLabel;return d.a.createElement(v.a,null,d.a.createElement(h.a,{title:t}),d.a.createElement(w.a,null,d.a.createElement(f.a,{gridRow:"2 / span 2",gridColumn:"6 / span 6"},d.a.createElement(h.a.Display,null)),d.a.createElement(f.a,{gridRow:"4 / span 6",gridColumn:"6 / span 6"},d.a.createElement(D,{onSubmitChange:n,buttonLabel:a}))))};t.d(n,"PasswordChangeRoute",function(){return I});var I=function(e){var n=e.history,t=e.location,a=e.match,c=Object(u.b)().auth,v=Object(m.a)(),f=v.enqueueError,h=v.enqueueSuccess,w=Object(s.useSentryScope)(),y=a.params.token,k=window.atob(y);w.setExtras({tempToken:y,decodedTempToken:k});var E=Object(p.P)({fetchPolicy:"no-cache",context:{overrideWithToken:k}}),O=Object(o.a)(E,1)[0];if(!y)return Object(g.a)("no token has been passed to change password"),f(b.b._("Request for password update is invalid. Please try again.")),d.a.createElement(l.Redirect,{to:"/"});var j={onPasswordChange:function(){var e=Object(i.a)(r.a.mark(function e(t){var a,i,o,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({password:t});case 2:(a=e.sent)?(i=a.change,o=i.userId,d=i.newToken,c.invalidate(),c.authenticate(d,o),h(b.b._("Password has been updated."))):(s.Sentry.captureMessage("Password change failed"),f(b.b._("Request for password update is invalid. Please try again."))),n.replace("/");case 5:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),pageTitle:"",buttonLabel:""};if(t.pathname.includes("register"))j.pageTitle=b.b._("Set up password"),j.buttonLabel=b.b._("Create password");else{if(!t.pathname.includes("recovery"))return d.a.createElement(l.Redirect,{to:"/"});j.pageTitle=b.b._("Password recovery"),j.buttonLabel=b.b._("Update password")}return d.a.createElement(F,j)};n.default=I}}]);
//# sourceMappingURL=185.5bc9517d.chunk.js.map