(window.webpackJsonpspeedlo=window.webpackJsonpspeedlo||[]).push([[180],{1410:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n(3),a=n(2819),i=n(1412),c=n(0),o=n.n(c),l=n(18),u=n(44),d=n(36),s=n(15),m=n(1446),f=n(148);function p(){var e=Object(r.a)(["\n  grid-column: content;\n  margin-left: 0.5rem;\n"]);return p=function(){return e},e}function b(){var e=Object(r.a)(["\n  grid-column: content;\n  justify-self: start;\n  margin: ",";\n  "]);return b=function(){return e},e}function v(){var e=Object(r.a)(["\n  grid-column: desc;\n  margin: ",";\n\n  div.label {\n    padding-top: 0.2rem;\n    display: inline-block;\n    &.smallCaps {\n      font-variant-caps: all-petite-caps;\n    }\n  }\n\n  ",";\n"]);return v=function(){return e},e}function g(){var e=Object(r.a)(["\n  display: flex;\n\n  div.description {\n    margin: ",";\n    min-width: ",";\n    flex: 0 0 auto;\n    text-align: right;\n  }\n\n  div.contents {\n    margin-left: 0.5rem;\n    align-self: stretch;\n    flex: 1 1 auto;\n  }\n\n  div.label {\n    padding-top: 0.2rem;\n    display: inline-block;\n    &.smallCaps {\n      font-variant-caps: all-petite-caps;\n    }\n  }\n"]);return g=function(){return e},e}var h=l.c.div(g(),function(e){return e.labelMargin},function(e){var t=e.labelWidth,n=e.labelWidthUnits;return"".concat(t).concat(n)}),y=l.c.div(v(),function(e){return e.labelMargin},Object(u.d)(b(),function(e){return e.labelMargin.replace("auto","0.7rem")})),O=l.c.div(p()),E=function(e){var t=e.icon,n=e.label,r=e.labelWidth,c=void 0===r?0:r,l=e.labelWidthUnits,u=void 0===l?s.d.DefaultSizeUnit:l,p=e.labelMargin,b=void 0===p?"0.5rem 0.2rem 0 auto":p,v=e.labelSmallCaps,g=void 0===v||v,E=e.children,j=t;"string"===typeof t&&(Object(d.b)('IconLine: Do not use icon prop as string! Replace "'.concat(t,'" with the one imported from @material-ui/icons.')),j=a.a);var w=Object(m.b)(),C=o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{icon:j,color:s.a.greyDark}),n?o.a.createElement("div",{className:Object(i.b)("label",{smallCaps:g})},n):null);return w?o.a.createElement(o.a.Fragment,null,o.a.createElement(y,{labelMargin:b},C),o.a.createElement(O,null,E)):o.a.createElement(h,{labelWidth:c,labelWidthUnits:u,labelMargin:b},o.a.createElement("div",{className:"description"},C),o.a.createElement("div",{className:"contents"},E))}},1411:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return c});var r=n(46);function a(e,t){var n=Object(r.b)().user;return e.every(n.canQuery)&&t.every(n.canMutate)}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t,[])}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a([],t)}},1415:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(25),a=n(0),i=n.n(a),c=n(1499),o=n(15);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){var t=e.width,n=e.minWidth;return u({},!0===e.invalid?{border:"1px solid ".concat(o.a.red),backgroundColor:o.a.errorBackground}:{border:"1px solid ".concat(o.a.greyMiddle)},{margin:o.d.MarginAroundFormComponents,width:void 0!==t?"".concat(t,"rem"):"100%",minWidth:void 0!==n?"".concat(n,"rem"):"8rem"})}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u({},e,{control:function(t,n){var r=u({},t,{},d(n.selectProps));return e.control?e.control(r,n):r},menu:function(t,n){var r=n.selectProps.width,a=u({},t,{zIndex:20,color:o.a.black,width:void 0!==r?"".concat(r,"rem"):"100%"});return e.menu?e.menu(a,n):a},valueContainer:function(t,n){var r=n.selectProps.maxHeight,a=u({},t,{maxHeight:void 0!==r?"".concat(r,"rem"):"100%",overflowY:void 0!==r?"scroll":"hidden"});return e.valueContainer?e.valueContainer(a,n):a}})};function m(e){return i.a.createElement(c.b,Object.assign({},e,{styles:s(e.styles)}))}},1419:function(e,t,n){"use strict";var r=n(3),a=n(18),i=n(0),c=n.n(i),o=n(44);function l(){var e=Object(r.a)(["\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  height: 100%;\n"]);return l=function(){return e},e}var u=a.c.div(l()),d=n(116),s=n(15);function m(){var e=Object(r.a)(["\n    margin: 0;\n    grid-row: "," ;\n    grid-column: span 16;\n    height: "," ;\n    position: relative;\n  "]);return m=function(){return e},e}function f(){var e=Object(r.a)(["\n  position: fixed;\n  bottom: 0.5rem;\n  width: ",";\n  left: ",";\n  top: ",";"]);return f=function(){return e},e}n.d(t,"a",function(){return b});var p=a.c.div.withConfig({displayName:"StyledPageLayoutFullHeightItem",componentId:"sc-1mean6j-0"})([""," ",""],Object(o.c)(f(),function(e){return void 0!==e.widthInColumns?"calc(("+e.widthInColumns+" * 6.22vw) - "+s.d.LayoutGridCellMargin+")":"calc(100vh - (2 * "+s.d.LayoutGridCellMargin+"))"},function(e){return void 0!==e.column?"calc(("+e.column+" * 6.22vw) + "+s.d.LayoutGridCellMargin+")":s.d.LayoutGridCellMargin},function(e){return void 0!==e.row?"calc(("+e.row+" * 3.9375rem) + "+s.d.LayoutGridCellMargin+")":"calc(3.9375rem + "+s.d.LayoutGridCellMargin+")"}),Object(o.d)(m(),function(e){return e.rowInMobile},function(e){var t=e.forcePercentHeightInMobile;return t?"calc(".concat(t,"vh - ").concat(s.d.PageHeaderHeight+.25+s.d.DefaultSizeUnit,")"):"unset"})),b=function(e){var t=e.children,n=e.row,r=void 0===n?1:n,a=e.rowInMobile,i=void 0===a?16:a,l=e.column,s=void 0===l?0:l,m=e.widthInColumns,f=void 0===m?16:m,b=e.withScrollArea,v=void 0!==b&&b,g=e.scrollAreaId,h=e.forcePercentHeightInMobile,y=Object(o.f)().isMobile;return c.a.createElement(p,{column:s,row:r,rowInMobile:i,widthInColumns:f,withScrollArea:v,forcePercentHeightInMobile:h},v&&!y?c.a.createElement(u,{id:g},t):c.a.createElement(d.a,{height:100,heightUnit:"%"},t))}},1423:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(3),a=n(0),i=n.n(a),c=n(18),o=n(15);function l(){var e=Object(r.a)(["\n  border-top: 1px solid ",";\n  margin: 0.25rem 0rem;\n"]);return l=function(){return e},e}var u=c.c.div(l(),o.a.greyLight),d=function(e){var t=e.visible;return void 0===t||t?i.a.createElement(u,null):null}},1425:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(3),a=n(87),i=n(1412),c=n(0),o=n.n(c),l=n(18),u=n(57),d=n(15);function s(){var e=Object(r.a)(["\n  ","\n\n  color: ",";\n\n  &.interactive {\n    cursor: pointer;\n  }\n\n  &.invalid {\n    border: 1px red solid;\n  }\n\n  > div {\n    padding: 0.2rem 0.3rem;\n    margin: 0.3rem 0.3rem;\n    display: inline-block;\n    border: 1px dotted ",";\n  }\n\n  > div.active {\n    font-weight: bolder;\n    text-decoration: underline;\n  }\n\n  > div.hover {\n    text-decoration: underline;\n  }\n"]);return s=function(){return e},e}var m=l.c.div(s(),function(e){return""},function(e){var t=e.textColor;return t||"inherit"},d.a.greyMiddle),f=function(e){var t=e.items,n=e.formatItem,r=void 0===n?u.a.prop("displayName"):n,c=e.isMulti,l=void 0!==c&&c,d=e.isClearable,s=void 0!==d&&d,f=e.isInvalid,p=void 0!==f&&f,b=e.disabled,v=void 0!==b&&b,g=e.selectedItem,h=e.selectedItems,y=e.onSingleSelection,O=e.onMultiSelection,E=e.textColor,j=1===t.length,w=function(e){return 1!==t.length&&(l&&Array.isArray(h)?u.a.contains(e,h):u.a.equals(g,e))},C=function(e){j||v||(null===e?l&&O?O([]):y&&y(null):l&&O?w(e)?O(Array.isArray(h)?u.a.without([e],h):[e]):O(Array.isArray(h)?u.a.concat(h,[e]):[]):y&&y(e))};return o.a.createElement(m,{className:Object(i.b)({invalid:p,interactive:!j||v}),textColor:E},s&&o.a.createElement("div",{className:Object(i.b)({active:!(l?Array.isArray(h)&&h.length>0:null!==g&&void 0!==g)}),onClick:function(){C(null)}},o.a.createElement(a.Trans,{id:"optionselector.clear-filter"})),t.map(function(e,t){var n=r(e);return o.a.createElement("div",{key:t,className:Object(i.b)({active:w(e)}),onClick:function(){C(e)}},n)}))}},1428:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(14),a=n(0),i=n.n(a),c=n(46);function o(e){var t=Object(c.b)().user;i.a.useEffect(function(){return Object(r.autorun)(function(){t.isReady&&t.hasSingleBranch&&e(t.branches[0])})})}},1434:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(46),c=n(57),o=n(1450),l=n(17),u=n(1425),d=n(15),s=function(e){var t=e.branches,n=e.selectedBranch,r=e.selectedBranches,i=e.textColor,c=void 0===i?d.a.black:i,o=Object(l.a)(e,["branches","selectedBranch","selectedBranches","textColor"]);return a.a.createElement(u.a,Object.assign({items:t,selectedItem:n,selectedItems:r,textColor:c,formatItem:function(e){return a.a.createElement("span",{title:e.brand.name},e.name)}},o))};n.d(t,"a",function(){return m});var m=function(e){var t=e.breakpoint,n=void 0===t?3:t,r=e.branches,l=e.selectedBranches,u=void 0===l?[]:l,d=e.isMulti,m=void 0!==d&&d,f=e.isClearable,p=void 0===f||f,b=e.hideWhenSingleBranch,v=void 0!==b&&b,g=e.textColor,h=e.onSelectionChange,y=e.onSelectionClear,O=e.getDropdownProps,E=void 0===O?function(){return{}}:O,j=Object(i.b)().user,w=function(e){return u.includes(e.id)},C={textColor:g,isClearable:p,isMulti:m,branches:r||j.branches,selectedBranch:j.branches.find(w)||null,selectedBranches:j.branches.filter(w),onSingleSelection:function(e){null===e&&y?y():null!==e&&h&&h([e.id],[e])},onMultiSelection:function(e){0===e.length&&y?y():e.length&&h&&h(e.map(c.a.prop("id")),e)}};return j.hasSingleBranch&&v?null:j.branches.length<n?a.a.createElement(s,C):a.a.createElement(o.a,Object.assign({},C,E()))}},1435:function(e,t,n){var r={"./cs.svg":1436,"./de.svg":1437,"./en.svg":1438,"./pl.svg":1439,"./sk.svg":1440};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=1435},1441:function(e,t,n){var r={"./logo-doveze.svg":1442,"./logo-gopay.svg":1443,"./logo-mastercard.svg":1444,"./logo-visa.svg":1445};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=1441},1446:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f});var r=n(3),a=n(18),i=n(0),c=n.n(i),o=n(44);function l(){var e=Object(r.a)(["\n    grid-template-columns: 1fr;\n    grid-template-areas:\n      'content';\n  "]);return l=function(){return e},e}var u=a.c.div.withConfig({displayName:"StyledFormGrid",componentId:"gzj657-0"})(["display:grid;grid-template-columns:0.1fr [desc] auto [content] 1fr;grid-template-areas:'. desc content';grid-auto-flow:row dense;",";"],Object(o.d)(l())),d=0,s=c.a.createContext(d),m=function(e){return c.a.createElement(u,null,c.a.createElement(s.Provider,{value:++d},e.children))};function f(){return c.a.useContext(s)>0}},1450:function(e,t,n){"use strict";var r=n(25),a=n(17),i=n(87),c=n(0),o=n.n(c),l=n(3);function u(){var e=Object(l.a)(["\n  cursor: ",";\n"]);return u=function(){return e},e}var d=n(18).c.div(u(),function(e){var t=e.cursor;return void 0===t?"default":t}),s=function(e){var t=e.branch,n=e.onClick,r=e.short,a=void 0!==r&&r,i=e.showBrand,c=void 0===i||i;return o.a.createElement(d,{cursor:"pointer",onClick:n},a?t.name.substr(0,8):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,t.name),c&&o.a.createElement("span",null," [".concat(t.brand.name,"]"))))},m=n(1415),f=n(57),p=n(35),b=n(15);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}n.d(t,"a",function(){return h});var g=function(e){var t=e.getStyles,n=e.innerProps,r=n.ref,c=Object(a.a)(n,["ref"]);return o.a.createElement("div",Object.assign({},c,{ref:r,style:t("clearIndicator",e)}),o.a.createElement("div",{style:{padding:"0px 5px"}},o.a.createElement(i.Trans,{id:"All"})))},h=function(e){var t=e.branches,n=e.selectedBranch,i=e.onSingleSelection,c=e.selectedBranches,l=e.onMultiSelection,u=Object(a.a)(e,["branches","selectedBranch","onSingleSelection","selectedBranches","onMultiSelection"]);return o.a.createElement(m.a,Object.assign({value:u.isMulti?c:n,placeholder:u.isMulti?p.b._("Filter branches..."):p.b._("Select a branch"),maxHeight:b.d.ButtonHeight,options:t,getOptionValue:f.a.prop("id"),formatOptionLabel:function(e){return o.a.createElement(s,{branch:e})},filterOption:function(e,t){return e.data.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())},closeMenuOnSelect:!u.isMulti,components:{ClearIndicator:g},styles:{clearIndicator:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{cursor:"pointer"})}},onChange:function(e){u.isMulti&&l&&Array.isArray(e)&&l(e),!u.isMulti&&i&&(Array.isArray(e)?i(f.a.head(e)||null):i(e||null))}},u))}},1454:function(e,t,n){"use strict";var r=n(71),a=n(0),i=n.n(a),c=n(38),o=Object(c.a)(i.a.createElement("path",{d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"}),"StoreMallDirectory"),l=n(49),u=n(1410),d=n(46),s=n(1428),m=n(1487),f=n(1434);n.d(t,"a",function(){return p});var p=function(e){var t=e.isMulti,n=void 0!==t&&t,a=e.width,c=Object(d.b)(),p=c.settings,b=c.user;Object(s.a)(function(e){p.selectBranch(e.id)});var v=(0,Object(m.a)().getQueryParam)("branchId");return i.a.useEffect(function(){v&&p.selectBranch(v)},[v,p]),Object(l.g)(function(){return b.hasSingleBranch?null:i.a.createElement(u.a,{icon:o},i.a.createElement(f.a,{selectedBranches:p.branchId?[p.branchId]:void 0,onSelectionChange:function(e){var t=Object(r.a)(e,1)[0];return p.selectBranch(t)},isMulti:n,isClearable:!1,getDropdownProps:function(){return{width:a}},hideWhenSingleBranch:!0}))})}},1457:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=n(18).c.div.withConfig({displayName:"CardDock",componentId:"sc-1fyaqia-0"})(["position:absolute;",";",";"],function(e){var t=e.position;return"BottomRight"===t||"BottomLeft"===t?"bottom: 0":"top: 0"},function(e){var t=e.position;return"BottomLeft"===t||"TopLeft"===t?"left: 0":"right: 0"})},1458:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(49),a=n(266);function i(e){Object(r.d)(function(){return Object(a.b)(e)})}},1471:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return O});var r,a,i=n(3),c=n(25),o=n(18),l=n(172),u=n(0),d=n.n(u),s=n(15);function m(){var e=Object(i.a)(["\n  cursor: pointer;\n"]);return m=function(){return e},e}function f(){var e=Object(i.a)(["\n  font-size: 1.7rem;\n  line-height: 1.6rem;\n  font-weight: bold;\n"]);return f=function(){return e},e}function p(){var e=Object(i.a)(["\n  font-size: 0.8rem;\n"]);return p=function(){return e},e}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING",e[e.NORMAL=3]="NORMAL"}(a||(a={}));var b=o.c.div.withConfig({displayName:"StyledTimeBadge",componentId:"zuoyiw-0"})(["height:2rem;line-height:2rem;width:2rem;border-radius:50%;overflow:hidden;border:1px solid white;color:",";background:",";text-align:center;font-family:'Open Sans',sans-serif;"],s.a.white,s.a.greyMiddle),v=(r={},Object(c.a)(r,a.UNKNOWN,Object(o.c)(b).withConfig({displayName:"UNKNOWN",componentId:"zuoyiw-1"})([""])),Object(c.a)(r,a.CRITICAL,Object(o.c)(b).withConfig({displayName:"CRITICAL",componentId:"zuoyiw-2"})(["background:",";"],s.a.red)),Object(c.a)(r,a.WARNING,Object(o.c)(b).withConfig({displayName:"WARNING",componentId:"zuoyiw-3"})(["background:",";color:",";font-weight:bold;"],s.a.orange,s.a.black)),Object(c.a)(r,a.NORMAL,Object(o.c)(b).withConfig({displayName:"NORMAL",componentId:"zuoyiw-4"})(["background:",";"],s.a.green)),r),g=Object(l.a)(p()),h=Object(l.a)(f()),y=Object(l.a)(m()),O=d.a.forwardRef(function(e,t){var n=e.minutes,r=e.className,i=e.children,c=e.variant,o=e.onClick,u=v[c],s=i,m=["animated"];return void 0!==n&&((n>99||n<-9)&&m.push(g),n<-99?(s="\u2012",m.push(h)):s=n.toString()),o&&m.push(y),d.a.createElement(u,{ref:t,key:n,onClick:o,className:l.b.apply(void 0,[r,{heartBeat:c===a.CRITICAL&&n>0,pulse:c===a.WARNING}].concat(m))},s)})},1472:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(3);function a(){var e=Object(r.a)(["\n  color: inherit;\n  text-decoration-color: rgba(0, 0, 0, 0.08);\n  &:hover {\n    text-decoration-color: rgba(0, 0, 0, 0.5);\n  }\n  &:visited {\n    text-decoration-color: rgba(0, 0, 0, 0.08);\n  }\n"]);return a=function(){return e},e}var i=n(18).c.a(a())},1478:function(e,t,n){"use strict";var r=n(3),a=n(18),i=n(0),c=n.n(i),o=n(38),l=Object(o.a)(c.a.createElement(c.a.Fragment,null,c.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"}),c.a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"})),"CancelOutlined"),u=n(40),d=n(72),s=n(172),m=n(1471),f=n(15);function p(){var e=Object(r.a)(["\n  padding: 0.2rem 0.3rem 0.1rem 0.3rem;\n"]);return p=function(){return e},e}n.d(t,"a",function(){return g});var b=Object(s.a)(p()),v=a.c.div.withConfig({displayName:"StyledDelayedTimeMark",componentId:"g9mune-0"})(["background:",";border:2px solid ",";width:0.6rem;height:0.6rem;border-radius:0.7rem;position:absolute;"],f.a.white,f.a.greyMiddle),g=function(e){var t=e.deliverAt,n=e.deliveredAt,r=e.isCancelled,a=void 0!==r&&r,i=e.isDelayed,o=void 0!==i&&i,s=e.onClick,f=!(n||a),p=Object(u.o)({interval:u.b,enabled:f}),g=m.a.UNKNOWN;if(a)return c.a.createElement(m.b,{variant:g,className:b},c.a.createElement(l,null));if(!t)return c.a.createElement(m.b,{variant:g},c.a.createElement("span",{role:"img","aria-label":"Unknown"},"\u2754"));var h=Object(d.differenceInMinutes)(t,n||p);return g=h>20?m.a.NORMAL:h>0?m.a.WARNING:m.a.CRITICAL,c.a.createElement(c.a.Fragment,null,o&&c.a.createElement(v,null),c.a.createElement(m.b,{minutes:h,variant:g,onClick:s}))}},1487:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(71),a=n(0),i=n.n(a);function c(){var e=window.location.search,t=i.a.useMemo(function(){return new URLSearchParams(e)},[e]);return{getQueryParam:function(e){return t.get(e)},createQueryString:function(e){return Object.entries(e).map(function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(a)}).join("&")}}}},1488:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(18),a=n(15),i=r.c.h2.withConfig({displayName:"CardListTitle",componentId:"dr5aqq-0"})(["color:",";font-weight:lighter;font-size:1.2rem;margin:0.8rem 0 0.8rem 0.3rem;"],a.a.greyLight)},1489:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n.n(r),i=function(e){var t=e.customer;return t?a.a.createElement("span",null,"".concat(t.lastName?"".concat(t.firstName," ").concat(t.lastName):t.defaultPhone?t.defaultPhone.phone:"")):a.a.createElement("i",null,"unknown")}},1510:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(18),a=n(1627),i=n(0),c=n.n(i),o=n(1423),l=n(1410),u=n(35),d=n(15),s=r.c.span.withConfig({displayName:"StyledCurrentNote",componentId:"fzcqzs-0"})(["color:",";"],d.a.orange),m=function(e){var t=e.note;return t?c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,null),c.a.createElement(l.a,{icon:a.a,labelMargin:"0"},c.a.createElement(s,null,t||u.b._("Without note").toLocaleLowerCase()))):null}},1518:function(e,t,n){"use strict";var r=n(3),a=n(87),i=n(129),c=n.n(i),o=n(0),l=n.n(o),u=n(318),d=n(18),s=n(70),m=n(302),f=n(15),p=n(1489),b=n(1478),v=n(1634),g=n(148);function h(){var e=Object(r.a)(["\n  display: inline-block;\n  position: absolute;\n  right: 3.8rem;\n  top: 0;\n"]);return h=function(){return e},e}var y=d.c.div(h()),O=function(){return l.a.createElement(y,{"data-testid":"OrderStarIndicator"},l.a.createElement(g.a,{icon:v.a,color:f.a.orange}))};function E(){var e=Object(r.a)(["\n  font-style: italic;\n  color: ",";\n"]);return E=function(){return e},e}function j(){var e=Object(r.a)(["\n  padding: 0.3rem 0.6rem;\n  display: inline-block;\n  border-top-left-radius: ",";\n  background-color: ",";\n  color: ",";\n"]);return j=function(){return e},e}function w(){var e=Object(r.a)(["\n  color: ",";\n"]);return w=function(){return e},e}function C(){var e=Object(r.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0.1rem;\n    right: -0.3rem;\n    left: 0.9rem;\n    bottom: 0.3rem;\n    border-top: 2px solid ",";\n    transform: rotate(13deg);\n    transform-origin: 0% 0%;\n    opacity: 0.7;\n  }\n"]);return C=function(){return e},e}function k(){var e=Object(r.a)(["\n  flex: 0 0 3.5rem;\n  text-align: right;\n  position: relative;\n"]);return k=function(){return e},e}function M(){var e=Object(r.a)(["\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n"]);return M=function(){return e},e}function I(){var e=Object(r.a)(["\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n"]);return I=function(){return e},e}function N(){var e=Object(r.a)(["\n  flex: 0 0 2rem;\n"]);return N=function(){return e},e}function S(){var e=Object(r.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  padding: 0.4rem;\n"]);return S=function(){return e},e}function x(){var e=Object(r.a)(["\n  text-align: left;\n  cursor: pointer;\n  &:hover {\n    background-color: ",";\n  }\n  &:active {\n    background-color: ",";\n  }\n"]);return x=function(){return e},e}n.d(t,"b",function(){return F}),n.d(t,"a",function(){return _});var R=Object(d.c)(u.Element)(x(),c()(f.a.turquoise).alpha(.05).string(),c()(f.a.turquoise).alpha(.2).string()),P=d.c.div(S()),A=d.c.div(N()),D=d.c.div(I()),T=d.c.div(M()),H=d.c.div(k()),B=d.c.div(C(),f.a.orange),L=d.c.div(w(),f.a.orange),F=d.c.div(j(),f.c.Card,f.a.green,f.a.white),z=d.c.div(E(),f.a.violet),_=function(e){var t=e.order,n=e.isCancelled,r=e.showBranch,i=e.onClick;return l.a.createElement(R,{onClick:i,name:"order-".concat(t.id)},r&&l.a.createElement(F,null,t.companyBranch.name),l.a.createElement(P,null,l.a.createElement(A,null,l.a.createElement(b.a,{deliverAt:t.deliverAt?new Date(t.deliverAt):null,deliveredAt:t.deliveredAt?new Date(t.deliveredAt):null,isCancelled:n,isDelayed:null!==t.delayedDeliveryTime})),l.a.createElement(D,null,null!==t.sector?t.sector.name:t.deliveryType&&t.deliveryType.enum===s.a.Pickup?l.a.createElement(z,null,l.a.createElement(a.Trans,{id:"To pickup"})):t.address.original?t.address.original:Object(m.b)(t.address)),l.a.createElement(T,null,l.a.createElement(p.a,{customer:t.customer})),l.a.createElement(H,null,t.isPriority&&l.a.createElement(O,null),t.totalSum.formattedValue,t.isPaidWithCard&&l.a.createElement(l.a.Fragment,null,l.a.createElement(B,{"data-testid":"PaidMark"}),l.a.createElement(L,null,l.a.createElement(a.Trans,{id:"Paid"}))))))}},1565:function(e,t,n){e.exports=n.p+"static/media/orderNotification.0aa2ebe9.mp3"},1566:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(49),a=n(0),i=n.n(a),c=n(46),o=n(1428),l=n(1434),u=n(15),d=function(){var e=Object(c.b)().order;return Object(o.a)(function(t){e.list.setBranchFilter([t.id])}),Object(r.g)(function(){return i.a.createElement(l.a,{selectedBranches:Array.from(e.list.branches),onSelectionChange:function(t){e.list.setBranchFilter(t)},onSelectionClear:e.list.clearBranchFilter,textColor:u.a.turquoise,isMulti:!0,isClearable:!1,hideWhenSingleBranch:!0})})}},1626:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(38);t.a=Object(i.a)(a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.a.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"AccessTime")},1627:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(38);t.a=Object(i.a)(a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{d:"M22 10l-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5l5.5 5.5H15V5.5z"}),a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),"Note")},1634:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(38);t.a=Object(i.a)(a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"Star")},2840:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(53),c=n(171),o=n(96),l=n(328),u=n(87),d=n(44),s=n(308),m=n(70),f=n(35),p=n(1419),b=n(309),v=n(1566),g=n(21),h=n(49),y=n(46),O=n(1458),E=[m.f.NewOrders,m.f.Preparing,m.f.ReadyToDeliver],j=a.a.createContext({loading:!0,noFilter:!0,orders:[]}),w=g.RM.sortWith([g.RM.descend(g.RM.prop("isPriority")),g.RM.ascend(g.RM.prop("orderNumber")),g.RM.ascend(g.RM.either(g.RM.prop("deliverAt"),g.RM.prop("createdAt")))]),C=Object(h.b)(function(e){var t=Object(y.b)().order,n=!t.list.hasBranchFilter,r=Object(m.Ab)({branches:t.list.branchesFilter,categories:E},{skip:n}),i=r.data,c=r.loading,o=r.updateQuery,l=r.refetch;return Object(O.a)(l),Object(m.rc)({branches:t.list.branchesFilter,categories:E.concat(m.f.Finished)},{skip:n,onSubscriptionData:function(e){var t=e.subscriptionData.data;t&&o(function(e){return function(e,t){var n=e.updatedOrder.order;if(!n||!t.orders)return t;if(!E.includes(n.orderStateCategory))return{orders:t.orders.filter(function(e){return e.id!==n.id})};var r=!1,a=t.orders.map(function(e){return e.id===n.id?(r=!0,n):e});r||a.unshift(n);return{orders:a}}(t,e)})}}),a.a.createElement(j.Provider,{value:{loading:c,noFilter:n,orders:c?[]:w(i.orders)}},e.children)});var k=n(25),M=n(1488),I=n(57),N=n(1565),S=n.n(N),x=n(327),R=a.a.memo(function(e){var t=e.shouldPlay,n=Object(y.b)().config;return Object(x.a)({soundUrl:S.a,intervalSec:n.orderListSoundIntervalSec,shouldPlay:t})}),P=n(3),A=n(18);function D(){var e=Object(P.a)(["\n  margin: 0 0.5rem;\n"]);return D=function(){return e},e}var T,H,B=A.c.div(D()),L=(T={},Object(k.a)(T,m.e.Fresh,"todo"),Object(k.a)(T,m.e.Preparing,"progress"),Object(k.a)(T,m.e.Ready,"progress"),Object(k.a)(T,m.e.Cooked,"done"),T),F=(H={},Object(k.a)(H,m.f.NewOrders,"todo"),Object(k.a)(H,m.f.Preparing,"progress"),Object(k.a)(H,m.f.ReadyToDeliver,"done"),H);var z=n(304);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var W=Object.keys(F);function U(e){var t=null===e,n=Object(m.Bb)({branches:[e],categories:W},{skip:t}),r=n.data,a=n.loading,i=n.updateQuery,c=n.refetch;return Object(O.a)(c),Object(m.sc)({branches:[e],categories:W.concat(m.f.Finished)},{skip:t,onSubscriptionData:function(e){var t=e.subscriptionData.data;t&&i(function(e){return function(e,t){var n=e.updatedOrder.order;if(!n||!t.orders)return t;if(!W.includes(n.orderStateCategory))return{orders:t.orders.filter(function(e){return e.id!==n.id})};var r=!1,a=t.orders.map(function(e){return e.id===n.id?(r=!0,n):e});r||a.unshift(n);return{orders:a}}(t,e)})}}),Object(z.a)(t)(a,function(){return t?null:function(e){var t=e.map(K);return g.RM.groupBy(function(e){return e.state},t)}(r.orders)})}function K(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){Object(k.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{type:"order",state:F[e.orderStateCategory],time:e.deliverAt||e.createdAt,items:e.items.map(G)})}function G(e){return{id:e.id,code:e.recipe.code,name:e.recipe.name,state:L[e.state.enum],isReady:"done"===L[e.state.enum],sideDishes:e.sidedishes.map(g.RM.prop("recipe"))}}var q=n(1457),V=n(15),Q=n(1518),J=n(38),Y=Object(J.a)(a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),"KeyboardArrowRight"),X=n(115),Z=function(e){return a.a.createElement(X.a,Object.assign({icon:Y,width:V.d.ButtonHeight+V.d.DefaultSizeUnit,color:V.a.green},e))},$=n(51),ee=n.n($),te=n(80),ne=n(71),re=n(1411);function ae(){var e=Object(re.b)("addOrderState"),t=Object(re.b)("updateOrderRecipeState"),n=Object(re.b)("updateSectorRecipes"),r=Object(re.b)("updateSectorRecipe"),i=Object(m.O)(),c=Object(ne.a)(i,1)[0],o=Object(m.P)(),l=Object(ne.a)(o,1)[0],u=Object(m.Q)(),d=Object(ne.a)(u,1)[0],s=Object(m.R)(),f=Object(ne.a)(s,1)[0];return{canHandleCard:function(t){if("todo"===t.state){if("order"===t.type||"completion"===t.type)return e;if("sector"===t.type)return n}return"sector"===t.type&&t.state,"completion"===t.type&&"done"===t.state&&e},canHandleCardItem:function(e){if("todo"!==e.state){if("order"===e.type||"completion"===e.type)return t;if("sector"===e.type)return r}return!1},handleCard:a.a.useCallback(function(){var e=Object(te.a)(ee.a.mark(function e(t){return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("order"!==t.type){e.next=3;break}return e.next=3,c({orderId:t.id,state:m.g.InProduce});case 3:if("sector"!==t.type){e.next=10;break}if("todo"!==t.state){e.next=7;break}return e.next=7,d({sectorId:t.id,state:m.e.Preparing});case 7:if("done"!==t.state){e.next=10;break}return e.next=10,d({sectorId:t.id,state:m.e.Finished});case 10:if("completion"!==t.type){e.next=17;break}if("todo"!==t.state){e.next=14;break}return e.next=14,c({orderId:t.id,state:m.g.Accepted});case 14:if("done"!==t.state){e.next=17;break}return e.next=17,c({orderId:t.id,state:m.g.Finished});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[c,d]),handleCardItem:a.a.useCallback(function(){var e=Object(te.a)(ee.a.mark(function e(t,n){var r;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ie(t,n),"order"!==t.type&&"completion"!==t.type){e.next=4;break}return e.next=4,l({orderRecipeId:n.id,state:r});case 4:if("sector"!==t.type){e.next=11;break}return e.next=7,f({sectorRecipeId:n.id,state:r});case 7:if(n.isReady=r===m.e.Ready,!t.items.every(g.RM.propEq("isReady",!0))){e.next=11;break}return e.next=11,d({sectorId:t.id,state:m.e.Cooked});case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),[l,d,f])}}function ie(e,t){switch(t.state){case"todo":case"progress":return"sector"===e.type?t.isReady?m.e.Preparing:m.e.Ready:m.e.Cooked;case"done":return m.e.Preparing}}function ce(){var e=Object(P.a)(["\n  background: ",";\n  border-radius: 50%;\n  margin: 0;\n  width: 70%;\n  height: 70%;\n  overflow: auto;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n"]);return ce=function(){return e},e}function oe(){var e=Object(P.a)(["\n  background: ",";\n  border: 2px solid ",";\n  width: 2.1rem;\n  height: 2.1rem;\n  position: relative;\n  border-radius: 50%;\n  margin-bottom: ",";\n"]);return oe=function(){return e},e}var le=A.c.div(oe(),V.a.white,V.a.green,V.d.Small),ue=A.c.div(ce(),V.a.green),de=function(e){var t=e.isChecked,n=e.onClick;return a.a.createElement(le,{onClick:n},t&&a.a.createElement(ue,null))};function se(){var e=Object(P.a)(["\n  margin-top: -0.8rem;\n"]);return se=function(){return e},e}var me=Object(A.b)(se()),fe=A.c.div.withConfig({displayName:"StyledKitchenCardItem",componentId:"sc-683lfw-0"})(["display:flex;justify-content:space-between;",";& .done-container{flex:0 0 2.4rem;}& .item-code{flex:0 0 4.1rem;font-size:",";color:",";margin-top:0.35rem;}& .item-name{flex:1 0;color:",";margin:0.4rem 0 0 0.5rem;}"],function(e){return e.isFirstSidedish&&me},V.b.CompactCardBig,V.a.black,V.a.greyMiddle),pe=function(e){var t=e.item,n=e.isChecked,r=void 0!==n&&n,i=e.canHandle,c=void 0!==i&&i,o=e.onHandle,l=e.isFirstSidedish,u=void 0!==l&&l;return a.a.createElement(fe,{isFirstSidedish:u},a.a.createElement("div",{className:"done-container"},c&&o&&a.a.createElement(de,{isChecked:r,onClick:o})),a.a.createElement("div",{className:"item-code"},t.code),a.a.createElement("div",{className:"item-name"},t.name))},be=function(e){var t=e.items,n=e.canHandle,i=e.onHandle;return a.a.createElement("div",null,t.map(function(e){return a.a.createElement(r.Fragment,{key:e.id},a.a.createElement(pe,{item:e,isChecked:e.isReady,canHandle:n,onHandle:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return i(e)})}),a.a.createElement(a.a.Fragment,null,e.sideDishes.map(function(t,n){return a.a.createElement(pe,{key:"".concat(e.id,"-").concat(t.id),item:t,isFirstSidedish:0===n})})))}))},ve=n(1634),ge=n(148);function he(){var e=Object(P.a)(["\n  display: inline-block;\n  position: absolute;\n  right: 0.2rem;\n  top: 0.2rem;\n  z-index: 5;\n"]);return he=function(){return e},e}var ye=A.c.div(he()),Oe=function(){return a.a.createElement(ye,{"data-testid":"KitchenOrderStarIndicator"},a.a.createElement(ge.a,{color:V.a.orange,icon:ve.a}))},Ee=A.c.div.withConfig({displayName:"StyledKitchenCardCompletion",componentId:"sc-131hbj7-0"})(["font-size:",";background-color:",";color:",";border-radius:",";margin-bottom:",";padding-bottom:",";position:relative;& .header{display:flex;flex-wrap:nowrap;}& .order__number{width:4.5rem;background:",";color:",";font-size:2rem;border-top-left-radius:",";text-align:center;}& .order__source{display:inline-block;background:",";color:",";font-size:0.9rem;padding:0.1rem 0.8rem;border-radius:0.9rem;margin:0.5rem;}& .order__sector{display:inline-block;color:",";margin:0.5rem;}& .order__content{margin:",";}"],V.b.CompactCard,V.a.white,V.a.greyDarkest,V.c.Card,V.d.Middle,V.d.Middle,V.a.orange,V.a.white,V.c.Card,V.a.greyMiddle,V.a.white,V.a.black,V.d.Middle),je=function(e){var t=e.card,n=e.showBranch,r=ae();return a.a.createElement(Ee,{"data-testid":"order-box"},n&&a.a.createElement(Q.b,null,t.companyBranch.name),a.a.createElement("div",{className:"header"},a.a.createElement("div",{className:"order__number"},t.orderNumber),a.a.createElement("div",{className:"order__source"},"".concat(t.orderOrigin.code," ").concat(null!==t.cashBox?t.cashBox.id:"")),t.sector&&a.a.createElement("div",{className:"order__sector"},t.sector.name),t.isPriority&&a.a.createElement(Oe,null)),a.a.createElement("div",{className:"order__content"},a.a.createElement(be,{items:t.items,canHandle:r.canHandleCardItem(t),onHandle:function(e){return r.handleCardItem(t,e)}}),t.note&&a.a.createElement("div",{className:"order__note"},t.note)),r.canHandleCard(t)&&a.a.createElement(q.a,{position:"BottomRight"},a.a.createElement(Z,{color:"todo"===t.state?V.a.green:V.a.red,onClick:function(){return r.handleCard(t)}})))};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Ce=Object(h.b)(function(e){var t=e.category,n=e.noOrdersMessage,r=e.mobileHeadline,i=Object(y.b)().order,c=a.a.useContext(j),o=c.loading,l=c.noFilter,s=c.orders;if(l)return a.a.createElement(B,null,a.a.createElement(u.Trans,{id:"Select a branch"}));if(o)return a.a.createElement(B,null,a.a.createElement(u.Trans,{id:"Loading"}));var f=s.filter(I.a.propEq("orderStateCategory",t)).map(ke);if(0===f.length)return a.a.createElement(B,null,n);var p=t===m.f.NewOrders;return a.a.createElement(a.a.Fragment,null,r&&a.a.createElement(d.b,null,a.a.createElement(M.a,null,r)),a.a.createElement("div",{"data-testid":"order-list-".concat(t)},f.map(function(e){return a.a.createElement(je,{key:e.id,card:e,showBranch:i.list.branchesFilter.length>1})}),a.a.createElement(R,{shouldPlay:p})))});function ke(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(n,!0).forEach(function(t){Object(k.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{type:"completion",state:F[e.orderStateCategory],time:e.deliverAt||e.createdAt,items:e.items.map(G)})}var Me=n(1454);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(n,!0).forEach(function(t){Object(k.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Se=Object.keys(L);function xe(e){var t=null===e,n=Object(m.Cb)({branch:e,states:Se},{skip:t}),r=n.data,a=n.loading,i=n.updateQuery,c=n.refetch;return Object(O.a)(c),Object(m.tc)({branch:e,states:Se.concat(m.e.Finished,m.e.Canceled)},{skip:t,onSubscriptionData:function(e){var t=e.subscriptionData.data;t&&i(function(e){return function(e,t){var n=e.updatedSectorRecipe.sectorRecipe;if(!n||!t.sectorRecipes)return t;if(!Se.includes(n.state.enum))return Ne({},t,{sectorRecipes:t.sectorRecipes.filter(function(e){return e.id!==n.id})});var r=!1,a=t.sectorRecipes.map(function(e){return e.id===n.id?(r=!0,n):e});r||a.unshift(n);return Ne({},t,{sectorRecipes:a})}(t,e)})}}),Object(z.a)(t)(a,function(){return t?null:function(e,t){var n=function(e,t){return"".concat(e,"-").concat(t)},r=g.RM.mapObjIndexed(function(){return[]},g.RM.invertObj(L)),a=g.RM.groupBy(function(e){var t=e.sector,r=e.state;return n(t.id,L[r.enum])},e),i=g.RM.sortBy(g.RM.prop("createdAt"));return t.reduce(function(e,t){return g.RM.mapObjIndexed(function(e,r){var c=n(t.id,r),o=a[c];if(o){var l=i(o),u=l.map(function(e){return{id:e.id,code:e.recipe.code,name:e.recipe.name,state:L[e.state.enum],isReady:[m.e.Ready,m.e.Cooked].includes(e.state.enum),sideDishes:e.sideDishes.map(g.RM.prop("recipe"))}});return e.concat({id:t.id,type:"sector",name:t.name,time:l[0].createdAt,state:r,isPriority:!1,items:u})}return e},e)},r)}(r.sectorRecipes,r.sectors)})}var Re=g.RM.sortWith([g.RM.descend(g.RM.prop("isPriority")),g.RM.ascend(g.RM.prop("time"))]),Pe=a.a.createContext(null),Ae=Object(h.b)(function(e){var t=e.children,n=Object(y.b)().settings,r=U(n.branchId),i=xe(n.branchId),c=r&&i&&g.RM.mergeDeepWith(g.RM.concat,r,i),o=c&&g.RM.mapObjIndexed(Re,c);return a.a.createElement(Pe.Provider,{value:o},t)});var De=n(1423),Te=n(1472),He=n(302),Be=n(1489),Le=n(1478),Fe=n(1510),ze=n(1626),_e=n(1410);function We(){var e=Object(P.a)(["\n  color: ",";\n  font-weight: bold;\n  display: inline-block;\n  margin-left: 0.3rem;\n"]);return We=function(){return e},e}function Ue(){var e=Object(P.a)(["\n  color: ",";\n"]);return Ue=function(){return e},e}var Ke=A.c.span(Ue(),V.a.greyDark),Ge=A.c.div(We(),V.a.black),qe=function(e){switch(e.deliverType){case"DELIVER_UNTIL":return a.a.createElement(Ke,null,a.a.createElement(u.Trans,{id:"Deliver until"}));case"DELIVER_AT_SPECIFIC_TIME":return a.a.createElement(Ke,null,a.a.createElement(u.Trans,{id:"Deliver at"}));case"PERSONAL":return a.a.createElement(Ke,null,a.a.createElement(u.Trans,{id:"Personal pickup at"}));default:return null}},Ve=function(e){var t=e.deliverTime,n=e.deliverType;return a.a.createElement(_e.a,{icon:ze.a,labelMargin:"0"},a.a.createElement(qe,{deliverType:n}),t&&a.a.createElement(Ge,null,Object(He.g)(t)))},Qe=A.c.div.withConfig({displayName:"StyledKitchenCardOrder",componentId:"sc-1ddfdmp-0"})(["font-size:",";background-color:",";color:",";border-radius:",";margin-bottom:",";position:relative;.order-ticker{display:flex;flex-wrap:nowrap;justify-content:space-between;padding:0.2rem;color:",";}.details{padding:0 0.2rem 0.1rem 0.2rem;position:relative;}.delivery-time-badge-container{flex:0 0 1.8rem;}.address-container{flex:1 0;padding:0 0 0 0.5rem;}.customer-identity-container{flex:1 0;padding:0 0 0 0.5rem;}.pickup-label{font-style:italic;}"],V.b.CompactCard,V.a.white,V.a.greyDarkest,V.c.Card,V.d.Middle,V.a.greyMiddle),Je=function(e){var t=e.card,n=e.onHandle,r=e.onHandleRecipe,i=e.canHandle,c=e.canHandleRecipe;return a.a.createElement(Qe,null,a.a.createElement("div",{className:"order-ticker"},a.a.createElement("div",{className:"delivery-time-badge-container"},a.a.createElement(Le.a,{deliverAt:t.deliverAt?new Date(t.deliverAt):null,deliveredAt:t.deliveredAt?new Date(t.deliveredAt):null,isCancelled:!1,isDelayed:null!==t.delayedDeliveryTime})),a.a.createElement("div",{className:"address-container"},null!==t.sector?t.sector.name:t.deliveryType&&t.deliveryType.enum===m.a.Pickup?a.a.createElement("div",{className:"pickup-label"},a.a.createElement(u.Trans,{id:"To pickup"})):Object(He.b)(t.address)),a.a.createElement("div",{className:"customer-identity-container"},a.a.createElement(Be.a,{customer:t.customer}),a.a.createElement("br",null),t.customer&&t.customer.defaultPhone?a.a.createElement(Te.a,{href:"tel:".concat(t.customer.defaultPhone.phone.toString().replace("/ /g",""))},t.customer.defaultPhone.phone):null)),a.a.createElement("div",{className:"details"},a.a.createElement(De.a,null),t.isPriority&&a.a.createElement(Oe,null),a.a.createElement(be,{items:t.items,canHandle:c,onHandle:function(e){return r(t,e)}}),a.a.createElement(De.a,null),a.a.createElement(Ve,{deliverTime:t.deliverAt,deliverType:t.deliveryType&&t.deliveryType.enum===m.a.Pickup?"PERSONAL":"DELIVER_UNTIL"}),a.a.createElement(Fe.a,{note:t.note}),i&&a.a.createElement(q.a,{position:"BottomRight"},a.a.createElement(Z,{onClick:function(){return n(t)}}))))},Ye=A.c.div.withConfig({displayName:"StyledKitchenCardSector",componentId:"so8yz6-0"})(["font-size:",";background-color:",";color:",";border-radius:",";margin-bottom:",";position:relative;.details{padding:0 0.2rem 0.1rem 0.2rem;position:relative;}.sector-name{padding:0.3rem 0 0.3rem 2.5rem;font-size:1.1rem;}"],V.b.CompactCard,V.a.white,V.a.greyDarkest,V.c.Card,V.d.Middle),Xe=function(e){var t=e.card,n=e.canHandle,r=e.canHandleRecipe,i=e.onHandle,c=e.onHandleRecipe;return a.a.createElement(Ye,null,a.a.createElement("div",{className:"sector-name"},t.name),a.a.createElement("div",{className:"details"},a.a.createElement(De.a,null),a.a.createElement(be,{items:t.items,canHandle:r,onHandle:function(e){return c(t,e)}}),n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(De.a,null),a.a.createElement(q.a,{position:"BottomRight"},a.a.createElement(Z,{color:"todo"===t.state?V.a.green:V.a.pink,onClick:function(){return i(t)}})))))},Ze=Object(h.b)(function(e){var t=e.state,n=e.noCardsMessage,r=e.mobileHeadline,i=function(e){var t=a.a.useContext(Pe);return t&&t[e]}(t),c=ae();if(null===i)return a.a.createElement(B,null,a.a.createElement(u.Trans,{id:"Loading"}));if(0===i.length)return a.a.createElement(B,null,n);var o="todo"===t;return a.a.createElement(a.a.Fragment,null,r&&a.a.createElement(d.b,null,a.a.createElement(M.a,null,r)),a.a.createElement(R,{shouldPlay:o}),i.map(function(e){var t={key:"".concat(e.type,"-").concat(e.id),canHandle:c.canHandleCard(e),canHandleRecipe:c.canHandleCardItem(e),onHandle:c.handleCard,onHandleRecipe:c.handleCardItem};return"order"===e.type?a.a.createElement(Je,Object.assign({card:e},t)):"sector"===e.type?a.a.createElement(Xe,Object.assign({card:e},t)):null}))}),$e=A.c.div.withConfig({displayName:"StyledKitchenFilterContainer",componentId:"wn9e7b-0"})(["position:absolute;left:16rem;top:0.4rem;width:calc(100vw - 33rem);z-index:120;"]),et=A.c.div.withConfig({displayName:"KitchenCategorySeparator",componentId:"wn9e7b-1"})(["border:1px solid ",";width:1px;height:100%;position:absolute;left:-5px;top:0rem;"],V.a.white),tt=function(){return a.a.createElement(Ae,null,a.a.createElement(b.a,{pageTitle:f.b._("Kitchen"),useBackButton:!0,showSoundControl:!0},a.a.createElement(d.a,null,a.a.createElement($e,null,a.a.createElement(Me.a,null))),a.a.createElement(d.b,null,a.a.createElement(s.a,{gridRowInMobile:1},a.a.createElement(Me.a,null))),a.a.createElement(p.a,{withScrollArea:!0,row:1,rowInMobile:2,widthInColumns:5},a.a.createElement(Ze,{state:"todo",noCardsMessage:a.a.createElement(u.Trans,{id:"No new orders"}),mobileHeadline:a.a.createElement(u.Trans,{id:"New orders"})})),a.a.createElement(p.a,{withScrollArea:!0,row:1,rowInMobile:3,column:5,widthInColumns:6},a.a.createElement(Ze,{state:"progress",noCardsMessage:a.a.createElement(u.Trans,{id:"No orders to prepare"}),mobileHeadline:a.a.createElement(u.Trans,{id:"Orders to prepare"})}),a.a.createElement(d.a,null,a.a.createElement(et,null))),a.a.createElement(p.a,{withScrollArea:!0,row:1,rowInMobile:4,column:11,widthInColumns:5},a.a.createElement(Ze,{state:"done",noCardsMessage:a.a.createElement(u.Trans,{id:"No orders to deliver"}),mobileHeadline:a.a.createElement(u.Trans,{id:"Orders to deliver"})}),a.a.createElement(d.a,null,a.a.createElement(et,null)))))},nt=function(){return a.a.createElement(C,null,a.a.createElement(b.a,{pageTitle:f.b._("Completion"),useBackButton:!0,showSoundControl:!0},a.a.createElement(d.a,null,a.a.createElement($e,null,a.a.createElement(v.a,null))),a.a.createElement(d.b,null,a.a.createElement(s.a,{gridRowInMobile:1},a.a.createElement(v.a,null))),a.a.createElement(p.a,{withScrollArea:!0,row:1,rowInMobile:2,widthInColumns:5},a.a.createElement(Ce,{category:m.f.NewOrders,noOrdersMessage:a.a.createElement(u.Trans,{id:"No new orders"}),mobileHeadline:a.a.createElement(u.Trans,{id:"New orders"})})),a.a.createElement(p.a,{withScrollArea:!0,row:1,rowInMobile:3,column:5,widthInColumns:6},a.a.createElement(Ce,{category:m.f.Preparing,noOrdersMessage:a.a.createElement(u.Trans,{id:"No orders to complete"}),mobileHeadline:a.a.createElement(u.Trans,{id:"Orders to complete"})}),a.a.createElement(d.a,null,a.a.createElement(et,null))),a.a.createElement(p.a,{withScrollArea:!0,row:1,rowInMobile:4,column:11,widthInColumns:5},a.a.createElement(Ce,{category:m.f.ReadyToDeliver,noOrdersMessage:a.a.createElement(u.Trans,{id:"No orders to hand over"}),mobileHeadline:a.a.createElement(u.Trans,{id:"Orders to hand over"})}),a.a.createElement(d.a,null,a.a.createElement(et,null)))))};n.d(t,"KitchenRouting",function(){return rt});var rt=function(){return a.a.createElement(i.e,null,a.a.createElement(o.a,{exact:!0,path:l.a,component:tt}),a.a.createElement(o.a,{path:l.b,component:nt}),a.a.createElement(i.c,{component:c.a}))};t.default=rt}}]);
//# sourceMappingURL=180.adfb6096.chunk.js.map