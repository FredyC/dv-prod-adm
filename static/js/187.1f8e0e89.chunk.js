(window.webpackJsonpspeedlo=window.webpackJsonpspeedlo||[]).push([[187],{1488:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(4);function r(){var e=Object(n.a)(["\n  height: ",";\n"]);return r=function(){return e},e}var c=a(24).default.div(r(),function(e){var t=e.size,a=void 0===t?1:t,n=e.sizeUnit,r=void 0===n?"rem":n;return"".concat(a).concat(r)});c.displayName="VerticalGap"},1514:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(80),r=a(62),c=a(1446),i=a(59),l=a(0),o=a.n(l),u=a(1451),d=o.a.forwardRef(function(e,t){var a=e.fieldName,l=e.fullWidth,d=e.addHiddenLabelWithPlaceholderText,s=void 0===d||d,m=Object(r.a)(e,["fieldName","fullWidth","addHiddenLabelWithPlaceholderText"]),b=Object(c.e)(a),f=Object(n.a)(b,2),p=f[0],g=f[1];return Object(i.useObserver)(function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.b,Object.assign({},g(),{invalid:p.touched&&Boolean(p.error),inputFullWidth:l,ref:t},m)),s&&m.placeholder&&o.a.createElement("label",{hidden:!0,htmlFor:p.name},m.placeholder))})})},1516:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(62),r=a(1803),c=a(0),i=a.n(c),l=a(319),o=a(19),u=a(132),d=function(e){var t=e.onDelete,a=e.confirmText,c=Object(n.a)(e,["onDelete","confirmText"]);return i.a.createElement(l.a,null,i.a.createElement(u.a,Object.assign({icon:r.a,color:o.a.greyMiddle,onClick:function(e){e.preventDefault(),a&&!window.confirm(a)||t()}},c)))}},1526:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"c",function(){return i}),a.d(t,"b",function(){return l});var n=a(1520),r=a(41);function c(e){return!e.errors||0===Object.keys(e.errors).length}function i(e){return function(t){return Object(n.isEmpty)(t+"")?r.b._("{fieldName} must be entered",{fieldName:e}):null}}function l(e){return"number"===typeof e?e:Number.parseFloat(e.replace(",","."))}},1610:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(62),r=a(1820),c=a(1446),i=a(59),l=a(0),o=a.n(l),u=a(132),d=a(19),s=function(e){var t=e.children,a=e.id,l=void 0===a?"form-submit":a,s=Object(n.a)(e,["children","id"]),m=Object(c.h)();return Object(i.useObserver)(function(){return o.a.createElement(u.a,Object.assign({type:"submit",color:d.a.green,disabled:m.isSubmitting&&m.isDirty,id:l,icon:m.isValid?void 0:r.a,iconSize:1.1,iconColor:d.a.red},s),o.a.createElement(o.a.Fragment,null,t))})}},1611:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=a(24).default.div.withConfig({displayName:"FlexDiv",componentId:"dwel3j-0"})(["display:flex;"])},1623:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(4),r=a(2834),c=a(0),i=a.n(c),l=a(1559),o=a(24),u=a(173);function d(){var e=Object(n.a)(["\n  padding: 1rem 0.4rem;\n  cursor: grab;\n"]);return d=function(){return e},e}var s=o.default.div(d()),m=Object(l.SortableHandle)(function(){return i.a.createElement(s,null,i.a.createElement(u.a,{icon:r.a}))})},1637:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return l});var n=a(24),r=(a(1638),a(19)),c=function(e){var t=e.fontSize,a=void 0===t?2:t,n=e.fontSizeUnit,c=void 0===n?r.d.DefaultSizeUnit:n;return"".concat(a).concat(c)},i=n.default.div.attrs(function(e){return{className:l(e.pictogramId)}}).withConfig({displayName:"PictogramDisplay",componentId:"sc-6st3s9-0"})(["&:before{font-size:"," !important;margin-left:0.5rem !important;}"],c);function l(e){return"flaticon-".concat(e)}},1638:function(e,t,a){},1820:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(43);t.a=Object(c.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),"ErrorOutline")},2836:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(72),i=a(197),l=a(112),o=a(1513),u=a(4),d=a(24),s=a(193),m=a(1460),b=a(1459),f=a(1488),p=a(65),g=a(41),h=a(194),v=a(1457),E=a(1517),y=a(320),O=a(95),j=a(59),C=a(55),w=a(132),x=a(19);function k(){var e=Object(u.a)(["\n  white-space: nowrap;\n  margin-left: 2rem;\n  & a {\n    text-decoration: none;\n    color: ",";\n    padding: 1rem;\n  }\n"]);return k=function(){return e},e}var T=Object(d.default)(w.a)(k(),x.a.black),R=Object(j.observer)(function(){var e=Object(C.b)().settings,t=Object(p.xb)({branchId:e.branchId},{fetchPolicy:"cache-first"}),a=t.loading,n=t.data;return a||!n.companyBranch.foodMenuUrl?null:r.a.createElement(T,{color:x.a.greyMiddle},r.a.createElement("a",{href:n.companyBranch.foodMenuUrl,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(O.Trans,{id:"Menu codes manual"})))}),L=a(33),I=a.n(L),N=a(74),S=a(80),W=a(1495),M=a(1456),P=a(328),_=a(1775),D=a(1494),z=a(87),B=a(1623),V=a(62),q=a(134),F=a(63),H=a(70),A=a(85),U=a(83),K=a(84),G=a(1559),Q=Object(G.SortableElement)(function(e){var t=e.columns,a=e.style,n=e.className;return r.a.createElement("div",{style:a,className:n},t)}),J=Object(G.SortableContainer)(W.f),Y=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(A.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(c)))).state={sortedItems:a.props.items},a.rowRenderer=function(e){return r.a.createElement(Q,e)},a.onHandleSorting=function(){var e=Object(N.a)(I.a.mark(function e(t){var n,r,c,i,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.newIndex,r=t.oldIndex,n!==r){e.next=3;break}return e.abrupt("return");case 3:if(c=Object(q.a)(a.state.sortedItems),i=Object(G.arrayMove)(a.state.sortedItems,r,n),a.setState({sortedItems:i}),!a.props.onSort){e.next=15;break}if(l=a.props.onSort({item:c[r],items:i,offset:n-r,newIndex:n,oldIndex:r}),e.t0=l,!e.t0){e.next=13;break}return e.next=12,l;case 12:e.t0=!e.sent;case 13:if(!e.t0){e.next=15;break}a.setState({sortedItems:c});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(K.a)(t,e),Object(H.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.items,Object(V.a)(e,["items"]));return r.a.createElement(J,Object.assign({lockAxis:"y",useDragHandle:!0,onSortEnd:this.onHandleSorting,rowRenderer:this.rowRenderer},t,{items:this.state.sortedItems}))}}]),t}(r.a.PureComponent);Y.getDerivedStateFromProps=function(e){return{sortedItems:e.items}};var X=function(e){var t=e.categories,a=e.children,n=e.onToggle,c=e.onRemove,i=e.onSort,l=e.showEditColumn,o=void 0===l||l,u=e.showRemoveColumn,d=void 0!==u&&u,s=e.showVisibilityColumn,m=void 0!==s&&s,b=e.showHeader,f=void 0===b||b,p=e.isSortable,h=void 0!==p&&p,v=e.isLoading,E=void 0!==v&&v,y=e.heightStretch,O=void 0!==y&&y,j=e.fullHeight,C=void 0!==j&&j,w=e.noRowsDisplay,k=void 0===w?r.a.createElement(W.g,{text:g.b._("No recipes in category")}):w,T={isLoading:E,items:t,disableHeader:!f,heightStretch:O,fullHeight:C,noRowsRenderer:function(){return k}},R=Object(D.a)().getCategoryEditRoute,L=[o&&r.a.createElement(W.a,{dataKey:"id",width:x.d.ButtonColumnWidthPx,minWidth:x.d.ButtonColumnWidthPx,cellRenderer:Object(W.h)({canQuery:"wareCategory"},W.b),cellDataGetter:function(e){var t=e.rowData;return R(t.id,t.categoryType.enum)}}),d&&r.a.createElement(W.a,{dataKey:"id",width:x.d.ButtonColumnWidthPx,minWidth:x.d.ButtonColumnWidthPx,cellRenderer:W.c,columnData:{onRemove:c}}),m&&r.a.createElement(W.a,{dataKey:"visible",width:x.d.ButtonColumnWidthPx,minWidth:x.d.ButtonColumnWidthPx,cellRenderer:Object(W.h)({canMutate:"updateWareCategory"},W.d),columnData:{onToggle:n}}),r.a.createElement(W.a,{dataKey:"nameLabel",width:300,label:g.b._("Name"),cellRenderer:W.e,columnData:{noteKey:"internalNote"}}),r.a.createElement(W.a,{dataKey:"countRecipes",label:g.b._("Recipe count"),width:100,cellRenderer:function(e){var t=e.cellData;return"".concat(t," ").concat(g.b._("Recipes").toLocaleLowerCase())}}),a,h&&r.a.createElement(W.a,{dataKey:"id",width:50,cellRenderer:function(){return r.a.createElement(B.a,null)}})];return h?r.a.createElement.apply(r.a,[Y,Object(z.a)({onSort:i},T)].concat(L)):r.a.createElement.apply(r.a,[W.f,T].concat(L))};function $(){var e=Object(u.a)(["\n  .origins span {\n    display: inline-block;\n    margin: 0.2rem;\n    padding: 0.2rem;\n    background-color: ",";\n  }\n"]);return $=function(){return e},e}var Z=d.default.div($(),x.a.greyLight),ee=Object(j.observer)(function(e){var t=e.headline,a=e.subHeadline,n=void 0!==a&&a,c=e.categoryType,i=Object(C.b)().settings,l=Object(p.vb)({branchId:i.branchId,categoryType:c}),o=l.data,u=l.loading,d=l.updateQuery,s=l.refetch,f=Object(p.wb)({},{fetchPolicy:"cache-first"}).data,g=r.a.useMemo(function(){return f&&f.origins?f.origins.reduce(function(e,t){return e[t.enum]=t.code,e},{}):{}},[f]),h=r.a.useCallback(function(e){var t=e.cellData;return t.sort(),t.map(function(e){return r.a.createElement("span",{key:e},g[e])})},[g]),v=Object(p.S)(),E=Object(S.a)(v,1)[0],y=r.a.useCallback(function(e,t){E({categoryId:e,visible:t},{optimisticResponse:{updateWareCategory:{__typename:"WareCategory",id:e,visible:t}}})},[E]),O=Object(p.Q)(),j=Object(S.a)(O,1)[0],w=r.a.useCallback(function(){var e=Object(N.a)(I.a.mark(function e(t){var a,n,r,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.item,n=t.items,r=t.offset,d(function(){return{categories:n}}),e.next=4,j({categoryId:a.id,offset:r});case 4:if(!(c=e.sent)){e.next=9;break}return e.next=8,s();case 8:return e.abrupt("return",c.success);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[s,j,d]),x=Object(P.a)()(u,function(){return o.categories}),k=Object(D.a)().getCategoryCreateRoute;return r.a.createElement(Z,null,r.a.createElement(b.a,null,r.a.createElement(m.a,{widthGrowIndex:1},r.a.createElement(M.a,null,t),n&&r.a.createElement(M.a,{size:"smaller"},n)),r.a.createElement(m.a,{fixedWidth:!0},r.a.createElement(_.a,{routeTo:k(c)}))),r.a.createElement(X,{isLoading:u,categories:x||[],onToggle:y,isSortable:!0,showHeader:!1,fullHeight:!0,showVisibilityColumn:!0,onSort:w},r.a.createElement(W.a,{dataKey:"origins",width:300,className:"origins",cellRenderer:h,style:{fontSize:"0.8rem"}})))});function te(){var e=Object(u.a)(["\n  height: calc(100% - 3.5rem);\n  padding-top: 1rem;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n"]);return te=function(){return e},e}var ae=d.default.div(te()),ne=function(){return r.a.createElement(h.a,{pageTitle:g.b._("Category overview"),useBackButton:!0,backRoute:y.a},r.a.createElement(v.a,{forcePercentHeightInMobile:100},r.a.createElement(s.a,{stretchToParent:!0},r.a.createElement(b.a,{justify:"start"},r.a.createElement(m.a,null,r.a.createElement(E.a,{width:20})),r.a.createElement(m.a,null,r.a.createElement(R,null))),r.a.createElement(ae,null,r.a.createElement(ee,{categoryType:p.q.Main,headline:g.b._("Category of recipes")}),r.a.createElement(f.a,{size:1.5}),r.a.createElement(ee,{categoryType:p.q.SideDish,headline:g.b._("Category of sidedish")}),r.a.createElement(f.a,{size:1.5}),r.a.createElement(ee,{categoryType:p.q.Cover,headline:g.b._("Category of covers")})))))};function re(){var e=Object(u.a)(["\n  position: fixed;\n  z-index: 500;\n  right: 0.5rem;\n  top: 0.5rem;\n  width: 10rem;\n  opacity: 0.96;\n  background: ",";\n  border-radius: ",";\n"]);return re=function(){return e},e}var ce=d.default.div(re(),x.a.black,x.c.Button),ie=a(1446);function le(){return Object(ie.f)("itemType").value}var oe=function(e){var t=e.isMain,a=e.isSideDish,n=e.isCover,c=e.children,i=le();return!0===t&&i===p.q.Main||!0===a&&i===p.q.SideDish||!0===n&&i===p.q.Cover?r.a.createElement(r.a.Fragment,null,c):null},ue=a(1610),de=a(1447),se=function(e){var t=e.isCreate,a=e.createMutation,n=e.updateMutation;return Object(de.b)(t?a:n)?r.a.createElement(ue.a,null,t?r.a.createElement(O.Trans,{id:"Create"}):r.a.createElement(O.Trans,{id:"Save"})):null},me=a(1622),be=a(51),fe=a(1497),pe=a(52),ge=(a(46),a(195)),he=void 0;function ve(e){var t=e.isCreate,a=e.initialValues,n=e.loadCreateDefaults,c=e.loadUpdateValues,i=e.onCreate,l=e.onUpdate,o=e.createSuccessMessage,u=e.updateSuccessMessage,d=e.successRedirectPath,s=e.validationSchema,m=e.children,b=function(e){var t=e.onSubmit,a=e.initialValues,n=e.loadValues,c=e.validationSchema,i=e.submitMessage,l=e.submitRedirectPath,o=Object(pe.useRouterContext)().history,u=Object(ge.a)(),d=u.enqueueSuccess,s=u.enqueueWarning,m=r.a.useCallback(function(){var e=Object(N.a)(I.a.mark(function e(a){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a);case 2:i&&d(i),l&&o.push(l);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[d,o,t,i,l]),b=r.a.useCallback(function(e,t){var a=!0,n=!1,r=void 0;try{for(var c,i=t.values()[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var l=c.value;l&&s(l)}}catch(o){n=!0,r=o}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}},[s]),f=r.a.useRef(!1),p=r.a.useCallback(function(){f.current=!1},[]),g=Object(ie.g)({onSubmit:m,onSubmitFailed:b,onReset:p,validationSchema:c,initialValues:a,initialValidationEnabled:void 0===n,ignoreUnknownFieldsInValidation:!0,onFormChanges:he});return r.a.useEffect(function(){f.current||(n&&Promise.resolve(n(g.state.initialValues)).then(function(e){e&&(g.api.mergeValues(e),g.state.pristineValues=g.state.values),g.api.enableValidation()}),f.current=!0)},[n,g]),g}({initialValues:a,validationSchema:s,onSubmit:t?i:l,loadValues:t?n:c,submitMessage:t?o:u,submitRedirectPath:d});return r.a.createElement(ie.b,{xform:b},m)}function Ee(){return Object(ie.f)("id").value}var ye=be.RM.propEq("language");function Oe(){var e=Object(ie.f)("translations").value,t=function(t){return e&&e.find(ye(t))},a=function(e){return t(e)};return{hasTranslation:function(e){return!!t(e)},getTranslation:a,getTranslationOrCreate:function(n,r){var c=t(n);return c||(e.push(Object(z.a)({language:n},r())),a(n))}}}var je=Object(j.observer)(function(e){var t=e.loadTranslations,a=Object(fe.a)(),n="NEW"===Ee(),c=Oe(),i=c.hasTranslation,l=c.getTranslationOrCreate;return r.a.useEffect(function(){a.branch&&!a.branch.supportedLanguages.includes(a.currentLanguage)&&a.setLanguage(a.defaultLanguage)},[a]),a.isDefaultLanguage||n?null:i(a.currentLanguage)?null:(t(a.currentLanguage).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(l(a.currentLanguage,function(){return e}),e)}),null)}),Ce=function(e){var t=e.isCreate,a=e.categoryId,n=e.categoryType,c=e.children,i=Object(fe.a)(),l=Object(D.a)().redirectToCategoryList,u=Object(ie.c)(function(e){return{nameLabel:e.string().required(g.b._("Category name in default language must be entered."))}}),d=Object(p.s)(),s=Object(S.a)(d,1)[0],m=r.a.useCallback(function(){var e=Object(N.a)(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({categoryId:a},{fetchPolicy:"no-cache"});case 2:if(null!==(r=e.sent)){e.next=6;break}return l(),e.abrupt("return",t);case 6:return e.abrupt("return",Object(z.a)({},r.category,{itemType:n,origins:Object(q.a)(r.category.origins)}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[a,n,s,l]),b=Object(p.R)(),f=Object(S.a)(b,1)[0],h=r.a.useCallback(function(e,t){return f({categoryId:e,category:Object(z.a)({},xe(t),{translations:t.translations})})},[f]),v=r.a.useCallback(function(e){return h(a,e)},[a,h]),E=Object(p.O)(),y=Object(S.a)(E,1)[0],O=r.a.useCallback(function(){var e=Object(N.a)(I.a.mark(function e(t){var a,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({category:Object(z.a)({companyBranch:i.branchId,wareCategoryType:n},xe(t))});case 2:(a=e.sent)&&t.translations&&t.translations.length>0&&(r=a.createCategory.id,h(r,t));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[n,y,h,i]),j=Object(p.t)(),C=Object(S.a)(j,1)[0],w=r.a.useCallback(function(){var e=Object(N.a)(I.a.mark(function e(t){var n,r,c,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({categoryId:a,language:t},{fetchPolicy:"no-cache"});case 2:if(null!==(n=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return r=n.category,c=r.nameLabel,i=r.internalNoteLabel,e.abrupt("return",{nameLabel:c,internalNoteLabel:i});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[a,C]);return r.a.createElement(ve,{isCreate:t,onCreate:O,onUpdate:v,initialValues:we(n),loadUpdateValues:m,validationSchema:u,successRedirectPath:o.b},r.a.createElement(r.a.Fragment,null,r.a.createElement(je,{loadTranslations:w}),c))};function we(e){return{id:"NEW",itemType:e,visible:!0,internalNoteLabel:"",pictogram:"",nameLabel:"",minCount:0,maxCount:0,recipes:[],origins:[],translations:[]}}function xe(e){return{nameLabel:e.nameLabel,internalNoteLabel:e.internalNoteLabel,enabled:e.visible,pictogram:e.pictogram,recipes:e.recipes.map(be.idProp),minCount:e.minCount,maxCount:e.maxCount,orderOriginCategories:e.origins}}var ke=a(1475),Te=a(1444),Re=a(1516),Le=Object(j.observer)(function(e){var t=e.fieldName,a=void 0===t?"id":t,n=e.mutationName,c=e.confirmText,i=e.onDelete,l=Object(ie.d)(a),o=Object(de.a)([],n?[n]:[]),u=Object(pe.useRouterContext)().history;return o&&"NEW"!==l.value?r.a.createElement(Re.a,{type:"button",confirmText:c,onDelete:Object(N.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(l.value);case 2:u.goBack();case 3:case"end":return e.stop()}},e)}))}):null}),Ie=a(1641),Ne=a(53);function Se(){var e=Object(u.a)(["\n    grid-template-columns: "," 1fr ",";\n    grid-template-rows: auto auto auto auto;\n    grid-row-gap: ",";\n    grid-template-areas:\n      '. contentTopRight    contentTopRight'\n      '. contentPrimary     .'\n      '. contentSecondary   .'\n      '. contentBottomRight contentBottomRight'\n  "]);return Se=function(){return e},e}var We=d.default.div.withConfig({displayName:"StyledFormLayoutGrid",componentId:"sc-1lamm5d-0"})(["display:grid;margin:-",";grid-column-gap:",";grid-template-columns:"," "," "," auto;grid-template-rows:"," auto 1fr auto ",";grid-template-areas:'. .              .                contentTopRight' '. contentPrimary contentSecondary contentTopRight' '. contentPrimary contentSecondary .' '. contentPrimary contentSecondary contentBottomRight' '. .              .                contentBottomRight';.contentPrimary{grid-area:contentPrimary;}.contentSecondary{grid-area:contentSecondary;}.contentTopRight{grid-area:contentTopRight;justify-self:end;align-self:start;}.contentBottomRight{grid-area:contentBottomRight;justify-self:end;align-self:end;}",";"],x.d.Middle,x.d.Middle,x.d.Middle,function(e){return e.primaryColumnWidth},function(e){return e.secondaryColumnWidth},x.d.Middle,x.d.Middle,Object(Ne.d)(Se(),x.d.Middle,x.d.Middle,x.d.Middle)),Me=function(e){var t=e.contentPrimary,a=e.contentSecondary,n=e.contentTopRight,c=e.contentBottomRight,i=e.primaryColumnWidth,l=void 0===i?"1fr":i,o=e.secondaryColumnWidth,u=void 0===o?"0":o;return r.a.createElement(We,{primaryColumnWidth:l,secondaryColumnWidth:u},r.a.createElement("div",{className:"contentPrimary"},t),r.a.createElement("div",{className:"contentSecondary"},a),r.a.createElement("div",{className:"contentTopRight"},n),r.a.createElement("div",{className:"contentBottomRight"},c))},Pe=a(1450),_e=function(e){var t=e.fieldName,a=Object(V.a)(e,["fieldName"]),n=Object(ie.d)(t),c=a.isMulti,i=a.options,l=a.getOptionValue;return Object(j.useObserver)(function(){return r.a.createElement(Pe.a,Object.assign({},c?function(){var e=n.value,t=Array.isArray(e)?function(t){return e.includes(l(t))}:be.RM.F;return{value:Array.isArray(i)?i.filter(t):[],onChange:function(e){n.setValue(e.map(l))}}}():function(){var e=n.value;return{value:e&&i.find(function(t){return l(t)===e}),onChange:function(e){n.setValue(l(e))}}}(),{onFocus:function(){return n.setTouched()},invalid:n.touched&&n.hasError},a))})},De=function(){var e=Object(p.wb)(),t=e.data,a=e.loading;return r.a.createElement(Te.a,{label:g.b._("cat. origins"),labelWidth:7},r.a.createElement(_e,{fieldName:"origins",isMulti:!0,isLoading:a,isSearchable:!0,options:a?[]:t.origins,getOptionLabel:be.RM.prop("code"),getOptionValue:be.RM.prop("enum")}))},ze=a(1500),Be=a(1637),Ve=a(38),qe=function(){var e=Object(ie.d)("pictogram");return Object(j.useObserver)(function(){return r.a.createElement(Pe.a,{value:e.value?{pictogram:e.value}:null,onChange:function(t){t&&e.setValue(t.pictogram)},options:ze.pictograms.map(function(e){return{pictogram:e}}),getOptionValue:Ve.a.prop("pictogram"),formatOptionLabel:function(e){var t=e.pictogram;return r.a.createElement(Be.a,{pictogramId:t,fontSize:2})},components:{SingleValue:function(e){var t=e.data;return r.a.createElement(Be.a,{pictogramId:t.pictogram,fontSize:4})}},styles:{container:function(e){return Object(z.a)({},e,{width:"8rem"})},menuList:function(e){return Object(z.a)({},e,{maxHeight:"35rem"})}},isClearable:!1,isSearchable:!1,minWidth:8})})},Fe=a(1514),He=a(1451),Ae=d.default.div.withConfig({displayName:"StyledMenuTranslationInput",componentId:"sc-1soh2vg-0"})(["position:relative;.original{font-size:0.9rem;padding:0.3rem 0;opacity:0.7;}.original img{width:1.5rem;margin:0 0.6rem;}.current-language{width:1.5rem;position:absolute;right:0.5rem;top:0.8rem;border:1px #aaa solid;box-sizing:content-box;}"]),Ue=Object(j.observer)(function(e){var t=e.fieldName,a=e.placeholder,n=Object(ie.e)(t),c=Object(S.a)(n,2),i=c[0],l=c[1],o=Object(fe.a)(),u=Oe(),d=u.getTranslation,s=u.getTranslationOrCreate,m=!o.isDefaultLanguage,b=d(o.currentLanguage),f=m?b&&b[i.name]:i.value,p=l();return r.a.createElement(Ae,null,r.a.createElement(He.b,Object.assign({},p,{value:f||"",onChange:m?function(e){var t=e.target.value;s(o.currentLanguage,function(){return{}})[i.name]=t}:p.onChange,inputFullWidth:!0,invalid:!m&&i.touched&&i.hasError,placeholder:a})),r.a.createElement("img",{className:"current-language",src:Object(ze.getFlag)(o.currentLanguage),alt:"translation"}),m&&r.a.createElement("div",{className:"original",onClick:function(){return o.setLanguage(o.defaultLanguage)}},r.a.createElement("img",{src:Object(ze.getFlag)(o.defaultLanguage),alt:"original text"}),i.value||r.a.createElement("i",null,g.b._("No text is filled"))))}),Ke=function(e){var t=e.fieldName,a=void 0===t?"internalNote":t,n=e.label,c=void 0===n?r.a.createElement(O.Trans,{id:"Internal note"}):n,i=e.placeholder,l=e.localized,o=void 0!==l&&l,u={fieldName:a,placeholder:i,fullWidth:!0};return r.a.createElement(Te.a,{label:c,labelWidth:7},o?r.a.createElement(Ue,u):r.a.createElement(Fe.a,u))},Ge=a(1448),Qe=Object(d.default)(Ge.LanguagePicker).withConfig({displayName:"StyledLanguagePicker",componentId:"sc-1hgrqes-0"})(["transform:scale(2) translateY(0.5rem);transform-origin:right;"]),Je=Object(j.observer)(function(){var e=Object(fe.a)();return r.a.createElement(Qe,{availableLanguages:e.supportedLanguages,selectedLanguage:e.currentLanguage,onChange:e.setLanguage,formatLanguage:be.RM.identity,arrowColor:x.a.greyMiddle})}),Ye=a(2832),Xe=function(e){var t=e.fieldName,a=void 0===t?"nameLabel":t,n=e.localized,c=void 0!==n&&n,i=Object(V.a)(e,["fieldName","localized"]),l=Object(z.a)({fieldName:a},i);return r.a.createElement(Te.a,{icon:Ye.a,labelWidth:x.d.DefaultLabelWidth},c?r.a.createElement(Ue,l):r.a.createElement(Fe.a,l))},$e=function(){var e=Object(p.P)(),t=Object(S.a)(e,1)[0];return r.a.createElement(Me,{primaryColumnWidth:"minmax(10rem, 45rem)",secondaryColumnWidth:"14rem",contentPrimary:r.a.createElement(ke.a,null,r.a.createElement(Xe,{placeholder:g.b._("Category name"),localized:!0}),r.a.createElement(Ke,{placeholder:g.b._("Category internal note"),fieldName:"internalNoteLabel",localized:!0}),r.a.createElement(De,null),r.a.createElement(Te.a,null,r.a.createElement(Ie.a,{fieldName:"visible",label:g.b._("To show this category")}))),contentSecondary:r.a.createElement(oe,{isMain:!0},r.a.createElement(qe,null)),contentTopRight:r.a.createElement(Je,null),contentBottomRight:r.a.createElement(Le,{mutationName:"destroyWareCategory",confirmText:g.b._("Remove this category?"),onDelete:function(e){return t({categoryId:e})}})})},Ze=a(1825),et=a(1621),tt=a(1489);function at(){var e=Object(C.b)().settings;return Object(j.useObserver)(function(){return e.branchId})}var nt=a(1782);function rt(e){var t=e.onAdd,a=e.addLabel,c=void 0===a?g.b._("Add"):a,i=e.addButtonText,l=void 0===i?g.b._("Add"):i,o=e.isLoading,u=void 0!==o&&o,d=Object(V.a)(e,["onAdd","addLabel","addButtonText","isLoading"]),s=Object(pe.useStateRef)(null),f=Object(S.a)(s,2),p=f[0],h=f[1],v=Object(n.useCallback)(function(){var e=p();null!==e&&(t(e),h(null))},[p,t,h]),E=Object(n.useCallback)(function(e){"Enter"===e.key&&v()},[v]),y=Object(n.useCallback)(function(e){h(e||null)},[h]);return r.a.createElement(b.a,{justify:"flex-start"},r.a.createElement(m.a,{fixedWidth:!0,width:"4rem",margin:"auto 0"},c),r.a.createElement(m.a,{fixedWidth:!0,width:"20rem",margin:"auto 0"},r.a.createElement(Pe.a,Object.assign({value:p(),onChange:y,onKeyDown:E,isLoading:u,isMulti:!1,isClearable:!1,getOptionValue:Ve.a.prop("id"),getOptionLabel:Ve.a.propOr("","nameLabel")},d))),r.a.createElement(m.a,{fixedWidth:!0,width:"10rem",margin:"auto 0"},r.a.createElement(w.a,{text:l,disabled:null===p(),onClick:v})))}var ct=[p.r.Delivery,p.r.Inhouse];function it(){var e=r.a.useMemo(me.b,[]);return{priceTypes:ct,priceTypeLabels:e}}function lt(){var e=Object(u.a)(["\n      cursor: move;\n    "]);return lt=function(){return e},e}var ot=d.default.div.withConfig({displayName:"StyledCategoryRecipesView",componentId:"sc-1g4q35k-0"})(["display:flex;flex-direction:column;height:calc(100% - 2rem);width:100%;& .fixed-row{flex:0 0 auto;}& .move-cell{","}"],Object(Ne.c)(lt())),ut=d.default.div.withConfig({displayName:"StyledFormStretchedRow",componentId:"sc-1g4q35k-1"})(["flex:1 1 0;margin:1rem 0 0 1rem;"]),dt=Object(G.SortableContainer)(ut),st=d.default.div.withConfig({displayName:"StyledRecipeRow",componentId:"sc-1g4q35k-2"})(["display:grid;grid-gap:1rem;grid-template-columns:","px 100px 3fr 1fr 1fr 50px;"],x.d.ButtonColumnWidthPx),mt=Object(G.SortableElement)(function(e){var t=e.recipe,a=e.onRemove,n=it(),c=n.priceTypes,i=n.priceTypeLabels,l=c.map(function(e){var a=t.prices.find(Ve.a.pathEq(["priceType","enum"],e));return r.a.createElement("div",{className:"move-cell",key:e},r.a.createElement(et.a,null,i[e]),a?r.a.createElement(tt.a,{currencyCode:a.price.currency.code},a.price.value):r.a.createElement("i",null,g.b._("Not set").toLocaleLowerCase()))});return r.a.createElement(st,null,r.a.createElement("div",null,r.a.createElement(nt.a,{onClick:a})),r.a.createElement("div",{className:"move-cell"},t.code),r.a.createElement("div",{className:"move-cell"},t.nameLabel,r.a.createElement(et.a,null,t.internalNote||"")),l,r.a.createElement(B.a,null))}),bt=function(){var e=at(),t=le(),a=Object(p.zb)({branchId:e,categoryType:t}),n=a.data,c=a.loading,i=Object(ie.d)("recipes"),l=r.a.useCallback(function(){var e=Object(N.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.newIndex,n=t.oldIndex,a!==n){e.next=3;break}return e.abrupt("return");case 3:i.setValue(Object(G.arrayMove)(i.value,n,a));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[i]),o=Ve.a.differenceWith(Ve.a.eqProps("id")),u=Object(Ne.f)().isDesktop;return Object(j.useObserver)(function(){return r.a.createElement(ot,null,r.a.createElement("div",{className:"fixed-row"},r.a.createElement(rt,{isLoading:c,options:c?[]:o(n.recipes,i.value),onAdd:function(e){return i.value.push(e)},getOptionLabel:function(e){var t=e.nameLabel,a=e.code;return"".concat(a," - ").concat(t)}})),r.a.createElement(dt,{lockAxis:"y",lockToContainerEdges:!0,onSortEnd:l,useDragHandle:!u},r.a.createElement(Ze.a,{items:i.value,heightStretch:!0,rowHeight:60,renderItem:function(e,t){return r.a.createElement(mt,{recipe:e,onRemove:function(){i.setValue(Ve.a.reject(Object(be.idPropEq)(e.id),i.value))},index:t})}})))})},ft=a(186),pt=a.n(ft),gt=a(1461),ht=a(133),vt=a(1609);function Et(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  & > label {\n    min-width: 5rem;\n  }\n  & > * {\n    margin: 0.2rem 0.5rem;\n  }\n  input.count {\n    font-size: 1.5rem;\n    line-height: 1.5rem;\n    text-align: center;\n  }\n"]);return Et=function(){return e},e}var yt=d.default.div(Et()),Ot=function(e){var t=e.count,a=e.label,n=e.enabled,c=e.onChange,i=e.id,l=r.a.useRef(t);return r.a.createElement(yt,null,r.a.createElement("label",{htmlFor:i},a),r.a.createElement(ht.a,{width:3},r.a.createElement(He.a,{id:i,value:0===t?"":t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){e.target.validity.valid&&c(Number.parseInt(e.target.value,10))}),onFocus:function(e){e.target.select()},disabled:0===t||!n,inputFullWidth:!0,type:"tel",pattern:"^[1-9]\\d*$",className:"count"})),r.a.createElement(ht.a,{width:4},r.a.createElement(w.a,{disabled:!n||t<=0,onClick:function(){return c(t-1)}},"\u2796")),r.a.createElement(ht.a,{width:4},r.a.createElement(w.a,{disabled:!n,onClick:function(){return c(t+1)}},"\u2795")),r.a.createElement("div",null,r.a.createElement(vt.a,null,r.a.createElement("input",{type:"checkbox",id:"".concat(i,"-nolimit"),checked:0===t,disabled:!n,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){0===t?c(l.current||1):(l.current=t,c(0))})}),r.a.createElement("label",{htmlFor:"".concat(i,"-nolimit")},r.a.createElement(O.Trans,{id:"Unlimited"})))))},jt=function(){return{noLimit:{label:g.b._("No limitation"),min:0,max:0},optional:{label:g.b._("One at most"),min:0,max:1},required:{label:g.b._("One at least"),min:1,max:0},onlyOne:{label:g.b._("Exactly one"),min:1,max:1},custom:{label:g.b._("Custom range")}}},Ct=Object(j.observer)(function(){var e=r.a.useMemo(jt,[]),t=Object(j.useLocalStore)(function(){return{currentRule:"noLimit"}}),a=function(e){t.currentRule=e},n=Object(ie.d)("minCount"),c=Object(ie.d)("maxCount");return Object(pe.useAutorun)(function(){if("custom"!==t.currentRule){var r=pt.a.findKey(e,function(e){var t=e.min,a=e.max;return t===n.value&&a===c.value});r&&a(r)}}),r.a.createElement(r.a.Fragment,null,r.a.createElement(gt.a,{items:Object.keys(e),formatItem:function(t){return e[t].label},onSingleSelection:function(t){if(t){a(t);var r=e[t];n.value=r.min||0,c.value=r.max||0}},selectedItem:t.currentRule}),r.a.createElement(Ot,{id:"minCount",count:n.value,label:r.a.createElement(O.Trans,{id:"Minimum"}),enabled:"custom"===t.currentRule,onChange:n.setValue}),r.a.createElement(Ot,{id:"maxCount",count:c.value,label:r.a.createElement(O.Trans,{id:"Maximum"}),enabled:"custom"===t.currentRule,onChange:c.setValue}))}),wt=d.default.div.withConfig({displayName:"FormContainer",componentId:"sc-154ix5u-0"})(["display:flex;flex-direction:column;height:100%;width:100%;"]),xt=d.default.div.withConfig({displayName:"FormFixedRow",componentId:"sc-154ix5u-1"})(["flex:0 0 8rem;"]),kt=d.default.div.withConfig({displayName:"FormStretchedRow",componentId:"sc-154ix5u-2"})(["flex:1 1 0;min-height:0;position:relative;"]),Tt=function(e){var t=e.match.params.categoryId,a=Object(D.a)(t),n=a.isCreate,c=a.itemType,i=a.redirectToCategoryList;return null===c?(i(),null):r.a.createElement(Ce,{isCreate:n,categoryId:t,categoryType:c},r.a.createElement(h.a,{pageTitle:Object(me.a)(c),hideLogoutWidget:!0,useBackButton:!0},r.a.createElement(v.a,{withScrollArea:!0},r.a.createElement(wt,null,r.a.createElement(xt,null,r.a.createElement(s.a,null,r.a.createElement($e,null))),r.a.createElement(oe,{isSideDish:!0},r.a.createElement(xt,null,r.a.createElement(s.a,null,r.a.createElement(M.a,null,r.a.createElement(O.Trans,{id:"Required amounts of recipes to be picked"})),r.a.createElement(Ct,null)))),r.a.createElement(kt,null,r.a.createElement(s.a,{stretchToParent:!0,minHeight:25},r.a.createElement(M.a,null,r.a.createElement(O.Trans,{id:"Recipes assigned to this category"})),r.a.createElement(bt,null))))),r.a.createElement(ce,null,r.a.createElement(se,{isCreate:n,createMutation:"createWareCategory",updateMutation:"updateWareCategory"}))))},Rt=a(1624),Lt=a(321),It=a(1824),Nt=Object(j.observer)(function(e){var t=e.categoryType,a=e.currentCategories,n=e.addButtonText,c=e.onAdd,i=Object(C.b)().settings,l=Object(p.vb)({branchId:i.branchId,categoryType:t}),o=l.data,u=l.loading,d=o&&o.categories||[];return r.a.createElement(rt,{isLoading:u,options:Ve.a.without(a,d),addButtonText:n,onAdd:c})}),St=function(e){var t=e.categoryType,a=e.addButtonText,n=e.noRowsText,c=e.name,i=Object(ie.d)(c);return Object(j.useObserver)(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{categories:Array.from(i.value),showRemoveColumn:!0,showEditColumn:!1,showHeader:!1,noRowsDisplay:r.a.createElement(W.g,{text:n}),onRemove:function(e){return i.value.remove(i.value.find(Object(be.idPropEq)(e)))}}),r.a.createElement(Nt,{addButtonText:a,categoryType:t,currentCategories:Array.from(i.value),onAdd:function(e){return i.value.push(e)}}))})},Wt=a(147),Mt=a.n(Wt),Pt=a(1526),_t=function(e){var t=e.isCreate,a=e.recipeId,n=e.recipeType,c=e.children,i=Object(fe.a)(),l=Object(D.a)().redirectToRecipeList,u=it().priceTypeLabels,d=Object(ie.c)(function(e){return{nameLabel:e.string().required(g.b._("Recipe name in default language must be entered.")),code:e.string().required(g.b._("Recipe code must be entered.")),prices:e.object(zt(function(t){var a=u[t].toLocaleLowerCase();return e.object({value:e.string().required(g.b._("Recipe price for {priceType} must be entered.",{priceType:a}))})}))}}),s=Object(p.u)(),m=Object(S.a)(s,1)[0],b=r.a.useCallback(Object(N.a)(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({branchId:i.branchId},{fetchPolicy:"cache-first"});case 2:if(null===(t=e.sent)){e.next=5;break}return e.abrupt("return",Vt(t.defaults));case 5:return e.abrupt("return");case 6:case"end":return e.stop()}},e)})),[i,m]),f=Object(p.v)(),h=Object(S.a)(f,1)[0],v=r.a.useCallback(Object(N.a)(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({recipeId:a},{fetchPolicy:"no-cache"});case 2:if(null!==(t=e.sent)){e.next=6;break}return l(),e.abrupt("return");case 6:return e.abrupt("return",qt(t.recipe));case 7:case"end":return e.stop()}},e)})),[h,a,l]),E=Object(p.V)(),y=Object(S.a)(E,1)[0],O=r.a.useCallback(function(e,t){return y({recipeId:e,recipe:Object(z.a)({},Dt(t),{translations:t.translations})})},[y]),j=r.a.useCallback(function(e){return O(a,e)},[O,a]),C=Object(p.T)(),w=Object(S.a)(C,1)[0],x=r.a.useCallback(function(){var e=Object(N.a)(I.a.mark(function e(t){var a,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({recipe:Object(z.a)({companyBranch:i.branchId,wareCategoryType:n},Dt(t))});case 2:(a=e.sent)&&t.translations&&t.translations.length>0&&(r=a.recipe.id,O(r,t));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[w,O,i,n]),k=Object(p.w)(),T=Object(S.a)(k,1)[0],R=r.a.useCallback(function(){var e=Object(N.a)(I.a.mark(function e(t){var n,r,c,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({recipeId:a,language:t},{fetchPolicy:"no-cache"});case 2:if(null!==(n=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return r=n.recipe,c=r.nameLabel,i=r.descriptionLabel,e.abrupt("return",{nameLabel:c,descriptionLabel:i});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[T,a]);return r.a.createElement(ve,{isCreate:t,onCreate:x,onUpdate:j,initialValues:Bt(n),loadCreateDefaults:b,loadUpdateValues:v,validationSchema:d,successRedirectPath:o.c},r.a.createElement(r.a.Fragment,null,c,r.a.createElement(je,{loadTranslations:R})))};function Dt(e){return{code:e.code,nameLabel:e.nameLabel||"",internalNote:e.internalNote,descriptionLabel:e.descriptionLabel,enabled:e.visible,prices:Object.keys(e.prices).map(function(t){return{warePriceType:t,price:{value:Mt()(e.prices[t].value).value()},vat:e.prices[t].vatId}}),sideDishCategories:e.sideDishes.map(Ve.a.prop("id")),wareCategories:e.categories.map(Ve.a.prop("id")),associatedRecipes:e.associatedRecipes.map(Ve.a.pick(["associatedRecipe","warePriceType"])),ingredients:e.ingredients.map(function(e){var t=e.stockItem,a=e.quantity;return{stockItem:t,quantity:Object(Pt.b)(a)}})}}function zt(e){return ct.reduce(function(t,a){return t[a]=e(a),t},{})}function Bt(e){return{id:"NEW",itemType:e,visible:!0,code:"",nameLabel:"",internalNote:"",internalCode:"",descriptionLabel:"",image:"",prices:zt(function(){return{value:0,vatId:null,currencyCode:""}}),associatedRecipes:[],ingredients:[],sideDishes:[],categories:[],translations:[]}}function Vt(e){var t=e.vats.reduce(function(e,t){var a=t.vatId;return e[t.priceType.enum]=a,e},{});return{prices:zt(function(a){return{value:0,vatId:t[a],currencyCode:e.currency.code}})}}function qt(e){return Object(z.a)({},e,{itemType:e.recipeType.enum,internalNote:e.internalNote||"",descriptionLabel:e.descriptionLabel||"",associatedRecipes:e.sourceAssociatedRecipes.map(function(e){var t=e.priceType,a=e.recipe;return{warePriceType:t.enum,nameLabel:a.nameLabel,associatedRecipe:a.id,formattedPrice:"?"}}),ingredients:e.sourceIngredients.map(function(e){var t=e.quantity,a=e.stockItem,n=a.id,r=a.label,c=a.allergens;return{stockItem:n,label:r,quantity:t,unitLabel:a.wareUnit.code,allergens:c.map(Ve.a.prop("enum"))}}),prices:zt(function(t){var a=e.sourcePrices.find(Ve.a.pathEq(["priceType","enum"],t));return a?{value:a.price.value,vatId:a.vat.id,currencyCode:a.price.currency.code}:{value:0,vatId:null,currencyCode:""}})})}var Ft=a(1611),Ht=function(e){var t=e.fieldName,a=e.className,n=Object(ie.f)(t);return Object(j.useObserver)(function(){return r.a.createElement("span",{className:a},n.value)})},At=a(43),Ut=Object(At.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M15 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"}),r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M3 12c0-2.61 1.67-4.83 4-5.65V4.26C3.55 5.15 1 8.27 1 12s2.55 6.85 6 7.74v-2.09c-2.33-.82-4-3.04-4-5.65z"})),"Toll"),Kt=function(e){var t=e.fieldName,a=Object(V.a)(e,["fieldName"]);return r.a.createElement(Te.a,{icon:Ut},r.a.createElement(ht.a,{width:5},r.a.createElement(Fe.a,Object.assign({fieldName:t,fullWidth:!0},a))))},Gt=function(e){var t=e.items,a=e.fieldName,n=e.isClearable,c=void 0!==n&&n,i=e.getItemId,l=void 0===i?be.idProp:i,o=Object(ie.d)(a);return Object(j.useObserver)(function(){return r.a.createElement(gt.a,Object.assign({selectedItem:o.value&&t.find(function(e){return l(e)===o.value}),onSingleSelection:function(e){o.setValue(e?l(e):null),o.setTouched()},isInvalid:o.hasError,isClearable:c,isMulti:!1},e))})},Qt=function(e){var t=e.fieldName,a=at(),n=Object(p.Cb)({branchId:a},{fetchPolicy:"cache-first"}),c=n.data;return n.loading?null:r.a.createElement(Te.a,{label:"".concat(g.b._("VAT"),":")},r.a.createElement(Gt,{fieldName:t,items:c.vats,formatItem:function(e){var t=e.vat;return"".concat(t,"%")}}))},Jt=function(e){var t=e.recipes,a=e.onRemove;return r.a.createElement(W.f,{items:t,disableHeader:!0},r.a.createElement(W.a,{dataKey:"associatedRecipe",width:x.d.ButtonColumnWidthPx,minWidth:x.d.ButtonColumnWidthPx,cellRenderer:function(e){var t=e.cellData;return r.a.createElement(nt.a,{onClick:function(){return a(t)}})}}),r.a.createElement(W.a,{dataKey:"nameLabel",width:300,label:g.b._("Name"),cellRenderer:W.e,columnData:{noteKey:"internalNote"}}),r.a.createElement(W.a,{dataKey:"formattedPrice",width:100,label:g.b._("Price")}))},Yt=Object(j.observer)(function(e){var t=e.priceType,a=Object(ie.f)("associatedRecipes"),n=Ee(),c=at(),i=Object(p.yb)({branchId:c}),l=i.data,o=i.loading,u=Ve.a.propEq("warePriceType",t),d=Ve.a.propEq("associatedRecipe"),s=Ve.a.filter(u,a.value),m=Ve.a.reject(function(e){return e.id===n||(t=e.id,s.some(d(t)));var t}),b=r.a.useCallback(function(e){a.value.push({warePriceType:t,associatedRecipe:e.id,nameLabel:e.nameLabel,formattedPrice:"?"})},[t,a]),f=r.a.useCallback(function(e){a.value.remove(a.value.find(Ve.a.both(d(e),u)))},[d,u,a.value]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Jt,{recipes:s,onRemove:f}),r.a.createElement(rt,{options:o?[]:m(l.recipes),onAdd:b,isLoading:o}))}),Xt=Object(d.default)(Ht).withConfig({displayName:"FormPricingCurrencyCode",componentId:"sc-5x5h5x-0"})(["padding:0.5rem;"]),$t=function(){var e=it(),t=e.priceTypes,a=e.priceTypeLabels;return r.a.createElement(r.a.Fragment,null,t.map(function(e){var t=["prices",e];return r.a.createElement(n.Fragment,{key:e},r.a.createElement(M.a,null,a[e]),r.a.createElement(Ft.a,null,r.a.createElement(Kt,{fieldName:t.concat(["value"])}),r.a.createElement(Xt,{fieldName:t.concat(["currencyCode"])}),r.a.createElement(Lt.a,{left:5},r.a.createElement(Qt,{fieldName:t.concat(["vatId"])}))),r.a.createElement(f.a,null),r.a.createElement(oe,{isMain:!0},r.a.createElement(Yt,{priceType:e}),r.a.createElement(f.a,null)))}))},Zt=function(e){var t=e.placeholder;return r.a.createElement(Te.a,{label:r.a.createElement(O.Trans,{id:"Code"}),labelWidth:x.d.DefaultLabelWidth},r.a.createElement(ht.a,{width:9},r.a.createElement(Fe.a,{fieldName:"code",fullWidth:!0,placeholder:t})))},ea=function(e){return r.a.createElement(Te.a,{label:g.b._("External ID"),labelWidth:7},r.a.createElement(Fe.a,{fieldName:"internalCode",disabled:!0}))},ta=function(e){var t=e.label;return r.a.createElement(Ie.a,{fieldName:"visible",label:t})},aa=a(1820);function na(){var e=Object(u.a)(["\n  float: left;\n  width: 2.3rem;\n  height: 2.3rem;\n  border: 1px solid ",";\n  margin: 0.3rem 0.6rem 0.3rem ",";\n  font-size: 1.5rem;\n  text-align: center;\n  vertical-align: middle;\n  cursor: default;\n  color: ",";\n  background-color: ",";\n  &.active {\n    color: ",";\n    background-color: ",";\n  }\n"]);return na=function(){return e},e}var ra=d.default.div(na(),x.a.greyMiddle,x.d.MarginAroundFormComponents,x.a.greyMiddle,x.a.white,x.a.black,x.a.yellow),ca=function(e){var t=e.selected,a=e.onToggle,n=Object(p.tb)({},{fetchPolicy:"cache-first"}),c=n.data;return n.loading?null:r.a.createElement(r.a.Fragment,null,c.allergens.map(function(e){return r.a.createElement(ra,{key:e.enum,title:e.code,className:Object(Ge.cn)({active:t.includes(e.enum)}),onClick:a&&function(){return a(e.enum)}},e.category)}))},ia=d.default.div.withConfig({displayName:"StyledAllergenLabel",componentId:"sc-1bpzlke-0"})(["margin:0.7rem 0 0 0.2rem;"]),la=Object(j.observer)(function(){var e=Object(ie.f)("ingredients"),t=pt.a.uniq(pt.a.flatten(e.value.map(Ve.a.prop("allergens"))));return r.a.createElement(Te.a,{labelWidth:x.d.DefaultLabelWidth,icon:aa.a},r.a.createElement(ia,null,r.a.createElement(O.Trans,{id:"Allergens based on stock cards"})),r.a.createElement(ca,{selected:t}))}),oa=function(){return r.a.createElement(Te.a,{label:r.a.createElement(O.Trans,{id:"Public note"}),labelWidth:x.d.DefaultLabelWidth},r.a.createElement(Ue,{fieldName:"descriptionLabel",placeholder:g.b._("Public note for customers, allergens")}))},ua=function(e){var t=e.isCreate,a=Object(p.U)(),n=Object(S.a)(a,1)[0];return r.a.createElement(Me,{primaryColumnWidth:"minmax(10rem, 54rem)",secondaryColumnWidth:"3rem",contentPrimary:r.a.createElement(ke.a,null,r.a.createElement(Zt,{placeholder:g.b._("Recipe code")}),r.a.createElement(Xe,{placeholder:g.b._("Recipe name"),localized:!0}),r.a.createElement(oe,{isMain:!0},r.a.createElement(oa,null)),r.a.createElement(Ke,{placeholder:g.b._("Recipe internal note")}),!t&&r.a.createElement(oe,{isMain:!0},r.a.createElement(ea,null)),r.a.createElement(oe,{isMain:!0},r.a.createElement(la,null)),r.a.createElement(Te.a,{labelWidth:x.d.DefaultLabelWidth},r.a.createElement(ta,{label:g.b._("To show this recipe")}))),contentTopRight:r.a.createElement(Je,null),contentBottomRight:r.a.createElement(Le,{mutationName:"destroyRecipe",confirmText:g.b._("Remove this recipe?"),onDelete:function(e){return n({recipeId:e})}})})},da=function(e){var t=e.ingredients,a=e.onRemove,n=e.isLoading,c=void 0!==n&&n;return r.a.createElement(W.f,{isLoading:c,items:t,disableHeader:!0,noRowsRenderer:function(){return r.a.createElement(W.g,{text:g.b._("Recipe has no ingredients")})}},r.a.createElement(W.a,{dataKey:"stockItem",width:x.d.ButtonColumnWidthPx,minWidth:x.d.ButtonColumnWidthPx,cellRenderer:W.c,columnData:{onRemove:a}}),r.a.createElement(W.a,{dataKey:"label",width:300,label:g.b._("Name")}),r.a.createElement(W.a,{dataKey:"quantity",width:60,label:g.b._("Quantity"),cellRenderer:function(e){var t=e.rowIndex;return r.a.createElement(ht.a,{width:2.5},r.a.createElement(Fe.a,{fieldName:["ingredients",String(t),"quantity"],fullWidth:!0}))}}),r.a.createElement(W.a,{dataKey:"unitLabel",width:100,label:g.b._("Ware unit")}))},sa=Ve.a.differenceWith(function(e,t){return e.id===t.stockItem}),ma=Object(j.observer)(function(e){var t=e.ingredients,a=e.onAdd,n=e.onRemove,c=at(),i=Object(p.Bb)({branchId:c}),l=i.data,o=i.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(da,{ingredients:t,onRemove:n}),r.a.createElement(rt,{isLoading:o,addButtonText:g.b._("Add ingredient"),options:o?[]:sa(l.stockItems,t),onAdd:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){a({stockItem:e.id,label:e.nameLabel,quantity:1,unitLabel:e.wareUnit.code,allergens:e.allergens.map(Ve.a.prop("enum"))})})}))}),ba=function(){var e=Object(ie.d)("ingredients");return Object(j.useObserver)(function(){return r.a.createElement(ma,{ingredients:e.value,onAdd:function(t){e.value.push(t)},onRemove:function(t){e.value.splice(e.value.findIndex(Ve.a.propEq("stockItem",t)),1)}})})},fa=function(e){var t=e.match.params.recipeId,a=Object(D.a)(t),n=a.isCreate,c=a.itemType,i=a.redirectToRecipeList;return null===c?(i(),null):r.a.createElement(_t,{isCreate:n,recipeId:t,recipeType:c},r.a.createElement(Lt.a,{right:1.25,bottom:4},r.a.createElement(h.a,{pageTitle:Object(me.c)(c),hideLogoutWidget:!0,useBackButton:!0},r.a.createElement(s.a,null,r.a.createElement(ua,{isCreate:n})),r.a.createElement(s.a,null,r.a.createElement($t,null)),r.a.createElement(s.a,null,r.a.createElement(M.a,null,r.a.createElement(O.Trans,{id:"Recipe ingredients"})),r.a.createElement(f.a,null),r.a.createElement(ba,null)),r.a.createElement(oe,{isMain:!0},r.a.createElement(s.a,null,r.a.createElement(M.a,null,r.a.createElement(O.Trans,{id:"Sidedish categories"})),r.a.createElement(et.a,null,r.a.createElement(O.Trans,{id:"These sidedish are presented with recipe"})),r.a.createElement(St,{name:"sideDishes",categoryType:It.a.SideDish,addButtonText:g.b._("Attach sidedish category"),noRowsText:g.b._("Recipe has no sidedish category attached")})),r.a.createElement(s.a,null,r.a.createElement(M.a,null,r.a.createElement(O.Trans,{id:"Category assignments"})),r.a.createElement(et.a,null,r.a.createElement(O.Trans,{id:"Recipe is in these categories"})),r.a.createElement(St,{name:"categories",categoryType:It.a.Main,addButtonText:g.b._("Add to category"),noRowsText:g.b._("Recipe is not in any category")})))),r.a.createElement(ce,null,r.a.createElement(se,{isCreate:n,createMutation:"createRecipe",updateMutation:"updateRecipe"}))))},pa=a(1449),ga=a(1822),ha=a(325);function va(){var e=Object(u.a)(["\n  [aria-label='grid']:focus {\n    outline: none;\n  }\n\n  [role='columnheader'] {\n    display: flex;\n    align-items: center;\n    overflow: hidden;\n  }\n"]);return va=function(){return e},e}var Ea=Object(d.default)(W.f)(va()),ya=Object(j.observer)(function(e){var t=e.stockItems,a=e.isLoading;return r.a.createElement(Ea,{items:t,heightStretch:!0,noRowsRenderer:function(){return a?r.a.createElement(ha.a,null):r.a.createElement("h3",null,r.a.createElement(O.Trans,{id:"Selected branch has no stock cards"}))}},r.a.createElement(W.a,{dataKey:"id",width:x.d.ButtonColumnWidthPx,minWidth:x.d.ButtonColumnWidthPx,cellRenderer:Object(W.h)({canQuery:"stockItem"},W.b)}),r.a.createElement(W.a,{dataKey:"code",width:100,label:g.b._("Card code")}),r.a.createElement(W.a,{dataKey:"nameLabel",width:300,minWidth:30,flexGrow:2,label:g.b._("Card name")}),r.a.createElement(W.a,{dataKey:"quantity",width:100,label:g.b._("Card stock"),cellRenderer:Oa}),r.a.createElement(W.a,{dataKey:"allowNegativeValue",width:300,label:g.b._("Negative stock"),cellRenderer:ja}),r.a.createElement(W.a,{dataKey:"note",width:300,label:g.b._("Card note")}))});function Oa(e){var t=e.cellData,a=e.rowData;return"".concat(t," ").concat(a.wareUnit.code)}function ja(e){return!0===e.cellData?r.a.createElement(O.Trans,{id:"Permitted"}):r.a.createElement(O.Trans,{id:"Forbidden"})}var Ca=Object(j.observer)(function(){var e=Object(fe.a)(),t=Object(p.Bb)({branchId:e.branchId}),a=t.data,n=t.loading,c=e.filter.getPredicate({partialMatch:["code","nameLabel"],exactMatch:["plu"]}),i=n?[]:a.stockItems.filter(c);return r.a.createElement(ya,{stockItems:i,isLoading:n})}),wa=function(){var e=Object(D.a)().getStockCreateRoute;return r.a.createElement(h.a,{pageTitle:g.b._("Stock overview"),useBackButton:!0},r.a.createElement(v.a,{forcePercentHeightInMobile:100},r.a.createElement(s.a,{stretchToParent:!0},r.a.createElement(Rt.b,null,r.a.createElement("div",{className:"filter"},r.a.createElement(b.a,{justify:"start",flexWrap:"wrap"},r.a.createElement(m.a,null,r.a.createElement(E.a,{width:20})),r.a.createElement(m.a,null,r.a.createElement(ga.a,null))),r.a.createElement(pa.a,{mutationName:"createStockItem"},r.a.createElement(_.a,{routeTo:e()}))),r.a.createElement("div",{className:"table"},r.a.createElement(Ca,null))))))},xa=a(1502),ka=function(e){var t=e.stockId,a=e.isCreate,n=e.children,c=Object(fe.a)(),i=Object(D.a)().redirectToStockList,l=Object(ie.c)(function(e){return{code:e.string().required(),nameLabel:e.string().required(),wareUnit:e.string().required(),ingredients:e.array().of(e.object({quantity:e.string().required()}))}}),u=Object(p.x)(),d=Object(S.a)(u,1)[0],s=r.a.useCallback(function(){var e=Object(N.a)(I.a.mark(function e(t){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({branchId:c.branchId});case 2:if(null!==(a=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:return e.abrupt("return",Object(z.a)({},t,{allowNegativeDefault:Ta(a.defaults.allowNegative)}));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[c,d]),m=Object(p.y)(),b=Object(S.a)(m,1)[0],f=r.a.useCallback(function(){var e=Object(N.a)(I.a.mark(function e(a){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({stockId:t},{fetchPolicy:"no-cache"});case 2:if(null!==(n=e.sent)){e.next=6;break}return i(),e.abrupt("return",a);case 6:return e.abrupt("return",Object(z.a)({},{id:(r=n.stockItem).id,internalNote:"TBD",nameLabel:r.nameLabel,code:r.code,note:r.note,plu:r.plu||"",wareUnit:r.wareUnit.enum,quantity:r.quantity,allergens:r.allergens.map(Ve.a.prop("enum")),allowNegative:r.allowNegative,allowNegativeDefault:Ta(r.companyBranch.allowNegative)}));case 7:case"end":return e.stop()}var r},e)}));return function(t){return e.apply(this,arguments)}}(),[b,i,t]),g=Object(p.X)(),h=Object(S.a)(g,1)[0],v=r.a.useCallback(function(e){return h({stockItem:Object(z.a)({companyBranch:c.branchId},Ra(e))})},[h,c]),E=Object(p.ab)(),y=Object(S.a)(E,1)[0],O=r.a.useCallback(function(e){return y({stockId:t,stockItem:Ra(e)})},[t,y]);return r.a.createElement(ve,{isCreate:a,onCreate:v,onUpdate:O,initialValues:{id:"NEW",internalNote:"",nameLabel:"",code:"",plu:"",note:"",wareUnit:null,quantity:0,allergens:[],allowNegative:p.e.Default,allowNegativeDefault:p.e.Default},loadCreateDefaults:s,loadUpdateValues:f,validationSchema:l,successRedirectPath:o.d},n)};function Ta(e){return e?p.e.Default:p.e.Disabled}function Ra(e){return{code:e.code,label:e.nameLabel,note:e.note,plu:e.plu,allergens:e.allergens,wareUnit:e.wareUnit,allowNegative:e.allowNegative}}var La=function(){var e=Object(ie.d)("allergens"),t=r.a.useCallback(function(t){var a=e.value;a.includes(t)?e.setValue(Ve.a.without([t],a)):e.setValue(Object(q.a)(a).concat([t]))},[e]);return Object(j.useObserver)(function(){return r.a.createElement(Te.a,{icon:aa.a,labelWidth:7},r.a.createElement(ca,{selected:e.value,onToggle:t}))})},Ia=a(244),Na=[{type:p.e.Enabled,label:Object(Ia.i18nMark)("Permit")},{type:p.e.Disabled,label:Object(Ia.i18nMark)("Forbid")}],Sa=Object(j.observer)(function(){var e=Object(ie.h)().values.allowNegativeDefault;return r.a.createElement(Te.a,{label:g.b._("Negative stock"),labelWidth:7},r.a.createElement(Gt,{items:Na,fieldName:"allowNegative",getItemId:be.RM.prop("type"),formatItem:function(t){return t.type===e?r.a.createElement("span",null,g.b._(t.label),r.a.createElement("i",null," (".concat(g.b._("Is default setting").toLocaleLowerCase(),")"))):g.b._(t.label)}}))}),Wa=Object(At.a)(r.a.createElement("path",{d:"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"}),"Fingerprint"),Ma=function(){return r.a.createElement(Te.a,{icon:Wa,labelWidth:7},r.a.createElement(ht.a,{width:9},r.a.createElement(Fe.a,{fieldName:"plu",fullWidth:!0,placeholder:g.b._("PLU")})))},Pa=Object(At.a)(r.a.createElement("path",{d:"M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"}),"SelectAll"),_a=function(e){var t=Object(p.Db)(),a=t.data,n=t.loading;return r.a.createElement(Te.a,{icon:Pa,labelWidth:7},r.a.createElement(_e,{options:a.wareUnits,isLoading:n,getOptionLabel:Ve.a.prop("code"),getOptionValue:Ve.a.prop("enum"),placeholder:g.b._("Choose unit"),fieldName:"wareUnit",width:12}))},Da=function(){var e=Object(p.Y)(),t=Object(S.a)(e,1)[0];return r.a.createElement(Me,{primaryColumnWidth:"minmax(10rem, 54rem)",contentPrimary:r.a.createElement(ke.a,null,r.a.createElement(Xe,{placeholder:g.b._("Card name")}),r.a.createElement(Zt,{placeholder:g.b._("Card code")}),r.a.createElement(_a,null),r.a.createElement(Ma,null),r.a.createElement(Ke,{fieldName:"note",placeholder:g.b._("Card note"),label:g.b._("Card note")}),r.a.createElement(La,null),r.a.createElement(Sa,null)),contentBottomRight:r.a.createElement(Le,{mutationName:"destroyStockItem",confirmText:g.b._("Remove this card?"),onDelete:function(e){return t({stockId:e})}})})},za=a(1615),Ba=function(e){var t=e.stockId,a=Object(p.Ub)({stockId:t}),n=a.data;if(a.loading)return r.a.createElement(za.a,null);var c=n.stockItem.ingredients;return 0===c.length?r.a.createElement(M.a,null,r.a.createElement(O.Trans,{id:"No recipes are using stock card"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,null,r.a.createElement(O.Trans,{id:"Recipes using this card"})),r.a.createElement(W.f,{items:Object(q.a)(c),disableHeader:!0,fullHeight:!0},r.a.createElement(W.a,{dataKey:"",cellDataGetter:function(e){var t=e.rowData;return{pathname:"".concat(o.c,"/").concat(t.recipe.id),state:{recipeType:t.recipe.recipeType.enum}}},cellRenderer:W.b,width:100}),r.a.createElement(W.a,{dataKey:"recipe",width:300,label:g.b._("Name"),cellRenderer:function(e){var t=e.rowData;return r.a.createElement(r.a.Fragment,null,t.recipe.nameLabel,r.a.createElement(et.a,null,t.recipe.descriptionLabel))}})))},Va=function(e){var t=e.match.params.stockId,a=Object(D.a)(t).isCreate;return r.a.createElement(h.a,{pageTitle:g.b._("Stock card"),hideLogoutWidget:!0,useBackButton:!0},r.a.createElement(ka,{isCreate:a,stockId:t},r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(Da,null),!a&&r.a.createElement(xa.a,{queryName:"recipes"},r.a.createElement(Ba,{stockId:t}))),r.a.createElement(ce,null,r.a.createElement(se,{isCreate:a,createMutation:"createStockItem",updateMutation:"updateStockItem"})))))};a.d(t,"MenuRouting",function(){return qa});var qa=function(){return r.a.createElement(c.Switch,null,r.a.createElement(l.a,{path:"".concat(o.b,"/:categoryId"),component:Tt}),r.a.createElement(l.a,{path:o.b,component:ne}),r.a.createElement(l.a,{path:"".concat(o.c,"/:recipeId"),component:fa}),r.a.createElement(l.a,{path:o.c,component:Rt.a}),r.a.createElement(l.a,{path:"".concat(o.d,"/:stockId"),component:Va}),r.a.createElement(l.a,{path:o.d,component:wa}),r.a.createElement(c.Redirect,{to:o.b,from:o.a}),r.a.createElement(c.Route,{component:i.a}))};t.default=qa}}]);
//# sourceMappingURL=187.1f8e0e89.chunk.js.map