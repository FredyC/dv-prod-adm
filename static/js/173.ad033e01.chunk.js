(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{7675:function(e,n,t){"use strict";t.d(n,"a",function(){return p});var r=t(38),a=t(4),c=t(0),i=t.n(c),l=t(22),o=t(18),u=t(103);function s(){var e=Object(a.a)(["\n  padding-top: 0.2rem;\n  display: inline-block;\n"]);return s=function(){return e},e}function d(){var e=Object(a.a)(["\n  margin-left: 0.5rem;\n  align-self: stretch;\n  flex: 1 1 auto;\n"]);return d=function(){return e},e}function m(){var e=Object(a.a)(["\n  margin: ",";\n  min-width: ",";\n  flex: 0 0 auto;\n  text-align: right;\n"]);return m=function(){return e},e}function f(){var e=Object(a.a)(["\n  display: flex;\n"]);return f=function(){return e},e}var b=l.b.div(f());b.displayName="IconLineWrap";var v=l.b.div(m(),function(e){var n=e.labelMargin;return void 0===n?"0.5rem 0.2rem 0 auto":n},function(e){var n=e.labelWidth,t=void 0===n?0:n,r=e.labelWidthUnits;return t+(void 0===r?o.d.DefaultSizeUnit:r)}),h=l.b.div(d()),E=l.b.div(s());h.displayName="IconLineChildren";var p=function(e){var n,t=e.icon,a=e.label,c=e.labelWidth,l=e.labelWidthUnits,s=e.labelMargin,d=e.children,m=Object(r.a)(e,["icon","label","labelWidth","labelWidthUnits","labelMargin","children"]);return t&&(n="string"===typeof t?i.a.createElement(u.a,{iconName:t,color:o.a.greyDark}):i.a.createElement(t,{nativeColor:o.a.greyDark})),i.a.createElement(b,m,i.a.createElement(v,{labelWidth:c,labelWidthUnits:l,labelMargin:s},n,a?i.a.createElement(E,null,a):null),i.a.createElement(h,null,d))}},7677:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(63),a=t(0),c=t.n(a),i=t(7686),l=t(62),o=function(e){var n=e.mutationName,t=e.children,a=Object(l.c)().user;return Object(r.useObserver)(function(){return a.canMutate(n)?c.a.createElement(c.a.Fragment,null,t):c.a.createElement(i.a,null,"No access to mutation ".concat(n))})}},7680:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var r=t(34),a=t(0),c=t.n(a),i=t(7738),l=t(18),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)({},e,{control:function(n,t){var a=t.selectProps,c=a.width,i=a.minWidth,o=Object(r.a)({},n,{border:"1px solid ".concat(l.a.greyMiddle),margin:l.d.MarginAroundFormComponents,width:void 0!==c?"".concat(c,"rem"):"100%",minWidth:void 0!==i?"".concat(i,"rem"):"8rem"});return e.control?e.control(o,t):o},menu:function(n,t){var a=t.selectProps.width,c=Object(r.a)({},n,{zIndex:20,color:l.a.black,width:void 0!==a?"".concat(a,"rem"):"100%"});return e.menu?e.menu(c,t):c}})};function u(e){return c.a.createElement(i.b,Object.assign({},e,{styles:o(e.styles)}))}},7683:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var r=t(4),a=t(22),c=t(18);function i(){var e=Object(r.a)(["\n  color: ",";\n  font-weight: lighter;\n  margin: ",";\n  font-size: ",";\n"]);return i=function(){return e},e}var l=a.b.h2(i(),function(e){var n=e.light;return void 0!==n&&n?c.a.greyLight:c.a.greyDarkest},function(e){var n=e.margin;return void 0===n?"0 0.5rem 0 0.5rem":n},function(e){return"smaller"===e.size&&"1rem"})},7686:function(e,n,t){"use strict";t.d(n,"a",function(){return r});t(0);var r=function(e){e.children;return null}},7687:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(63),a=t(0),c=t.n(a),i=t(7686),l=t(62),o=function(e){var n=e.queryName,t=e.children,a=Object(l.c)().user;return Object(r.useObserver)(function(){return a.canQuery(n)?c.a.createElement(c.a.Fragment,null,t):c.a.createElement(i.a,null,"No access to query ".concat(n))})}},7688:function(e,n,t){"use strict";t.d(n,"a",function(){return f});var r=t(4),a=t(0),c=t.n(a),i=t(22),l=t(7697),o=t(18);function u(){var e=Object(r.a)(["\n  height: 100%;\n"]);return u=function(){return e},e}function s(){var e=Object(r.a)(["\n  position: fixed;\n  bottom: 0.5rem;\n  width: ",";\n  left: ",";\n  top: ",";\n"]);return s=function(){return e},e}var d=i.b.div(s(),function(e){return void 0!==e.widthInColumns?"calc(("+e.widthInColumns+" * 6.22vw) - "+o.d.LayoutGridCellMargin+")":"calc(100vh - (2 * "+o.d.LayoutGridCellMargin+"))"},function(e){return void 0!==e.column?"calc(("+e.column+" * 6.22vw) + "+o.d.LayoutGridCellMargin+")":o.d.LayoutGridCellMargin},function(e){return void 0!==e.row?"calc(("+e.row+" * 3.9375rem) + "+o.d.LayoutGridCellMargin+")":"calc(3.9375rem + "+o.d.LayoutGridCellMargin+")"}),m=i.b.div(u()),f=function(e){var n=e.children,t=e.row,r=void 0===t?1:t,a=e.column,i=void 0===a?0:a,o=e.widthInColumns,u=void 0===o?16:o,s=e.withScrollArea,f=void 0!==s&&s,b=e.scrollAreaId;return c.a.createElement(d,{column:i,row:r,widthInColumns:u,withScrollArea:f},f?c.a.createElement(l.a,{id:b},n):c.a.createElement(m,null,n))}},7689:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var r=t(4);function a(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: ",";\n"]);return a=function(){return e},e}var c=t(22).b.div(a(),function(e){var n=e.justify;return void 0===n?"space-between":n})},7691:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var r=t(4),a=t(0),c=t.n(a),i=t(22),l=t(18);function o(){var e=Object(r.a)(["\n  border-top: 1px solid ",";\n  margin: 0.25rem 0rem;\n"]);return o=function(){return e},e}var u=i.b.div(o(),l.a.greyLight),s=function(e){var n=e.visible;return void 0===n||n?c.a.createElement(u,null):null}},7693:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var r=t(0),a=t.n(r),c=t(214),i=function(e){var n=e.price,t=e.currencyCode,r=e.className;return a.a.createElement("span",{className:r},t?"".concat(Object(c.d)(n)," ").concat(t):Object(c.d)(n))}},7694:function(e,n,t){"use strict";t.d(n,"a",function(){return g});var r=t(120),a=t(121),c=t(123),i=t(122),l=t(124),o=t(4),u=t(76),s=t(0),d=t.n(s),m=t(22),f=t(25);function b(){var e=Object(o.a)(["\n    font-weight: bolder;\n    text-decoration: underline;\n  "]);return b=function(){return e},e}function v(){var e=Object(o.a)(["\n  border: ",";\n"]);return v=function(){return e},e}function h(){var e=Object(o.a)(["\n  margin: 0.5rem 0.6rem;\n  display: inline-block;\n  cursor: pointer;\n  color: ",";\n  ",";\n"]);return h=function(){return e},e}var E=m.b.div(h(),function(e){return e.textColor},function(e){if(!e.isSelected)return"";return Object(m.a)(b())}),p=m.b.div(v(),function(e){return!0===e.isInvalid?"1px red solid":"auto"}),g=function(e){function n(){return Object(r.a)(this,n),Object(c.a)(this,Object(i.a)(n).apply(this,arguments))}return Object(l.a)(n,e),Object(a.a)(n,[{key:"hasSelection",value:function(){var e=this.props,n=e.isMulti,t=e.selectedItem,r=e.selectedItems;return n?Array.isArray(r)&&r.length>0:null!==t&&void 0!==t}},{key:"isItemSelected",value:function(e){var n=this.props,t=n.isMulti,r=n.selectedItem,a=n.selectedItems;return t&&Array.isArray(a)?f.a.contains(e,a):f.a.equals(r,e)}},{key:"updateSelection",value:function(e){var n=this.props,t=n.isMulti,r=n.selectedItems,a=void 0===r?[]:r,c=n.onSingleSelection,i=n.onMultiSelection;null===e?t&&i?i([]):c&&c(null):t&&i?this.isItemSelected(e)?i(Array.isArray(a)?f.a.without([e],a):[e]):i(Array.isArray(a)?f.a.concat(a,[e]):[]):c&&c(e)}},{key:"render",value:function(){var e=this,n=this.props,t=n.items,r=n.isClearable,a=n.isInvalid,c=void 0!==a&&a,i=n.textColor,l=void 0===i?"inherit":i,o=n.formatItem;return d.a.createElement(p,{isInvalid:c},r&&d.a.createElement(E,{isSelected:!this.hasSelection(),textColor:l,onClick:function(){e.updateSelection(null)}},d.a.createElement(u.Trans,{id:"optionselector.clear-filter"})),t.map(function(n,t){return d.a.createElement(E,{key:t,isSelected:e.isItemSelected(n),textColor:l,onClick:function(){e.updateSelection(n)}},o(n))}))}}]),n}(d.a.Component);g.defaultProps={formatItem:f.a.prop("displayName"),getItemValue:f.a.prop("id")}},7695:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var r=t(4);function a(){var e=Object(r.a)(["\n  flex: ",";\n  padding: ",";\n  margin: ",";\n"]);return a=function(){return e},e}var c=t(22).b.div(a(),function(e){var n=e.fixedWidth,t=void 0!==n&&n,r=e.width,a=e.widthGrowIndex,c=void 0===a?0:a;return t?r?"0 0 ".concat(r):"0 0":"".concat(c," 0")},function(e){var n=e.padding;return void 0===n?"0.25rem":n},function(e){var n=e.margin;return void 0===n?"":n})},7697:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var r=t(4);function a(){var e=Object(r.a)(["\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  height: 100%;\n"]);return a=function(){return e},e}var c=t(22).b.div(a())},7712:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var r=t(4),a=t(22);function c(){var e=Object(r.a)(["\n  position: absolute;\n  ",";\n  ",";\n"]);return c=function(){return e},e}var i=Object(a.b)("div")(c(),function(e){var n=e.position,t=void 0===n?"BottomRight":n;return"BottomLeft"===t||"TopLeft"===t?"left: 0":"right: 0"},function(e){var n=e.position,t=void 0===n?"BottomRight":n;return"BottomRight"===t||"BottomLeft"===t?"bottom: 0":"top: 0"})},7713:function(e,n,t){"use strict";var r=t(0),a=t.n(r),c=t(62),i=t(25),l=t(7717),o=t(38),u=t(7694),s=t(18),d=function(e){var n=e.branches,t=e.selectedBranch,r=e.selectedBranches,c=e.textColor,i=void 0===c?s.a.black:c,l=Object(o.a)(e,["branches","selectedBranch","selectedBranches","textColor"]);return a.a.createElement(u.a,Object.assign({items:n,selectedItem:t,selectedItems:r,textColor:i,formatItem:function(e){return a.a.createElement("span",{title:e.brand.name},e.name)}},l))};t.d(n,"a",function(){return m});var m=function(e){var n=e.breakpoint,t=void 0===n?3:n,r=e.selectedBranches,o=void 0===r?[]:r,u=e.isMulti,s=void 0!==u&&u,m=e.isClearable,f=void 0===m||m,b=e.textColor,v=e.onSelectionChange,h=e.onSelectionClear,E=e.getDropdownProps,p=void 0===E?function(){return{}}:E,g=Object(c.c)().user,O=function(e){return o.includes(e.id)},j={textColor:b,isClearable:f,isMulti:s,branches:g.branches,selectedBranch:g.branches.find(O),selectedBranches:g.branches.filter(O),onSingleSelection:function(e){null===e&&h?h():null!==e&&v&&v([e.id],[e])},onMultiSelection:function(e){0===e.length&&h?h():e.length&&v&&v(e.map(i.a.prop("id")),e)}};return g.branches.length<t?a.a.createElement(d,j):a.a.createElement(l.a,Object.assign({},j,p()))}},7717:function(e,n,t){"use strict";var r=t(34),a=t(38),c=t(76),i=t(0),l=t.n(i),o=t(4);function u(){var e=Object(o.a)(["\n  cursor: ",";\n"]);return u=function(){return e},e}var s=t(22).b.div(u(),function(e){var n=e.cursor;return void 0===n?"default":n}),d=function(e){var n=e.branch,t=e.onClick,r=e.short,a=void 0!==r&&r,c=e.showBrand,i=void 0===c||c;return l.a.createElement(s,{cursor:"pointer",onClick:t},a?n.name.substr(0,8):l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,n.name),i&&l.a.createElement("span",null," [".concat(n.brand.name,"]"))))},m=t(7680),f=t(25),b=t(33);t.d(n,"a",function(){return h});var v=function(e){var n=e.getStyles,t=e.innerProps,r=t.ref,i=Object(a.a)(t,["ref"]);return l.a.createElement("div",Object.assign({},i,{ref:r,style:n("clearIndicator",e)}),l.a.createElement("div",{style:{padding:"0px 5px"}},l.a.createElement(c.Trans,{id:"All"})))},h=function(e){var n=e.branches,t=e.selectedBranch,c=e.onSingleSelection,i=e.selectedBranches,o=e.onMultiSelection,u=Object(a.a)(e,["branches","selectedBranch","onSingleSelection","selectedBranches","onMultiSelection"]);return l.a.createElement(m.a,Object.assign({value:u.isMulti?i:t,placeholder:u.isMulti?b.b._("Filter branches..."):b.b._("Select a branch"),options:n,getOptionValue:f.a.prop("id"),formatOptionLabel:function(e){return l.a.createElement(d,{branch:e})},filterOption:function(e,n){return e.data.name.toLocaleLowerCase().includes(n.toLocaleLowerCase())},closeMenuOnSelect:!u.isMulti,components:{ClearIndicator:v},styles:{clearIndicator:function(e){return Object(r.a)({},e,{cursor:"pointer"})}},onChange:function(e){u.isMulti&&o&&Array.isArray(e)&&o(e),!u.isMulti&&c&&(Array.isArray(e)?c(f.a.head(e)||null):c(e||null))}},u))}},7719:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var r=t(38),a=t(0),c=t.n(a),i=t(7673),l=t(7720),o=t(118),u=t(18),s=function(e){var n=e.children,t=Object(r.a)(e,["children"]);return c.a.createElement(i.FormApi,null,function(e){return c.a.createElement(o.a,Object.assign({color:u.a.green,disabled:!Object(l.a)(e)||e.submitting,onClick:function(n){n.preventDefault(),e.submitForm(n)}},t),n)})}},7720:function(e,n,t){"use strict";t.d(n,"a",function(){return c}),t.d(n,"b",function(){return i});var r=t(7714),a=t(33);function c(e){return!e.errors||0===Object.keys(e.errors).length}function i(e){return function(n){return Object(r.isEmpty)(n+"")?a.b._("{fieldName} must be entered",{fieldName:e}):null}}},7721:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var r=t(7810),a=t(7715),c=t(0),i=t.n(c),l=function(e){var n=e.children;return i.a.createElement(a.e,{utils:r.a},n)}},7732:function(e,n,t){"use strict";t.d(n,"a",function(){return E});var r=t(4),a=t(99),c=t(71),i=t(55),l=t(168),o=t(0),u=t.n(o),s=t(22),d=t(7741),m=t(18);function f(){var e=Object(r.a)(["\n  background: ",";\n  border: 2px solid ",";\n  width: 0.6rem;\n  height: 0.6rem;\n  border-radius: 0.7rem;\n  position: absolute;\n"]);return f=function(){return e},e}function b(){var e=Object(r.a)(["\n  padding: 0.2rem 0.3rem 0.1rem 0.3rem;\n"]);return b=function(){return e},e}var v=Object(l.a)(b()),h=s.b.div(f(),m.a.white,m.a.greyMiddle),E=function(e){var n=e.deliverAt,t=e.deliveredAt,r=e.isCancelled,l=void 0!==r&&r,o=e.isDelayed,s=void 0!==o&&o,m=e.onClick,f=!(t||l),b=Object(c.useTimer)({interval:c.MINUTE,enabled:f}),E=d.a.UNKNOWN;if(l)return u.a.createElement(d.b,{variant:E,className:v},u.a.createElement(a.d,null));if(!n)return u.a.createElement(d.b,{variant:E},"\u2754");var p=Object(i.differenceInMinutes)(n,t||b);return E=p>20?d.a.NORMAL:p>0?d.a.WARNING:d.a.CRITICAL,u.a.createElement(u.a.Fragment,null,s&&u.a.createElement(h,null),u.a.createElement(d.b,{minutes:p,variant:E,onClick:m}))}},7733:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var r=t(38),a=t(0),c=t.n(a),i=t(64),l=t(7677),o=t(7687),u=function(e){var n=e.route,t=e.component,u=e.canQuery,s=e.canMutate,d=Object(r.a)(e,["route","component","canQuery","canMutate"]),m=n?c.a.createElement(i.b,{to:n},Object(a.createElement)(t)):Object(a.createElement)(t);return u&&(m=c.a.createElement(o.a,{queryName:u},m)),s&&(m=c.a.createElement(l.a,{mutationName:s},m)),c.a.createElement("div",d,m)}},7734:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var r=t(4);function a(){var e=Object(r.a)(["\n  color: inherit;\n  text-decoration-color: rgba(0, 0, 0, 0.08);\n  &:hover {\n    text-decoration-color: rgba(0, 0, 0, 0.5);\n  }\n  &:visited {\n    text-decoration-color: rgba(0, 0, 0, 0.08);\n  }\n"]);return a=function(){return e},e}var c=t(22).b.a(a())},7741:function(e,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return x});var r,a,c=t(166),i=t(4),l=t(168),o=t(0),u=t.n(o),s=t(22),d=t(18);function m(){var e=Object(i.a)(["\n  cursor: pointer;\n"]);return m=function(){return e},e}function f(){var e=Object(i.a)(["\n  font-size: 1.7rem;\n  font-weight: bold;\n"]);return f=function(){return e},e}function b(){var e=Object(i.a)(["\n  font-size: 0.8rem;\n"]);return b=function(){return e},e}function v(){var e=Object(i.a)(["\n    background: ",";\n  "]);return v=function(){return e},e}function h(){var e=Object(i.a)(["\n    background: ",";\n    color: ",";\n    font-weight: bold;\n  "]);return h=function(){return e},e}function E(){var e=Object(i.a)(["\n    background: ",";\n  "]);return E=function(){return e},e}function p(){var e=Object(i.a)([""]);return p=function(){return e},e}function g(){var e=Object(i.a)(["\n  height: 2rem;\n  line-height: 2rem;\n  width: 2rem;\n  border-radius: 50%;\n  overflow: hidden;\n  border: 1px solid white;\n  color: ",";\n  background: ",";\n  text-align: center;\n  font-family: 'Open Sans', sans-serif;\n"]);return g=function(){return e},e}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING",e[e.NORMAL=3]="NORMAL"}(a||(a={}));var O=s.b.div(g(),d.a.white,d.a.greyMiddle),j=(r={},Object(c.a)(r,a.UNKNOWN,Object(s.b)(O)(p())),Object(c.a)(r,a.CRITICAL,Object(s.b)(O)(E(),d.a.red)),Object(c.a)(r,a.WARNING,Object(s.b)(O)(h(),d.a.orange,d.a.black)),Object(c.a)(r,a.NORMAL,Object(s.b)(O)(v(),d.a.green)),r),y=Object(l.a)(b()),C=Object(l.a)(f()),w=Object(l.a)(m()),x=function(e){var n=e.minutes,t=e.className,r=e.children,a=e.variant,c=e.onClick,i=j[a],o=r,s=[];return void 0!==n&&((n>99||n<-9)&&s.push(y),n<-99?(o="\u2012",s.push(C)):o=n.toString()),c&&s.push(w),u.a.createElement(i,{onClick:c,className:l.b.apply(void 0,[t].concat(s))},o)}},7742:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var r=t(0),a=t.n(r),c=function(e){var n=e.customer;return n?a.a.createElement("span",null,"".concat(n.lastName?"".concat(n.firstName," ").concat(n.lastName):n.defaultPhone?n.defaultPhone.phone:"")):a.a.createElement("i",null,"unknown")}},7749:function(e,n,t){"use strict";t.d(n,"a",function(){return m});var r=t(17),a=t.n(r),c=t(24),i=t(34),l=t(9),o=t(71),u=t(66),s=t(14),d=t(63);function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object(l.useApolloClient)(),r=Object(l.useApolloDefender)().onError,m=Object(d.useObservable)({data:null,loading:!1,error:void 0,wasExecuted:!1,get hasAnyError(){return Boolean(m.error)}});Object(o.useReaction)(function(){return m.error},function(e){e&&r(e)});var f=function(t,r){return new l.ApolloOperationError(t,e,Object(i.a)({},n,{variables:r}))},b=function(){var r=Object(c.a)(a.a.mark(function r(c){var l;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return m.loading=!0,r.prev=1,r.next=4,t.query(Object(i.a)({},n,{query:e,variables:c}));case 4:l=r.sent,Object(s.runInAction)(function(){m.wasExecuted=!0,m.data=l.data,m.loading=!1,l.errors&&l.errors.length>0&&(m.error=f(new u.ApolloError({graphQLErrors:l.errors}),c))}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),Object(s.runInAction)(function(){m.error=f(r.t0,c),m.loading=!1});case 11:return r.abrupt("return",m);case 12:case"end":return r.stop()}},r,this,[[1,8]])}));return function(e){return r.apply(this,arguments)}}();return{result:m,execute:b,reset:function(){Object(s.runInAction)(function(){m.wasExecuted=!1,m.data=null,m.error=void 0,m.loading=!1})}}}},7789:function(e,n,t){"use strict";t.d(n,"b",function(){return B}),t.d(n,"a",function(){return R});var r=t(4),a=t(76),c=t(128),i=t.n(c),l=t(0),o=t.n(l),u=t(313),s=t(22),d=t(7693),m=t(29),f=t(214),b=t(18),v=t(7742),h=t(7732);function E(){var e=Object(r.a)(["\n  font-style: italic;\n  color: ",";\n"]);return E=function(){return e},e}function p(){var e=Object(r.a)(["\n  padding: 0.3rem 0.6rem;\n  display: inline-block;\n  border-top-left-radius: ",";\n  background-color: ",";\n  color: ",";\n"]);return p=function(){return e},e}function g(){var e=Object(r.a)(["\n  color: ",";\n"]);return g=function(){return e},e}function O(){var e=Object(r.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0.1rem;\n    right: -0.3rem;\n    left: 0.9rem;\n    bottom: 0.3rem;\n    border-top: 2px solid ",";\n    transform: rotate(13deg);\n    transform-origin: 0% 0%;\n    opacity: 0.7;\n  }\n"]);return O=function(){return e},e}function j(){var e=Object(r.a)(["\n  flex: 0 0 3.5rem;\n  text-align: right;\n  position: relative;\n"]);return j=function(){return e},e}function y(){var e=Object(r.a)(["\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n"]);return y=function(){return e},e}function C(){var e=Object(r.a)(["\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n"]);return C=function(){return e},e}function w(){var e=Object(r.a)(["\n  flex: 0 0 2rem;\n"]);return w=function(){return e},e}function x(){var e=Object(r.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  padding: 0.4rem;\n"]);return x=function(){return e},e}function k(){var e=Object(r.a)(["\n  text-align: left;\n  cursor: pointer;\n  &:hover {\n    background-color: ",";\n  }\n  &:active {\n    background-color: ",";\n  }\n"]);return k=function(){return e},e}var T=Object(s.b)(u.Element)(k(),i()(b.a.turquoise).alpha(.05).string(),i()(b.a.turquoise).alpha(.2).string()),S=s.b.div(x()),I=s.b.div(w()),D=s.b.div(C()),M=s.b.div(y()),F=s.b.div(j()),N=s.b.div(O(),b.a.orange),A=s.b.div(g(),b.a.orange),B=s.b.div(p(),b.c.Card,b.a.green,b.a.white),L=s.b.div(E(),b.a.violet),R=function(e){var n=e.order,t=e.showBranch,r=e.onClick;return o.a.createElement(T,{onClick:r,name:"order-".concat(n.id)},t&&o.a.createElement(B,null,n.companyBranch.name),o.a.createElement(S,null,o.a.createElement(I,null,o.a.createElement(h.a,{deliverAt:n.deliverAt?new Date(n.deliverAt):null,deliveredAt:n.deliveredAt?new Date(n.deliveredAt):null,isCancelled:n.orderStateCategory===m.s.Cancel,isDelayed:null!==n.delayedDeliveryTime})),o.a.createElement(D,null,n.deliveryType&&n.deliveryType.enum===m.a.Pickup?o.a.createElement(L,null,o.a.createElement(a.Trans,{id:"To pickup"})):Object(f.a)(n.address)),o.a.createElement(M,null,o.a.createElement(v.a,{customer:n.customer})),o.a.createElement(F,null,o.a.createElement(d.a,{price:n.totalSum.value,currencyCode:n.totalSum.currency.code}),n.isPaidWithCard&&o.a.createElement(o.a.Fragment,null,o.a.createElement(N,null),o.a.createElement(A,null,o.a.createElement(a.Trans,{id:"Paid"}))))))}},7790:function(e,n,t){"use strict";t.d(n,"a",function(){return v});var r=t(4),a=t(0),c=t.n(a),i=t(22),l=t(7691),o=t(7675),u=t(33),s=t(18);function d(){var e=Object(r.a)(["\n  color: ",";\n  margin-left: 0.5rem;\n"]);return d=function(){return e},e}function m(){var e=Object(r.a)(["\n  color: ",";\n"]);return m=function(){return e},e}var f=i.b.span(m(),s.a.orange),b=i.b.span(d(),s.a.greyDark),v=function(e){var n=e.note,t=e.previousNote;return n||t?c.a.createElement(c.a.Fragment,null,c.a.createElement(l.a,null),c.a.createElement(o.a,{icon:"note",labelMargin:"0"},c.a.createElement(f,null,n||u.b._("Without note").toLocaleLowerCase()),c.a.createElement(b,null,t))):null}},7795:function(e,n,t){"use strict";t.d(n,"a",function(){return E}),t.d(n,"b",function(){return p});var r=t(77),a=t(4),c=t(0),i=t.n(c),l=t(22),o=t(29),u=t(118),s=t(18);function d(){var e=Object(a.a)(["\n  margin: 1rem 1rem 0 0;\n"]);return d=function(){return e},e}function m(){var e=Object(a.a)(["\n  display: flex;\n  justify-content: center;\n"]);return m=function(){return e},e}var f=[20,30,45,60,75,90,105,120],b=[10,20,30,45,60,75,90],v=l.b.div(m()),h=l.b.div(d()),E=function(e){var n=e.deliveryType,t=e.onMinuteClick,a=e.initialMinutes,c=i.a.useState(a),l=Object(r.a)(c,2),o=l[0],d=l[1],m=p(n);return i.a.createElement(v,null,m.map(function(e){return i.a.createElement(h,{key:e},i.a.createElement(u.a,{onClick:function(){d(e),t(e)},color:o===e?s.a.yellow:s.a.green},e))}))};function p(e){return e===o.a.Pickup?b:f}},7797:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var r=t(77),a=t(76),c=t(100),i=t(0),l=t.n(i),o=t(7795),u=t(118),s=function(e){var n=e.title,t=e.deliveryType,s=e.onConfirm,d=e.onCancel,m=e.children,f=e.cancelText,b=e.refApi,v=Object(i.useState)(!1),h=Object(r.a)(v,2),E=h[0],p=h[1],g=function(){return p(!0)},O=function(){return p(!1)};return b&&(b.current={openDialog:g,closeDialog:O}),l.a.createElement(l.a.Fragment,null,m&&m({openDialog:g,closeDialog:O}),l.a.createElement(c.c,{open:E,onClose:O},l.a.createElement(c.f,null,n),l.a.createElement(c.e,null,l.a.createElement(o.a,{deliveryType:t,onMinuteClick:function(e){O(),s(e)}})),l.a.createElement(c.d,null,l.a.createElement(u.a,{onClick:function(){O(),d&&d()}},f||l.a.createElement(a.Trans,{id:"Cancel"})))))}},7800:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var r=t(34),a=t(38),c=t(0),i=t.n(c),l=t(57),o=t(64),u=t(177),s=function(e){var n=e.to,t=e.from,r=Object(a.a)(e,["to","from"]);return i.a.createElement(l.Route,{children:function(e){var a=e.location;return i.a.createElement(o.b,Object.assign({to:d(n,t||"".concat(a.pathname,"/"))},r))}})};function d(e,n){if("string"===typeof e)return Object(u.a)(e,n);var t=Object(u.a)(e.pathname||"",n);return Object(r.a)({},e,{pathname:t})}},7809:function(e,n,t){"use strict";t.d(n,"a",function(){return d});var r=t(34),a=t(38),c=t(7715),i=t(0),l=t.n(i),o=t(7673),u=t(33),s=t(7721),d=function(e){var n=e.field,t=e.inline,i=void 0===t||t,d=Object(a.a)(e,["field","inline"]),m=i?c.c:c.a;return l.a.createElement(s.a,null,l.a.createElement(o.Field,{field:n,render:function(e){return l.a.createElement(m,Object(r.a)({value:e.value,onChange:function(n){return e.setValue(n)},onOpen:function(){return e.setTouched(!0)},format:"lll",ampm:!1,showTabs:!1,maxDateMessage:u.b._("Date is too much in the future"),minDateMessage:u.b._("Date is too much in the past")},d))}}))}},7814:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var r=t(4);function a(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]);return a=function(){return e},e}var c=t(22).b.div(a())},7960:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var r=t(38),a=t(7715),c=t(0),i=t.n(c),l=t(7673),o=t(33),u=t(7721),s=function(e){var n=e.field,t=Object(r.a)(e,["field"]);return i.a.createElement(u.a,null,i.a.createElement(l.Field,{field:n,render:function(e){return i.a.createElement(a.b,Object.assign({value:e.value,onChange:function(n){return e.setValue(n)},onOpen:function(){return e.setTouched(!0)},format:"ll",ampm:!1,okLabel:o.b._("Ok"),cancelLabel:o.b._("Cancel"),clearLabel:o.b._("Clear"),todayLabel:o.b._("Today"),maxDateMessage:o.b._("Date is too much in the future"),minDateMessage:o.b._("Date is too much in the past")},t))}}))}},7961:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var r=t(4),a=t(22),c=t(18);function i(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-bottom: 1px solid ",";\n  padding: 0.1rem 0 0.1rem 0;\n"]);return i=function(){return e},e}var l=a.b.div(i(),c.a.greyMiddle)},7963:function(e,n,t){"use strict";var r=t(4),a=t(0),c=t.n(a),i=t(22),l=t(63),o=function(e){var n=e.test,t=e.renderSuccess,r=e.renderFailure;return Object(l.useObserver)(function(){return n()?t():r?r():null})},u=t(18),s=t(7789),d=t(7691),m=t(34),f=t(7675),b=t(7734),v=function(e){var n=e.phones,t=e.emails,r=function(e){return c.a.createElement(f.a,{icon:e.icon,key:e.value,labelMargin:"0"},c.a.createElement("div",{title:e.description||""},function(e){return e.isMail?c.a.createElement(b.a,{href:"mailto:".concat(e.value)},e.value):c.a.createElement(b.a,{href:"tel:".concat(e.value.replace("/ /g",""))},e.value)}(e)))};return c.a.createElement(c.a.Fragment,null,(n.length>0||t.length>0)&&c.a.createElement(d.a,null),n.map(function(e){return r(Object(m.a)({icon:"phone",isMail:!1,value:e.phone},e))}),t.map(function(e){return r(Object(m.a)({icon:"mail_outline",isMail:!0,value:e.email},e))}))},h=t(7790),E=t(76),p=function(e){var n=e.current,t=e.total;return c.a.createElement(E.Trans,{id:"It's customer's {current, selectordinal, one {#st} two {#nd} few {#rd} other {#th}} order {total, plural, one {} other {from total of # orders}}",values:{current:n,total:t}})},g=t(33),O=t(7693);function j(){var e=Object(r.a)(["\n  flex: 0 0 4.5rem;\n  text-align: right;\n  color: ",";\n"]);return j=function(){return e},e}function y(){var e=Object(r.a)(["\n  flex: 1 0;\n  color: ",";\n"]);return y=function(){return e},e}function C(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding-left: 3rem;\n"]);return C=function(){return e},e}var w=i.b.div(C()),x=i.b.div(y(),u.a.greyMiddle),k=i.b.div(j(),u.a.greyMiddle),T=function(e){var n=e.label,t=e.price,r=e.highlight,a=void 0!==r&&r;return c.a.createElement(w,null,c.a.createElement(x,null,n),c.a.createElement(k,null,a?c.a.createElement("b",null,c.a.createElement(O.a,{price:t})):c.a.createElement(O.a,{price:t})))};function S(){var e=Object(r.a)(["\n  margin: 0 0 0 auto;\n  width: 20rem;\n  text-align: right;\n"]);return S=function(){return e},e}var I=i.b.div(S()),D=function(e){var n=e.order;return c.a.createElement(I,null,c.a.createElement(T,{label:g.b._("Tips"),price:n.tip.value}),c.a.createElement(T,{label:g.b._("Transport fee"),price:n.transportFee.value}),c.a.createElement(T,{label:g.b._("Covers price"),price:n.coverPrice.value}),c.a.createElement(T,{label:g.b._("Discount total"),price:-1*n.totalDiscount.value}),c.a.createElement(T,{label:g.b._("Total price"),price:n.totalSum.value,highlight:!0}))},M=t(29);function F(){var e=Object(r.a)(["\n  display: inline-block;\n  background: ",";\n  border-radius: 0.7rem;\n  margin: 0 0 0 1rem;\n  padding: 0.1rem 0.8rem;\n"]);return F=function(){return e},e}var N=i.b.div(F(),function(e){switch(e.orderOrigin.enum){case M.q.DameJidlo:return u.a.orange;default:return u.a.greyLight}}),A=function(e){var n=e.displayedId,t=e.orderOrigin;return c.a.createElement(f.a,{icon:"format_list_numbered",labelMargin:"0"},n,c.a.createElement(N,{orderOrigin:t,displayedId:n},t.code))},B=function(e){var n=e.rules,t=e.children;return n.length>0||t?c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,null),c.a.createElement(f.a,{icon:"announcement",labelMargin:"0"},t,c.a.createElement("br",null),n.join(", "))):null},L=t(99),R=t(214);function _(){var e=Object(r.a)(["\n  margin-left: 1rem;\n  display: inline-block;\n  color: ",";\n"]);return _=function(){return e},e}var W=i.b.div(_(),u.a.greyMiddle);function P(){var e=Object(r.a)(["\n  color: ",";\n"]);return P=function(){return e},e}function q(){var e=Object(r.a)(["\n  font-weight: bold;\n  color: ",";\n"]);return q=function(){return e},e}var G,U=i.b.span(q(),u.a.orange),z=Object(i.b)(W)(P(),u.a.orange),V=function(e){var n=e.order,t=[];if(n.delayedDeliveryTime?t.push(c.a.createElement("div",{key:"delayedDeliveryTime"},c.a.createElement(U,null,Object(R.f)(n.delayedDeliveryTime)),c.a.createElement(z,null,c.a.createElement(E.Trans,{id:"Deliver at time"})))):n.deliverAt&&t.push(c.a.createElement("div",{key:"deliverAt"},Object(R.f)(n.deliverAt),c.a.createElement(W,null,c.a.createElement(E.Trans,{id:"Deliver on time"})))),n.driver){var r=n.driver.user,a=r.firstName,i=r.lastName;t.push(c.a.createElement("div",{key:"driver"},"".concat(a," ").concat(i),c.a.createElement(W,null,c.a.createElement(E.Trans,{id:"Driver"}))))}return 0===t.length?null:c.a.createElement(f.a,{icon:L.m,labelMargin:"0"},t)},Q=t(166),H=t(215),J=t(25),K=(G={},Object(Q.a)(G,M.s.NewOrders,Object(H.i18nMark)("Created")),Object(Q.a)(G,M.s.Preparing,Object(H.i18nMark)("Preparing")),Object(Q.a)(G,M.s.ReadyToDeliver,Object(H.i18nMark)("Ready to deliver")),Object(Q.a)(G,M.s.OnWay,Object(H.i18nMark)("On way")),Object(Q.a)(G,M.s.Finished,Object(H.i18nMark)("Finished")),G),$=function(e){var n=e.orderTiming;return c.a.createElement(f.a,{icon:"access_time",labelMargin:"0"},J.a.reject(function(e){var n=e.createdAt,t=e.orderStateCategory;return null===n||!K[t]},n).map(function(e){return c.a.createElement("div",{key:e.orderStateCategory},Object(R.f)(e.createdAt),c.a.createElement(W,null,g.b._(K[e.orderStateCategory])))}))};function Y(){var e=Object(r.a)(["\n  flex: 0 0 4.5rem;\n  text-align: right;\n  color: ",";\n"]);return Y=function(){return e},e}function X(){var e=Object(r.a)(["\n  flex: 1 0;\n  color: ",";\n"]);return X=function(){return e},e}function Z(){var e=Object(r.a)(["\n  flex: 0 0 5rem;\n"]);return Z=function(){return e},e}function ee(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding-left: 3rem;\n"]);return ee=function(){return e},e}var ne=i.b.div(ee()),te=i.b.div(Z()),re=i.b.div(X(),u.a.black),ae=i.b.div(Y(),u.a.greyMiddle),ce=function(e){var n=e.code,t=e.label,r=e.price;return c.a.createElement(ne,null,c.a.createElement(te,null,n),c.a.createElement(re,null,t),c.a.createElement(ae,null,c.a.createElement(O.a,{price:r})))},ie=function(e){var n=e.orderWares;return c.a.createElement("div",null,n.map(function(e){return c.a.createElement(a.Fragment,{key:e.id},c.a.createElement(ce,{code:e.recipe.code,label:e.recipe.nameLabel,price:e.price.value}),c.a.createElement(c.a.Fragment,null,e.sidedishes.map(function(e){return c.a.createElement(ce,{key:e.id,code:"+".concat(e.recipe.code),label:e.recipe.nameLabel,price:e.price.value})})))}))},le=t(5),oe=t.n(le),ue=t(167);function se(){var e=Object(r.a)(["\n  query GOrderDetail($id: ID!) {\n    order(id: $id) {\n      id\n      createdAt\n      deliverAt\n      delayedDeliveryTime\n      companyBranch {\n        id\n      }\n      customer {\n        emails {\n          ...FEmail\n        }\n        phones {\n          ...FPhone\n        }\n      }\n      customerOrdersCountCurrent\n      customerOrdersCountTotal\n      note\n      previousNote\n      allAppliedRules\n      items {\n        ...GOrderDetailWare\n        sidedishes: sideDishes {\n          ...GOrderDetailWare\n        }\n      }\n      totalSum {\n        ...FPrice\n      }\n      transportFee {\n        ...FPrice\n      }\n      coverPrice {\n        ...FPrice\n      }\n      totalDiscount {\n        ...FPrice\n      }\n      orderOrigin {\n        code\n        enum\n      }\n      tip {\n        ...FPrice\n      }\n      ...FOrderTiming\n      ...FOrderDriver\n    }\n  }\n\n  fragment GOrderDetailWare on OrderRecipe {\n    id\n    recipe {\n      id\n      code\n      nameLabel\n    }\n    price {\n      ...FPrice\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return se=function(){return e},e}var de=Object(ue.a)(oe()(se(),M.n,M.d,M.m,M.j,M.l)),me=t(7712),fe=t(77),be=t(303),ve=t(118);function he(){var e=Object(r.a)(["\n  position: absolute;\n  bottom: 4rem;\n  left: 0;\n  background: ",";\n  padding: ",";\n  border: solid 1px ",";\n  border-radius: ",";\n  box-shadow: 2px 6px 21px -2px rgba(0, 0, 0, 0.75);\n  & div:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return he=function(){return e},e}function Ee(){var e=Object(r.a)(["\n  position: relative;\n"]);return Ee=function(){return e},e}var pe,ge=i.b.div(Ee()),Oe=i.b.div(he(),u.a.white,u.d.Small,u.a.greyLight,u.c.Card,u.d.Middle),je=function(e){var n=e.children,t=c.a.useState(!1),r=Object(fe.a)(t,2),a=r[0],i=r[1];return c.a.Children.count(n)?c.a.createElement(ge,null,c.a.createElement(be.a,null,c.a.createElement(ve.a,{iconName:"menu",disabled:null===n,onClick:function(){return i(!a)}})),a&&c.a.createElement(Oe,null,n)):null},ye=t(119),Ce=t(71),we=function(e){var n=e.confirmNode,t=e.initialColor,r=void 0===t?u.a.greyMiddle:t,a=e.confirmColor,i=void 0===a?u.a.red:a,l=e.confirmDisableMs,o=void 0===l?300:l,s=e.resetToInitialMs,d=void 0===s?3*Ce.SECOND:s,m=e.children,f=e.onConfirm,b=c.a.useState(!1),v=Object(fe.a)(b,2),h=v[0],E=v[1],p=c.a.useRef(null);return c.a.useEffect(function(){if(h){var e=setTimeout(function(){E(!1)},d);return function(){clearTimeout(e)}}},[d,h]),c.a.createElement(ve.a,{ref:p,onClick:function(){!1===h?(p.current.disabled=!0,E(!0),setTimeout(function(){p.current&&(p.current.disabled=!1)},o)):f()},color:h?i:r},h?n:m)},xe=function(e){var n=e.orderId,t=Object(M.E)(),r=Object(fe.a)(t,1)[0];return c.a.createElement(ye.a,{width:7.375},c.a.createElement(we,{confirmNode:c.a.createElement(E.Trans,{id:"Really cancel?"}),onConfirm:function(){r({orderId:n})}},c.a.createElement(E.Trans,{id:"Cancel order"})))},ke=t(7677),Te=function(e){var n=e.orderId,t=e.isDelivery,r=Object(M.P)(),a=Object(fe.a)(r,1)[0];return t?c.a.createElement(ke.a,{mutationName:"updateOrderDeliveryToPickup"},c.a.createElement(we,{confirmNode:c.a.createElement(E.Trans,{id:"Really change?"}),onConfirm:function(){a({orderId:n})}},c.a.createElement(E.Trans,{id:"Change to pickup"}))):null},Se=(pe={},Object(Q.a)(pe,M.t.Accepted,Object(H.i18nMark)("Accept order")),Object(Q.a)(pe,M.t.Finished,Object(H.i18nMark)("Finish order")),pe),Ie=function(e){var n=e.orderId,t=e.nextState,r=Object(M.Q)(),a=Object(fe.a)(r,1)[0];return c.a.createElement(ke.a,{mutationName:"addOrderState"},c.a.createElement(ve.a,{text:g.b._(Se[t]),width:"7.375rem",onClick:function(){a({orderId:n,state:t})}}))},De=t(62);function Me(e,n){var t=Object(De.c)().user;return e.every(t.canQuery)&&n.every(t.canMutate)}var Fe=t(7738),Ne=t(103),Ae=t(7680);function Be(){var e=Object(r.a)(["\n  margin: 0.1rem 0 0rem 0.2rem;\n  display: inline-block;\n  vertical-align: top;\n  font-size: 1.25rem;\n"]);return Be=function(){return e},e}var Le=i.b.div(Be()),Re={background:u.a.greyMiddle},_e={color:u.a.white},We={control:function(e){return Object(m.a)({},e,Re,_e,{height:u.d.ButtonHeight+u.d.DefaultSizeUnit,borderWidth:0,borderRadius:u.c.Button,margin:0})},menu:function(e){return Object(m.a)({},e,Re)},valueContainer:function(e){return Object(m.a)({},e,_e)},singleValue:function(e){return Object(m.a)({},e,_e)},placeholder:function(e){return Object(m.a)({},e,_e,{fontSize:"1.2rem"})}},Pe=function(e){var n=e.drivers,t=e.selectedDriver,r=e.isLoading,a=e.onSelect,i=e.onClear,l=e.onReload;return c.a.createElement(Ae.a,{options:n,value:t,getOptionValue:J.a.prop("id"),isLoading:r,isSearchable:!1,isClearable:!0,placeholder:"Deliver order",width:16,styles:We,noOptionsMessage:function(){return g.b._("No drivers available")},onChange:function(e){null===e?i():a(e)},onMenuOpen:l,components:{ValueContainer:function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ne.a,{iconName:"directions_car",fontSize:2,color:u.a.white}),c.a.createElement(Fe.a.ValueContainer,e))},DropdownIndicator:function(){return null}},formatOptionLabel:function(e){return c.a.createElement(Le,null,"".concat(e.firstName," ").concat(e.lastName))}})},qe=function(e){var n=e.branchId,t=e.orderId,r=e.orderStateCategory,a=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return Me(n,[])}("drivers"),i=Object(M.Q)(),l=Object(fe.a)(i,1)[0],o=Object(M.U)(),u=Object(fe.a)(o,1)[0],s=Object(M.S)(),d=Object(fe.a)(s,1)[0],m=Object(M.kb)({branchId:[n],orderId:t},{skip:!a}),f=m.data,b=m.loading,v=m.refetch;return c.a.createElement(ke.a,{mutationName:"createUserDeliveringOrder"},c.a.createElement(Pe,{drivers:b||!a?[]:f.drivers,selectedDriver:b?null:f.order.driver&&f.order.driver.user,isLoading:b,onReload:v,onClear:function(){var e=f.order.driver;e&&d({orderDriverId:e.id})},onSelect:function(e){u({orderId:t,driverId:e.id}),r!==M.s.OnWay&&l({orderId:t,state:M.t.OnWay})}}))};function Ge(){var e=Object(r.a)(["\n  margin: 0 0 0 0.5rem;\n  display: inline-block;\n  vertical-align: bottom;\n  text-align: left;\n  height: 100%;\n"]);return Ge=function(){return e},e}function Ue(){var e=Object(r.a)(["\n  margin: 0 0 0 auto;\n  text-align: right;\n  height: ",";\n"]);return Ue=function(){return e},e}var ze=i.b.div(Ue(),u.d.ButtonHeight+u.d.DefaultSizeUnit),Ve=i.b.div(Ge()),Qe=function(e){var n=e.children;return c.a.createElement(ze,null,a.Children.map(n,function(e,n){return c.a.createElement(Ve,{key:n},e)}))},He=t(7797),Je=function(e){var n=e.orderId,t=e.isDelivery,r=Object(M.R)(),a=Object(fe.a)(r,1)[0];return c.a.createElement(ke.a,{mutationName:"orderNotifyCustomer"},c.a.createElement(He.a,{title:t?g.b._("Send expected time of delivery to customer (in minutes)"):g.b._("Send expected time of pickup to customer (in minutes)"),deliveryType:t?M.a.Messenger:M.a.Pickup,onConfirm:function(e){a({orderId:n,minutes:e})}},function(e){var n=e.openDialog;return c.a.createElement(ve.a,{iconName:"schedule",onClick:n})}))},Ke=function(e){var n=e.children;return c.a.createElement(me.a,{position:"BottomLeft"},c.a.createElement(je,null,n))},$e=function(e){return c.a.createElement(Qe,null,c.a.createElement(Ke,null,e.canCancel&&c.a.createElement(xe,e),c.a.createElement(Te,e)),c.a.createElement(Je,e),c.a.createElement(Ie,Object.assign({nextState:M.t.Accepted},e)))},Ye=function(e){return c.a.createElement(Qe,null,c.a.createElement(Ke,null,e.canCancel&&c.a.createElement(xe,e),c.a.createElement(Te,e)),c.a.createElement(Je,e),e.canDeliver?c.a.createElement(qe,e):c.a.createElement(Ie,Object.assign({nextState:M.t.Finished},e)))},Xe=function(e){return c.a.createElement(Qe,null,c.a.createElement(Ke,null,e.canCancel&&c.a.createElement(xe,e)),e.isDelivery?c.a.createElement(qe,e):c.a.createElement(Ie,Object.assign({nextState:M.t.Finished},e)))},Ze=function(e){return c.a.createElement(Qe,null,c.a.createElement(Ke,null,e.canCancel&&c.a.createElement(xe,e)),c.a.createElement(Je,e),c.a.createElement(qe,e),c.a.createElement(Ie,Object.assign({nextState:M.t.Finished},e)))},en=function(e){return c.a.createElement(Qe,null,c.a.createElement(Ke,null,e.canCancel&&c.a.createElement(xe,e)))},nn=function(e){var n=e.orderId,t=e.branchId,r=Object(M.ob)({orderId:n,branchId:t}),a=r.data;if(r.loading)return null;var i=a.order,l=a.companyBranch.allowedCategories,o=null!==i.deliveryType&&i.deliveryType.enum!==M.a.Pickup,u=o&&(l.includes(M.s.OnWay)||l.includes(M.s.ReadyToDeliver)),s=i.isCancelable,d={orderId:n,branchId:t,orderStateCategory:i.orderStateCategory,canCancel:s,canDeliver:u,isDelivery:o};switch(i.orderStateCategory){case M.s.NewOrders:return c.a.createElement($e,d);case M.s.Preparing:return c.a.createElement(Ye,d);case M.s.ReadyToDeliver:return c.a.createElement(Xe,d);case M.s.OnWay:return c.a.createElement(Ze,d);case M.s.Finished:return c.a.createElement(en,d);default:return null}};function tn(){var e=Object(r.a)(["\n  padding: 0 0.5rem 0.5rem 1.1rem;\n"]);return tn=function(){return e},e}var rn=i.b.div(tn()),an=function(e){var n=e.orderId;return c.a.createElement(de,{variables:{id:n},fetchPolicy:"cache-and-network",render:function(e){var t=e.order;return c.a.createElement(c.a.Fragment,null,c.a.createElement(rn,null,c.a.createElement(d.a,null),c.a.createElement(ie,{orderWares:t.items}),c.a.createElement(D,{order:t}),c.a.createElement(B,{rules:t.allAppliedRules},c.a.createElement(p,{current:t.customerOrdersCountCurrent,total:t.customerOrdersCountTotal})),c.a.createElement(v,{phones:t.customer.phones,emails:t.customer.emails}),c.a.createElement(h.a,{note:t.note,previousNote:t.previousNote}),c.a.createElement(d.a,null),c.a.createElement(A,{displayedId:t.id,orderOrigin:t.orderOrigin}),c.a.createElement(d.a,null),c.a.createElement($,{orderTiming:t.orderTiming}),c.a.createElement(V,{order:t})),c.a.createElement(nn,{orderId:n,branchId:t.companyBranch.id}))}})};function cn(){var e=Object(r.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  margin-bottom: 0.5rem;\n  position: relative;\n"]);return cn=function(){return e},e}t.d(n,"a",function(){return on});var ln=i.b.div(cn(),u.a.white,u.a.greyDarkest,u.c.Card),on=function(e){var n=e.order,t=e.showBranch,r=e.toggleOrderDetail,a=e.isOrderDetailOpen;return c.a.createElement(ln,{id:"order-".concat(n.id)},c.a.createElement(s.a,{order:n,showBranch:t,onClick:function(){return r(n.id)}}),c.a.createElement(o,{test:function(){return a(n.id)},renderSuccess:function(){return c.a.createElement(an,{orderId:n.id})}}))}},8156:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(57),i=t(142),l=t(33),o=t(169),u=t(85),s=t(164),d=t(165),m=t(76),f=t(7695),b=t(7689),v=t(7960),h=t(7719),E=function(){return a.a.createElement(b.a,{justify:"flex-start"},a.a.createElement(f.a,{fixedWidth:!0,width:"12rem"},a.a.createElement(v.a,{field:"dateFrom",label:a.a.createElement(m.Trans,{id:"From date"}),autoOk:!0})),a.a.createElement(f.a,{fixedWidth:!0,width:"12rem"},a.a.createElement(v.a,{field:"dateTo",label:a.a.createElement(m.Trans,{id:"To date"}),autoOk:!0})),a.a.createElement(f.a,null,a.a.createElement(h.a,{width:"15rem"},a.a.createElement(m.Trans,{id:"Show history for branch"}))))},p=t(63),g=t(7961),O=t(7683),j=t(309),y=t(7800),C=t(62),w=t(303),x=t(214),k=t(118),T=t(55),S=t(7673),I=t(29),D=t(7749),M=Object(r.createContext)(null),F=function(e){var n=e.children,t=Object(C.c)().statistics,r=Object(D.a)(I.u),c=r.result,i=r.execute;return a.a.createElement(S.Form,{onSubmit:function(e){t.closureBranch&&i({branchId:t.closureBranch,dateFrom:Object(x.b)(e.dateFrom),dateTo:Object(x.b)(e.dateTo)})},defaultValues:{dateFrom:Object(T.subDays)(new Date,1),dateTo:new Date}},a.a.createElement(M.Provider,{value:c},n))},N=Object(p.observer)(function(){var e=Object(r.useContext)(M),n=e.data,t=e.loading,c=e.wasExecuted,i=Object(C.c)().statistics;return c?t?a.a.createElement(O.a,null,a.a.createElement(j.a,null)):i.closureBranch?n&&0===n.history.length?a.a.createElement(O.a,null,a.a.createElement(m.Trans,{id:"No closures found"})):a.a.createElement(a.a.Fragment,null,n&&n.history.map(function(e){return a.a.createElement(g.a,{key:e.id},a.a.createElement(f.a,{fixedWidth:!0},a.a.createElement(y.a,{to:"../".concat(e.id)},a.a.createElement(w.a,null,a.a.createElement(k.a,{iconName:"mode_edit"})))),a.a.createElement(f.a,{widthGrowIndex:1},"[".concat(e.reportSequence,"] ").concat(Object(x.b)(e.reportDatetime))))})):a.a.createElement(O.a,null,a.a.createElement(m.Trans,{id:"Select a branch"})):null}),A=t(77),B=t(4),L=t(22),R=t(7713),_=t(64),W=t(7687),P=t(18),q=function(e){return a.a.createElement(W.a,{queryName:"lastFinancialReport"},a.a.createElement(_.b,{to:"/overview/closure"},a.a.createElement(k.a,{text:l.b._("Current closure"),color:P.a.orange,width:"15rem",height:P.d.ButtonHeight+P.d.DefaultSizeUnit})))};function G(){var e=Object(B.a)(["\n  float: right;\n  margin: 0.5rem;\n"]);return G=function(){return e},e}var U=L.b.div(G()),z=Object(p.observer)(function(e){var n=e.showCurrent,t=Object(C.c)().statistics;return a.a.createElement(a.a.Fragment,null,a.a.createElement(R.a,{selectedBranches:t.closureBranch?[t.closureBranch]:[],onSelectionChange:function(e){var n=Object(A.a)(e,1)[0];return t.setClosureBranch(n)},onSelectionClear:function(){return t.setClosureBranch(null)},isClearable:!1}),n&&a.a.createElement(U,null,a.a.createElement(q,null)))}),V=function(e){return a.a.createElement(F,null,a.a.createElement(d.a,{pageTitle:l.b._("Closure history"),useBackButton:!0,backRoute:"/overview"},a.a.createElement(s.a,null,a.a.createElement(z,{showCurrent:!0}),a.a.createElement(E,null)),a.a.createElement(s.a,null,a.a.createElement(N,null))))};function Q(){var e=Object(B.a)(["\n  color: white;\n  font-family: 'Lucida Console', Monaco, monospace;\n  white-space: pre-wrap;\n  margin: 0.2rem 0.5rem 0.5rem 1rem;\n  line-height: 1.8rem;\n"]);return Q=function(){return e},e}var H=L.b.p(Q()),J=function(e){var n=e.text;return a.a.createElement(H,null,n.replace(new RegExp("\t","g"),"\t"))},K=Object(p.observer)(function(e){var n=e.reportId,t=void 0===n?"":n,r=Object(C.c)().statistics,c=Object(I.ab)({branchId:r.closureBranch,reportId:t,showReport:Boolean(t)}),i=c.data;return c.loading?a.a.createElement(J,{text:l.b._("Computing")}):a.a.createElement(J,{text:t?i.report.plainData:i.lastReport.plainData})}),$=t(17),Y=t.n($),X=t(24),Z=t(71),ee=t(170),ne=function(e){return a.a.createElement(W.a,{queryName:"financialReports"},a.a.createElement(_.b,{to:"/overview/closure/history"},a.a.createElement(k.a,{text:l.b._("Closure history"),color:P.a.greyDark,width:"15rem",height:P.d.ButtonHeight+P.d.DefaultSizeUnit})))},te=t(7677),re=function(e){return a.a.createElement(te.a,{mutationName:"createFinancialReport"},a.a.createElement(k.a,Object.assign({text:l.b._("Create closure"),color:P.a.green,width:"12rem"},e)))};function ae(){var e=Object(B.a)(["\n  float: right;\n"]);return ae=function(){return e},e}var ce=L.b.div(ae()),ie=function(e){var n=e.showCurrent,t=Object(C.c)().statistics,c=Object(ee.a)().enqueueSuccess,i=Object(Z.useRouterContext)().history,o=Object(I.L)(),u=Object(A.a)(o,1)[0],s=Object(r.useCallback)(Object(X.a)(Y.a.mark(function e(){var n,r;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.closureBranch){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u({branchId:t.closureBranch});case 4:(n=e.sent)&&(r=n.result.id,i.push("/overview/closure/".concat(r)),c(l.b._("Closure has been created")));case 6:case"end":return e.stop()}},e,this)})),[]);return Object(p.useObserver)(function(){return a.a.createElement(a.a.Fragment,null,n?a.a.createElement(q,null):a.a.createElement(re,{onClick:s,disabled:!t.closureBranch}),a.a.createElement(ce,null,a.a.createElement(ne,null)))})},le=function(e){var n=e.match;return a.a.createElement(d.a,{pageTitle:l.b._("Closure"),useBackButton:!0,backRoute:"/overview"},a.a.createElement(s.a,null,a.a.createElement(z,{showCurrent:!1}),a.a.createElement(ie,{showCurrent:Boolean(n.params.reportId)})),a.a.createElement(K,{reportId:n.params.reportId}))},oe=t(305),ue=t(9),se=a.a.createContext(void 0),de=function(){return a.a.useContext(se)};function me(){var e=Object(C.c)().statistics,n=a.a.useState(),t=Object(A.a)(n,2),r=t[0],c=t[1],i=function(){c({branches:Object(oe.a)(e.branchesFilter),drivers:Object(oe.a)(e.drivers),dateTimeFrom:Object(ue.isoDate)(e.dateTimeFrom),dateTimeTo:Object(ue.isoDate)(e.dateTimeTo)})},l={dateTimeFrom:e.dateTimeFrom,dateTimeTo:e.dateTimeTo};return{filter:r,executeFilter:i,renderForm:function(n){return a.a.createElement(S.Form,{onSubmit:i,onChange:function(n){var t=n.values;return e.updateFilter(t)},defaultValues:l},a.a.createElement(se.Provider,{value:r},n))}}}var fe=function(e){var n=e.plain,t=e.children;return a.a.createElement(a.a.Fragment,null,a.a.createElement(O.a,{light:!0},t),a.a.createElement(J,{text:n}))},be=function(){var e=de(),n=Object(I.pb)({filter:e},{skip:!e}),t=n.data,r=n.loading;if(!e)return null;if(r)return a.a.createElement(J,{text:l.b._("Computing")});var c=t.stats;return a.a.createElement(a.a.Fragment,null,a.a.createElement(fe,{plain:c.daily},a.a.createElement(m.Trans,{id:"Daily statistics"})),a.a.createElement(fe,{plain:c.category},a.a.createElement(m.Trans,{id:"By category"})),a.a.createElement(fe,{plain:c.delivery},a.a.createElement(m.Trans,{id:"By type"})),a.a.createElement(fe,{plain:c.drivers},a.a.createElement(m.Trans,{id:"By driver"})))},ve=function(){var e=Object(C.c)().statistics;return Object(p.useObserver)(function(){return a.a.createElement(R.a,{selectedBranches:Array.from(e.branches),onSelectionChange:e.setBranchFilter,onSelectionClear:e.clearBranchFilter,isMulti:!0})})},he=t(7809),Ee=function(){var e=Object(C.c)().statistics;return Object(p.useObserver)(function(){return a.a.createElement(b.a,{justify:"flex-start"},a.a.createElement(f.a,{fixedWidth:!0,width:"12rem"},a.a.createElement(he.a,{field:"dateTimeFrom",label:a.a.createElement(m.Trans,{id:"From"}),autoOk:!0})),a.a.createElement(f.a,{fixedWidth:!0,width:"12rem"},a.a.createElement(he.a,{field:"dateTimeTo",label:a.a.createElement(m.Trans,{id:"To"}),autoOk:!0})),a.a.createElement(f.a,null,a.a.createElement(h.a,{width:"15rem"},a.a.createElement(m.Trans,{id:"{0, plural, one {Show for one branch} few {Show for # branches} other {Show for # branches}}",values:{0:e.branchesFilter.length}}))))})},pe=function(e){var n=e.children;return(0,me().renderForm)(n)},ge=function(){return a.a.createElement(d.a,{pageTitle:l.b._("Sales statistics"),useBackButton:!0},a.a.createElement(pe,null,a.a.createElement(s.a,null,a.a.createElement(ve,null),a.a.createElement(Ee,null)),a.a.createElement(be,null)))},Oe=t(7814),je=t(306),ye=t(7688),Ce=t(7792),we=t(7963),xe=function(){var e=Object(C.c)(),n=e.statistics,t=e.order,r=de(),c=a.a.useRef(new Map),i=a.a.useRef(null),l=a.a.useMemo(function(){return new Ce.c({fixedWidth:!0,defaultHeight:55,minHeight:55})},[]),o=Object(I.rb)({filter:r},{skip:!r}),u=o.data,s=o.loading;a.a.useEffect(function(){c.current.clear(),l.clearAll(),i.current&&i.current.resetLoadMoreRowsCache(!0)},[JSON.stringify(r)]);var d=Object(D.a)(I.y).execute,f=a.a.useCallback(function(){var e=Object(X.a)(Y.a.mark(function e(n){var t,a,i,l,o,u;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.startIndex,a=n.stopIndex,!r){e.next=6;break}return e.next=4,d({filter:r,pagination:{fromIndex:t,toIndex:a}});case 4:if((i=e.sent).data)for(l=Object(oe.a)(i.data.stats.orders.list),o=t;o<=a;o++)(u=l.shift())&&c.current.set(o,u);case 6:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}(),[r]),b=a.a.useCallback(function(e){var n=e.index;return void 0!==c.current.get(n)},[]),v=a.a.useCallback(function(e){var r=e.index,i=e.key,o=e.style,u=e.parent,s=c.current.get(r);return void 0===s?a.a.createElement("div",{style:o,key:i},"..."):a.a.createElement(Ce.b,{key:i,columnIndex:0,rowIndex:r,cache:l,parent:u},function(e){var r=e.measure;return a.a.createElement("div",{style:o},a.a.createElement(we.a,{order:s,toggleOrderDetail:function(e){t.list.toggleOrderDetail(e),setTimeout(r,500)},isOrderDetailOpen:t.list.isOrderDetailOpen,showBranch:n.branchesFilter.length>1}))})},[]);if(!r)return null;if(s)return a.a.createElement(j.a,null);var h=u.stats.counts,E=h.finished+h.cancelled;return 0===E?a.a.createElement(m.Trans,{id:"No orders"}):a.a.createElement(Ce.a,null,function(e){var n=e.width,t=e.height;return a.a.createElement(Ce.f,{rowCount:E,isRowLoaded:b,loadMoreRows:f,ref:i},function(e){var r=e.onRowsRendered,c=e.registerChild;return a.a.createElement(Ce.g,{ref:c,onRowsRendered:r,rowHeight:l.rowHeight,deferredMeasurementCache:l,rowCount:E,width:n,height:t,rowRenderer:v})})})},ke=t(7693);function Te(){var e=Object(B.a)(["\n  font-size: 4rem;\n  font-weight: normal;\n  margin: 0;\n"]);return Te=function(){return e},e}function Se(){var e=Object(B.a)(["\n  font-size: 1.5rem;\n  font-weight: normal;\n  margin: 0;\n"]);return Se=function(){return e},e}function Ie(){var e=Object(B.a)(["\n  margin: 1.4rem 4rem 0 0.5rem;\n  display: inline-block;\n"]);return Ie=function(){return e},e}var De=L.b.div(Ie()),Me=L.b.h1(Se()),Fe=L.b.h2(Te()),Ne=Object(p.observer)(function(){var e=de(),n=Object(I.qb)({filter:e},{skip:!e}),t=n.data,r=n.loading;if(!e)return null;if(r)return a.a.createElement(J,{text:l.b._("Computing")});var c=t.stats.finishedOrders;return a.a.createElement(a.a.Fragment,null,a.a.createElement(De,null,a.a.createElement(Me,null,a.a.createElement(m.Trans,{id:"Total turnover"})),a.a.createElement(Fe,null,a.a.createElement(ke.a,{price:c.total.value,currencyCode:c.total.currency.code}))),a.a.createElement(De,null,a.a.createElement(Me,null,a.a.createElement(m.Trans,{id:"Online payments"})),a.a.createElement(Fe,null,a.a.createElement(ke.a,{price:c.onlinePayments.value,currencyCode:c.onlinePayments.currency.code}))),a.a.createElement(De,null,a.a.createElement(Me,null,a.a.createElement(m.Trans,{id:"Orders count"})),a.a.createElement(Fe,null,c.finishedCount+c.cancelledCount)),a.a.createElement(De,null,a.a.createElement(Me,null,a.a.createElement(m.Trans,{id:"Total commissions"})),a.a.createElement(Fe,null,a.a.createElement(ke.a,{price:c.fees.value,currencyCode:c.fees.currency.code}))),a.a.createElement(De,null,a.a.createElement(J,{text:t.stats.orderStatisticsPlain})))}),Ae=t(7680),Be=t(25),Le=Object(p.observer)(function(){var e=Object(C.c)().statistics,n=Object(I.Y)({branches:e.branchesFilter}),t=n.data,r=n.loading;return a.a.useEffect(function(){r||e.setDriversFilter(Be.a.intersection(e.drivers,t.drivers.map(Be.a.prop("id"))))},[r]),a.a.createElement(Ae.a,{isMulti:!0,isClearable:!0,isSearchable:!0,filterOption:function(e,n){return 0===n.length||Object(x.c)(e.data).toLocaleLowerCase().includes(n.toLocaleLowerCase())},placeholder:l.b._("Filter by drivers"),isLoading:r,options:r?[]:Object(oe.a)(t.drivers),value:r?[]:t.drivers.filter(function(n){return e.drivers.includes(n.id)}),formatOptionLabel:x.c,getOptionValue:Be.a.prop("id"),onChange:function(n){n?e.setDriversFilter(n.map(Be.a.prop("id"))):e.setDriversFilter([])}})}),Re=function(e){var n=e.children,t=e.autoFilter,r=me(),c=r.executeFilter,i=r.renderForm;return a.a.useEffect(function(){t&&c()},[t]),i(n)};var _e=function(e){var n=e.match,t=Object(C.c)().statistics;return"today"===n.params.filter&&t.setTodayOrdersFilter(),a.a.createElement(Re,{autoFilter:n.params.filter},a.a.createElement(ye.a,{withScrollArea:!1,row:1,column:7,widthInColumns:9},a.a.createElement(Oe.a,null,a.a.createElement(xe,null))),a.a.createElement(je.a,{layouts:[{i:"summary",x:0,y:1,w:7,h:1}],pageTitle:l.b._("Orders statistics"),showSoundControl:!1,scrollPageTitle:!1,useBackButton:!0},a.a.createElement("div",{key:"summary"},a.a.createElement(s.a,null,a.a.createElement(ve,null),a.a.createElement(Le,null),a.a.createElement(Ee,null)),a.a.createElement(Ne,null))))},We=t(7733),Pe=function(e){return a.a.createElement(k.a,{text:l.b._("Closure"),iconName:"assignment",color:P.a.turquoise})},qe=function(e){return a.a.createElement(k.a,{text:l.b._("Sales statistics"),iconName:"assignment",color:P.a.turquoise})},Ge=function(e){return a.a.createElement(k.a,{text:l.b._("Orders statistics"),iconName:"assignment",color:P.a.turquoise})};var Ue=function(e){return a.a.createElement(je.a,{layouts:[{i:"OrdersStatistics",x:0,y:1,w:2,h:2},{i:"DailyStatistics",x:2,y:1,w:2,h:2},{i:"Closure",x:4,y:1,w:2,h:2}]},a.a.createElement(We.a,{key:"OrdersStatistics",route:"/overview/orders",component:Ge,canQuery:"statistics"}),a.a.createElement(We.a,{key:"DailyStatistics",route:"/overview/statistics",component:qe,canQuery:"statistics"}),a.a.createElement(We.a,{key:"Closure",route:"/overview/closure",component:Pe,canQuery:"lastFinancialReport"}))};t.d(n,"OverviewRoutes",function(){return ze});var ze=function(e){var n=e.match;return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{title:l.b._("Overview")}),a.a.createElement(c.Switch,null,a.a.createElement(u.a,{exact:!0,path:n.path,component:Ue}),a.a.createElement(u.a,{path:"".concat(n.path,"/closure/history"),component:V}),a.a.createElement(u.a,{path:"".concat(n.path,"/closure/:reportId?"),component:le}),a.a.createElement(u.a,{path:"".concat(n.path,"/statistics"),component:ge}),a.a.createElement(u.a,{path:"".concat(n.path,"/orders/:filter?"),component:_e}),a.a.createElement(c.Route,{component:o.a})))};n.default=ze}}]);
//# sourceMappingURL=173.ad033e01.chunk.js.map