(this.webpackJsonpspeedlo=this.webpackJsonpspeedlo||[]).push([[373],{1353:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var a=n(4),r=n(2788),c=n(1356),i=n(0),o=n.n(i),l=n(18),u=n(44),s=n(42),d=n(14),m=n(1382),f=n(239);function b(){var e=Object(a.a)(["\n  grid-column: content;\n  margin-left: 0.5rem;\n"]);return b=function(){return e},e}function h(){var e=Object(a.a)(["\n  grid-column: content;\n  justify-self: start;\n  margin: ",";\n  "]);return h=function(){return e},e}function v(){var e=Object(a.a)(["\n  grid-column: desc;\n  margin: ",";\n\n  div.label {\n    padding-top: 0.2rem;\n    display: inline-block;\n    &.smallCaps {\n      font-variant-caps: all-petite-caps;\n    }\n  }\n\n  ",";\n"]);return v=function(){return e},e}function p(){var e=Object(a.a)(["\n  display: flex;\n\n  div.description {\n    margin: ",";\n    min-width: ",";\n    flex: 0 0 auto;\n    text-align: right;\n  }\n\n  div.contents {\n    margin-left: 0.5rem;\n    align-self: stretch;\n    flex: 1 1 auto;\n  }\n\n  div.label {\n    padding-top: 0.2rem;\n    display: inline-block;\n    &.smallCaps {\n      font-variant-caps: all-petite-caps;\n    }\n  }\n"]);return p=function(){return e},e}var g=l.c.div(p(),function(e){return e.labelMargin},function(e){var t=e.labelWidth,n=e.labelWidthUnits;return"".concat(t).concat(n)}),E=l.c.div(v(),function(e){return e.labelMargin},Object(u.d)(h(),function(e){return e.labelMargin.replace("auto","0.7rem")})),y=l.c.div(b()),O=function(e){var t=e.icon,n=e.label,a=e.labelWidth,i=void 0===a?0:a,l=e.labelWidthUnits,u=void 0===l?d.d.DefaultSizeUnit:l,b=e.labelMargin,h=void 0===b?"0.5rem 0.2rem 0 auto":b,v=e.labelSmallCaps,p=void 0===v||v,O=e.children,j=t;"string"===typeof t&&(Object(s.b)('IconLine: Do not use icon prop as string! Replace "'.concat(t,'" with the one imported from @material-ui/icons.')),j=r.a);var w=Object(m.b)(),k=o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{icon:j,color:d.a.greyDark}),n?o.a.createElement("div",{className:Object(c.b)("label",{smallCaps:p})},n):null);return w?o.a.createElement(o.a.Fragment,null,o.a.createElement(E,{labelMargin:h},k),o.a.createElement(y,null,O)):o.a.createElement(g,{labelWidth:i,labelWidthUnits:u,labelMargin:h},o.a.createElement("div",{className:"description"},k),o.a.createElement("div",{className:"contents"},O))}},1354:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"a",function(){return s});var a=n(1352),r=n(36),c=n(256);function i(e){return!e.errors||0===Object.keys(e.errors).length}function o(e){return r.b._("Field {fieldDescription} cannot be empty",{fieldDescription:e})}function l(e){return r.b._("Field {fieldDescription} must be a positive number",{fieldDescription:e})}var u=function(e){return a.j.number().default(0).transform(function(e,t){return Object(c.b)(t)}).test("number-field",function(e){return r.b._("Field {fieldDescription} must be a number",{fieldDescription:e})}(e),function(e){return!isNaN(e)})},s=[]},1355:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return i});var a=n(40);function r(e,t){var n=Object(a.b)().user;return e.every(n.canQuery)&&t.every(n.canMutate)}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t,[])}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r([],t)}},1357:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n(63),r=n(132),c=n(78),i=n(0),o=n.n(i),l=n(1448),u=n(14),s=n(1386);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t=e.width,n=e.minWidth;return m({},!0===e.invalid?{border:"1px solid ".concat(u.a.red),backgroundColor:u.a.errorBackground}:{border:"1px solid ".concat(u.a.greyMiddle)},{margin:u.d.MarginAroundFormComponents,width:void 0!==t?"".concat(t,"rem"):"100%",minWidth:void 0!==n?"".concat(n,"rem"):"8rem"})}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m({},e,{control:function(t,n){var a=m({},t,{},f(n.selectProps));return e.control?e.control(a,n):a},menu:function(t,n){var a=n.selectProps.width,r=m({},t,{zIndex:20,color:u.a.black,width:void 0!==a?"".concat(a,"rem"):"100%"});return e.menu?e.menu(r,n):r},valueContainer:function(t,n){var a=n.selectProps.maxHeight,r=m({},t,{maxHeight:void 0!==a?"".concat(a,"rem"):"100%",overflowY:void 0!==a?"scroll":"hidden"});return e.valueContainer?e.valueContainer(r,n):r},clearIndicator:function(e){return m({},e,{cursor:"pointer"})}})};function h(e){var t=e.hideOnSingleOption,n=void 0!==t&&t,r=Object(a.a)(e,["hideOnSingleOption"]);return n&&r.options&&r.options.length<=1?null:o.a.createElement(s.a,{toPrint:function(){if(!r.value)return null;var e=r.getOptionLabel||r.formatOptionLabel;if(!e)return null;var t=Array.isArray(r.value)?r.value.map(e):e(r.value);return 0===t.length?null:o.a.createElement("div",null,"".concat(r.placeholder,": ").concat(t))}()},o.a.createElement(l.a,Object.assign({},r,{components:m({ClearIndicator:v},r.components),styles:b(r.styles)})))}function v(e){var t=e.getStyles,n=e.innerProps,r=n.ref,i=Object(a.a)(n,["ref"]);return o.a.createElement("div",Object.assign({},i,{ref:r,style:t("clearIndicator",e)}),o.a.createElement("div",{style:{padding:"0px 5px"}},o.a.createElement(c.Trans,{id:"All"})))}},1358:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return i});var a=n(18),r=n(1356),c=n(14),i=a.c.input.attrs(function(e){var t=e.invalid,n=void 0!==t&&t,a=e.inputFullWidth,c=void 0!==a&&a;return{className:Object(r.b)({invalid:n,fullWidth:c})}}).withConfig({displayName:"FormInputStyled",componentId:"sc-18qocdt-0"})(["margin:",";&.invalid{border:1px "," solid;background-color:",";}&.fullWidth{width:100%;}"],c.d.MarginAroundFormComponents,c.a.red,c.a.errorBackground)},1365:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(0);var a=function(e){e.children;return null}},1366:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(4),r=n(18),c=n(14);function i(){var e=Object(a.a)(["\n  color: ",";\n  font-weight: lighter;\n  margin: ",";\n  font-size: ",";\n  @media print {\n    color: ",";\n  }\n"]);return i=function(){return e},e}var o=r.c.h2(i(),function(e){var t=e.light;return void 0!==t&&t?c.a.greyLight:c.a.greyDarkest},function(e){var t=e.margin;return void 0===t?"0 0.5rem 0 0.5rem":t},function(e){return"smaller"===e.size&&"1rem"},c.a.black)},1372:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(40);function r(){return Object(a.b)().user}},1382:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f});var a=n(4),r=n(18),c=n(0),i=n.n(c),o=n(44);function l(){var e=Object(a.a)(["\n    grid-template-columns: 1fr;\n    grid-template-areas:\n      'content';\n  "]);return l=function(){return e},e}var u=r.c.div.withConfig({displayName:"StyledFormGrid",componentId:"gzj657-0"})(["display:grid;grid-template-columns:0.1fr [desc] auto [content] 1fr;grid-template-areas:'. desc content';grid-auto-flow:row dense;",";"],Object(o.d)(l())),s=0,d=i.a.createContext(s),m=function(e){return i.a.createElement(u,null,i.a.createElement(d.Provider,{value:++s},e.children))};function f(){return i.a.useContext(d)>0}},1384:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(49),r=n(40);function c(e){var t=Object(r.b)().user;Object(a.e)(function(){t.isReady&&t.hasSingleBranch&&e(t.branches[0])})}},1386:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(18),r=n(0),c=n.n(r),i=a.c.div.withConfig({displayName:"StyledPrinter",componentId:"sc-1fceaer-0"})(["& .toPrint{display:none;}@media print{& .toPrint{display:inline-block;}& .noPrint{display:none;}}"]),o=function(e){return c.a.createElement(i,null,c.a.createElement("div",{className:"toPrint"},e.toPrint),c.a.createElement("div",{className:"noPrint"},e.children))}},1387:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n(4),r=n(78),c=n(1356),i=n(0),o=n.n(i),l=n(18),u=n(20),s=n(14);function d(){var e=Object(a.a)(["\n  ","\n\n  color: ",";\n\n  &.interactive {\n    cursor: pointer;\n  }\n\n  &.invalid {\n    border: 1px red solid;\n  }\n\n  > div {\n    padding: 0.2rem 0.3rem;\n    margin: 0.3rem 0.3rem;\n    display: inline-block;\n    border: 1px dotted ",";\n  }\n\n  > div.active {\n    font-weight: bolder;\n    text-decoration: underline;\n  }\n\n  > div.hover {\n    text-decoration: underline;\n  }\n"]);return d=function(){return e},e}var m=l.c.div(d(),function(e){return""},function(e){var t=e.textColor;return t||"inherit"},s.a.greyMiddle),f=function(e){var t=e.items,n=e.formatItem,a=void 0===n?u.a.prop("displayName"):n,i=e.isMulti,l=void 0!==i&&i,s=e.isClearable,d=void 0!==s&&s,f=e.isInvalid,b=void 0!==f&&f,h=e.disabled,v=void 0!==h&&h,p=e.selectedItem,g=e.selectedItems,E=e.onSingleSelection,y=e.onMultiSelection,O=e.textColor,j=1===t.length,w=function(e){return 1!==t.length&&(l&&Array.isArray(g)?u.a.contains(e,g):u.a.equals(p,e))},k=function(e){j||v||(null===e?l&&y?y([]):E&&E(null):l&&y?w(e)?y(Array.isArray(g)?u.a.without([e],g):[e]):y(Array.isArray(g)?u.a.concat(g,[e]):[]):E&&E(e))};return o.a.createElement(m,{className:Object(c.b)({invalid:b,interactive:!j||v}),textColor:O},d&&o.a.createElement("div",{className:Object(c.b)({active:!(l?Array.isArray(g)&&g.length>0:null!==p&&void 0!==p)}),onClick:function(){k(null)}},o.a.createElement(r.Trans,{id:"optionselector.clear-filter"})),t.map(function(e,t){var n=a(e);return o.a.createElement("div",{key:t,className:Object(c.b)({active:w(e)}),onClick:function(){k(e)}},n)}))}},1395:function(e,t,n){var a={"./cs.svg":1396,"./de.svg":1397,"./en.svg":1398,"./pl.svg":1399,"./sk.svg":1400};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=1395},1401:function(e,t,n){var a={"./logo-doveze.svg":1402,"./logo-gopay.svg":1403,"./logo-mastercard.svg":1404,"./logo-visa.svg":1405};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=1401},1409:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(63),r=n(0),c=n.n(r),i=n(1410),o=n(131),l=function(e){var t=e.row,n=e.column,r=e.route,l=e.canQuery,u=e.canMutate,s=e.canAccessWithSingleBranch,d=Object(a.a)(e,["row","column","route","canQuery","canMutate","canAccessWithSingleBranch"]);return c.a.createElement(i.a,{gridColumnSpan:2,gridColumn:2*(n-1)+1,gridRow:t,route:r,canQuery:l,canMutate:u,canAccessWithSingleBranch:s},c.a.createElement(o.a,d))}},1410:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var a=n(63),r=n(0),c=n.n(r),i=n(83),o=n(1365),l=n(439),u=n(158),s=n(1355),d=n(1372),m=n(14),f=[],b=function(e){var t=e.route,n=e.children,r=e.canQuery,b=void 0===r?f:r,v=e.canMutate,p=void 0===v?f:v,g=e.canAccessWithSingleBranch,E=void 0===g||g,y=Object(a.a)(e,["route","children","canQuery","canMutate","canAccessWithSingleBranch"]),O=Object(d.a)(),j=h(b),w=h(p);if(!Object(s.a)(j,w))return c.a.createElement(o.a,null,"No access to ".concat(j.length?"queries ".concat(j.join(",")," "):"").concat(w.length?"mutations ".concat(w.join(",")):""));if(!E&&O.hasSingleBranch)return c.a.createElement(o.a,null,"No access to single branch account");var k=t?c.a.createElement(i.b,{to:t},n):c.a.createElement(c.a.Fragment,null,n);return c.a.createElement(l.a,y,c.a.createElement(u.a,{height:m.d.DashboardButtonHeight},k))};function h(e){return Array.isArray(e)?e:[e]}},1416:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return i});var a=n(438).c,r="".concat(a,"/recipe"),c="".concat(a,"/category"),i="".concat(a,"/stock")},1418:function(e,t,n){"use strict";var a=n(63),r=n(0),c=n.n(r),i=n(4);function o(){var e=Object(i.a)(["\n  cursor: ",";\n"]);return o=function(){return e},e}var l=n(18).c.div(o(),function(e){var t=e.cursor;return void 0===t?"default":t}),u=function(e){var t=e.branch,n=e.onClick,a=e.short,r=void 0!==a&&a,i=e.showBrand,o=void 0===i||i;return c.a.createElement(l,{cursor:"pointer",onClick:n},r?t.name.substr(0,8):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,t.name),o&&c.a.createElement("span",null," [".concat(t.brand.name,"]"))))},s=n(1357),d=n(1354),m=n(36),f=n(14),b=n(20);n.d(t,"a",function(){return h});var h=function(e){var t=e.branches,n=e.selectedBranch,r=e.onSingleSelection,i=e.selectedBranches,o=e.onMultiSelection,l=Object(a.a)(e,["branches","selectedBranch","onSingleSelection","selectedBranches","onMultiSelection"]);return c.a.createElement(s.a,Object.assign({value:l.isMulti?i:n,placeholder:l.isMulti?m.b._("Filter branches..."):m.b._("Select a branch"),maxHeight:f.d.ButtonHeight,options:t,getOptionValue:b.a.prop("id"),formatOptionLabel:function(e){return c.a.createElement(u,{branch:e})},filterOption:function(e,t){return e.data.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())},closeMenuOnSelect:!l.isMulti,onChange:function(e){l.isMulti&&o&&o(Array.isArray(e)?e:d.a),!l.isMulti&&r&&(Array.isArray(e)?r(b.a.head(e)||null):r(e||null))}},l))}},1423:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(48),r=n(0),c=n.n(r);function i(){var e=window.location.search,t=c.a.useMemo(function(){return new URLSearchParams(e)},[e]);return{getQueryParam:function(e){return t.get(e)},createQueryString:function(e){return Object.entries(e).map(function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)}).join("&")}}}},1426:function(e,t,n){"use strict";var a=n(48),r=n(0),c=n.n(r),i=n(39),o=Object(i.a)(c.a.createElement("path",{d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"}),"StoreMallDirectory"),l=n(59),u=n(1353),s=n(40),d=n(1384),m=n(1423),f=n(1449);n.d(t,"a",function(){return b});var b=function(e){var t=e.isMulti,n=void 0!==t&&t,r=e.width,i=Object(s.b)(),b=i.settings,h=i.user;Object(d.a)(function(e){b.selectBranch(e.id)});var v=(0,Object(m.a)().getQueryParam)("branchId");return c.a.useEffect(function(){v&&b.selectBranch(v)},[v,b]),Object(l.g)(function(){return h.hasSingleBranch?null:c.a.createElement(u.a,{icon:o},c.a.createElement(f.a,{selectedBranches:b.branchId?[b.branchId]:void 0,onSelectionChange:function(e){var t=Object(a.a)(e,1)[0];return b.selectBranch(t)},isMulti:n,isClearable:!1,getDropdownProps:function(){return{width:r}},hideWhenSingleBranch:!0}))})}},1436:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(63),r=n(0),c=n.n(r),i=n(442),o=function(e){var t=e.children,n=Object(a.a)(e,["children"]);return c.a.createElement(i.a,Object.assign({isForIconDashboard:!0},n),t)}},1449:function(e,t,n){"use strict";var a=n(59),r=n(0),c=n.n(r),i=n(40),o=n(1418),l=n(63),u=n(1387),s=n(14),d=function(e){var t=e.branches,n=e.selectedBranch,a=e.selectedBranches,r=e.textColor,i=void 0===r?s.a.black:r,o=Object(l.a)(e,["branches","selectedBranch","selectedBranches","textColor"]);return c.a.createElement(u.a,Object.assign({items:t,selectedItem:n,selectedItems:a,textColor:i,formatItem:function(e){return c.a.createElement("span",{title:e.brand.name},e.name)}},o))},m=n(20);n.d(t,"a",function(){return f});var f=Object(a.b)(function(e){var t=e.breakpoint,n=void 0===t?3:t,a=e.branches,r=e.selectedBranches,l=void 0===r?[]:r,u=e.isMulti,s=void 0!==u&&u,f=e.isClearable,b=void 0===f||f,h=e.hideWhenSingleBranch,v=void 0!==h&&h,p=e.textColor,g=e.onSelectionChange,E=e.onSelectionClear,y=e.getDropdownProps,O=void 0===y?function(){return{}}:y,j=Object(i.b)().user,w=function(e){return l.includes(e.id)},k={textColor:p,isClearable:b,isMulti:s,branches:a||j.branches,selectedBranch:j.branches.find(w)||null,selectedBranches:j.branches.filter(w),onSingleSelection:function(e){null===e&&E?E():null!==e&&g&&g([e.id],[e])},onMultiSelection:function(e){0===e.length&&E?E():e.length&&g&&g(e.map(m.a.prop("id")),e)}};return j.hasSingleBranch&&v?null:j.branches.length<n?c.a.createElement(d,k):c.a.createElement(o.a,Object.assign({},k,O()))})},1512:function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}n.d(t,"a",function(){return a})},1518:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(4),r=n(18),c=n(14);function i(){var e=Object(a.a)(["\n  input {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    background-color: ",";\n    border: 1px solid ",";\n    padding: 1rem;\n    border-radius: ",";\n    display: inline-block;\n    overflow: hidden;\n    position: relative;\n    margin: ",";\n    &:checked {\n      background-color: ",";\n      border: 1px solid ",";\n    }\n    &:checked:after {\n      content: '\\2714';\n      font-size: 2rem;\n      position: absolute;\n      top: -0.5rem;\n      left: 0.1rem;\n      color: ",";\n      overflow: hidden;\n    }\n    &:disabled {\n      background-color: ",";\n    }\n    &:disabled:after {\n      color: ",";\n    }\n    &:focus {\n      box-sizing: content-box;\n    }\n  }\n  label {\n    display: inline-block;\n    margin: 0.4rem 0 0 0.5rem;\n    vertical-align: top;\n  }\n"],["\n  input {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    background-color: ",";\n    border: 1px solid ",";\n    padding: 1rem;\n    border-radius: ",";\n    display: inline-block;\n    overflow: hidden;\n    position: relative;\n    margin: ",";\n    &:checked {\n      background-color: ",";\n      border: 1px solid ",";\n    }\n    &:checked:after {\n      content: '\\\\2714';\n      font-size: 2rem;\n      position: absolute;\n      top: -0.5rem;\n      left: 0.1rem;\n      color: ",";\n      overflow: hidden;\n    }\n    &:disabled {\n      background-color: ",";\n    }\n    &:disabled:after {\n      color: ",";\n    }\n    &:focus {\n      box-sizing: content-box;\n    }\n  }\n  label {\n    display: inline-block;\n    margin: 0.4rem 0 0 0.5rem;\n    vertical-align: top;\n  }\n"]);return i=function(){return e},e}var o=r.c.span(i(),c.a.white,c.a.greyMiddle,c.c.TextComponent,c.d.MarginAroundFormComponents,c.a.white,c.a.greyMiddle,c.a.greyDark,c.a.greyLight,c.a.greyMiddle)},1519:function(e,t,n){"use strict";function a(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,a=n+1,r=e.length;a<r;n+=1,a+=1)e[n]=e[a];e.pop()}t.a=function(e,t){void 0===t&&(t="");var n,c=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&a(e),l=t&&a(t),u=o||l;if(e&&a(e)?i=c:c.length&&(i.pop(),i=i.concat(c)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var d=0,m=i.length;m>=0;m--){var f=i[m];"."===f?r(i,m):".."===f?(r(i,m),d++):d&&(r(i,m),d--)}if(!u)for(;d--;d)i.unshift("..");!u||""===i[0]||i[0]&&a(i[0])||i.unshift("");var b=i.join("/");return n&&"/"!==b.substr(-1)&&(b+="/"),b}},1547:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(39);t.a=Object(c.a)(r.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle")},1565:function(e,t,n){},1569:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(0),r=function(){return(r=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var c=function(){return Math.random().toString(36).substring(2)},i=function(e){var t=e.rtl,n=e.speed,i=e.interval,o=e.style,l=e.width,u=e.height,s=e.baseUrl,d=e.gradientRatio,m=e.animate,f=e.ariaLabel,b=e.children,h=e.className,v=e.uniquekey,p=e.primaryColor,g=e.primaryOpacity,E=e.secondaryColor,y=e.secondaryOpacity,O=e.preserveAspectRatio,j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&(n[a[r]]=e[a[r]])}return n}(e,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),w=v?v+"-idClip":c(),k=v?v+"-idGradient":c(),C=t?{transform:"scaleX(-1)"}:{},S="0; "+i+"; 1",I=n+"s";return Object(a.createElement)("svg",r({role:"img",style:r({},o,C),className:h,"aria-label":f||null,viewBox:"0 0 "+l+" "+u,preserveAspectRatio:O},j),f?Object(a.createElement)("title",null,f):null,Object(a.createElement)("rect",{x:"0",y:"0",width:l,height:u,clipPath:"url("+s+"#"+w+")",style:{fill:"url("+s+"#"+k+")"}}),Object(a.createElement)("defs",null,Object(a.createElement)("clipPath",{id:w},b),Object(a.createElement)("linearGradient",{id:k},Object(a.createElement)("stop",{offset:"0%",stopColor:p,stopOpacity:g},m&&Object(a.createElement)("animate",{attributeName:"offset",values:-d+"; "+-d+"; 1",keyTimes:S,dur:I,repeatCount:"indefinite"})),Object(a.createElement)("stop",{offset:"50%",stopColor:E,stopOpacity:y},m&&Object(a.createElement)("animate",{attributeName:"offset",values:-d/2+"; "+-d/2+"; "+(1+d/2),keyTimes:S,dur:I,repeatCount:"indefinite"})),Object(a.createElement)("stop",{offset:"100%",stopColor:p,stopOpacity:g},m&&Object(a.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+d),keyTimes:S,dur:I,repeatCount:"indefinite"})))))},o={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},l=function(e){return Object(a.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},u=function(e){var t=r({},o,e),n=e.children?e.children:Object(a.createElement)(l,r({},t));return Object(a.createElement)(i,r({},t),n)},s=function(e){return Object(a.createElement)(u,r({},e),Object(a.createElement)("circle",{cx:"10",cy:"20",r:"8"}),Object(a.createElement)("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),Object(a.createElement)("circle",{cx:"10",cy:"50",r:"8"}),Object(a.createElement)("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),Object(a.createElement)("circle",{cx:"10",cy:"80",r:"8"}),Object(a.createElement)("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),Object(a.createElement)("circle",{cx:"10",cy:"110",r:"8"}),Object(a.createElement)("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))}},1570:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(63),r=n(0),c=n.n(r),i=n(40),o=n(1357),l=n(1380),u=n(36),s=n(20),d=s.a.prop("name"),m=function(e){var t=e.brands,n=e.selectedBrand,r=e.onSelection,m=Object(a.a)(e,["brands","selectedBrand","onSelection"]),f=Object(i.b)().user,b=Object(l.a)({getOptionFilter:d});return c.a.createElement(o.a,Object.assign({placeholder:u.b._("Select brand"),options:t||f.brands,value:n,formatOptionLabel:d,getOptionValue:s.b,getOptionLabel:d,onChange:function(e){return r(e)},isClearable:!0,autoFocus:!0},b,m))}},1636:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(39);t.a=Object(c.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"}),r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),"Inbox")},1890:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(39);t.a=Object(c.a)(r.a.createElement("path",{d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"}),"Store")},2772:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(39);t.a=Object(c.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 6h-4c0 1.62-1.38 3-3 3s-3-1.38-3-3H5V5h14v4zm-4 7h6v3c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3z"})),"AllInbox")},2774:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(39);t.a=Object(c.a)(r.a.createElement("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutline")},2775:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(39);t.a=Object(c.a)(r.a.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye")},2776:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(39);t.a=Object(c.a)(r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search")},2805:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(57),i=n(257),o=n(124),l=n(1416),u=n(1636),s=n(39),d=Object(s.a)(r.a.createElement("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"}),"OpenInBrowser"),m=Object(s.a)(r.a.createElement("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"Redo"),f=n(2772),b=n(36),h=n(14),v=n(451),p=n(1409),g=n(1436),E=function(){return r.a.createElement(g.a,{pageTitle:b.b._("Stock")},r.a.createElement(p.a,{row:1,column:1,canQuery:"stockItems",text:b.b._("Stock overview"),icon:u.a,color:h.a.violet,route:v.c}),r.a.createElement(p.a,{row:1,column:2,canMutate:"changeAmountStockItem",text:b.b._("Stock deposit"),icon:d,color:h.a.violet,route:v.b}),r.a.createElement(p.a,{row:1,column:3,canMutate:"createStockItemTransfers",canAccessWithSingleBranch:!1,text:b.b._("Stock transfer"),icon:m,color:h.a.violet,route:v.e}),r.a.createElement(p.a,{row:2,column:1,canQuery:"stockItems",canAccessWithSingleBranch:!1,text:b.b._("Stock statistics"),icon:f.a,color:h.a.turquoise,route:v.d}))},y=n(253),O=n(255),j=n(1426),w=n(75),k=n(86),C=n(93),S=n(92),I=n(94),x=n(78),M=n(4),N=n(18);function B(){var e=Object(M.a)(["\n  flex: none;\n  margin-right: 1rem;\n"]);return B=function(){return e},e}function L(){var e=Object(M.a)(["\n  margin: 0.6rem;\n  display: flex;\n"]);return L=function(){return e},e}var T=N.c.div(L()),A=N.c.div(B()),P=n(1366),R=n(454),F=n(20),z=n(176),D=n(131),_=function(e){var t=e.wareUnit,n=e.quantity,a=e.onConfirm;return r.a.createElement(D.a,{disabled:null===t,onClick:a},t?r.a.createElement(x.Trans,{id:"Add {0} {1}",values:{0:Object(z.g)(n),1:t.code}}):r.a.createElement(x.Trans,{id:"No stock card selected"}))},q=n(1358),W=n(1353),H=r.a.forwardRef(function(e,t){var n=e.value,a=e.onFilter,c=e.onConfirm;return r.a.createElement(W.a,{label:b.b._("Stock card"),labelWidth:7},r.a.createElement(q.a,{ref:t,autoFocus:!0,placeholder:"".concat(b.b._("Code").toLocaleLowerCase()," / ").concat(b.b._("PLU")," / ").concat(b.b._("Title").toLocaleLowerCase()),value:n,onChange:function(e){a(e.target.value)},onKeyPressCapture:function(e){"Enter"===e.key&&(e.preventDefault(),c())}}))}),U=n(133),V=n.n(U),Q=r.a.forwardRef(function(e,t){var n=e.enabled,a=e.onChange,c=e.onConfirm;return r.a.createElement(q.a,{ref:t,disabled:!n,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=V()(e.target.value).value();a(t)}),onKeyPressCapture:function(e){"Enter"===e.key&&(e.preventDefault(),c())}})}),K=Object(s.a)(r.a.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done"),G=n(1392),J=n(434);function X(){var e=Object(M.a)(["\n  background-color: ",";\n"]);return X=function(){return e},e}var Y=function(e){var t=e.stockItems,n=e.searchValue,a=e.onSelect;return r.a.createElement(G.f,{items:t,heightStretch:!1},r.a.createElement(G.a,{dataKey:"id",width:h.d.ButtonColumnWidthPx,minWidth:h.d.ButtonColumnWidthPx,cellRenderer:Z,columnData:{onSelect:a}}),r.a.createElement(G.a,{dataKey:"quantity",width:100,label:b.b._("Card stock"),cellRenderer:te}),r.a.createElement(G.a,{dataKey:"code",width:100,label:b.b._("Card code"),cellRenderer:ee(n)}),r.a.createElement(G.a,{dataKey:"nameLabel",width:300,label:b.b._("Card name"),cellRenderer:ee(n)}),r.a.createElement(G.a,{dataKey:"note",width:300,label:b.b._("Card note")}))};function Z(e){var t=e.rowData,n=e.columnData.onSelect;return r.a.createElement(J.a,null,r.a.createElement(D.a,{icon:K,onClick:function(){return n(t)}}))}var $=N.c.span(X(),h.a.yellow);function ee(e){return function(t){var n=t.cellData,a=n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(-1===a)return n;var c=n.substring(0,a),i=n.substring(a,a+e.length),o=n.substring(a+e.length);return r.a.createElement(r.a.Fragment,null,c,r.a.createElement($,null,i),o)}}function te(e){var t=e.cellData,n=e.rowData;return"".concat(t," ").concat(n.wareUnit.code)}var ne=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(C.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(c)))).state={targetStockItem:null,filteredStockItems:[],searchValue:"",inputQuantity:0},n.filterInputRef=r.a.createRef(),n.quantityInputRef=r.a.createRef(),n.onFilter=function(e){if(""!==e.trim()){var t=Object(R.a)(e),a=n.props.stockItems.filter(F.a.cond([[F.a.propEq("plu",e),F.a.T],[F.a.propSatisfies(t,"code"),F.a.T],[F.a.propSatisfies(t,"nameLabel"),F.a.T]])),r=null;1===a.length&&(r=F.a.head(a)),n.setState({filteredStockItems:a,searchValue:e,targetStockItem:r})}else n.setState({filteredStockItems:[],searchValue:"",targetStockItem:null})},n.onConfirmFilter=function(){1===n.state.filteredStockItems.length&&n.quantityInputRef.current.focus()},n.onQuantity=function(e){n.setState({inputQuantity:e})},n.onSelectStockItem=function(e){n.setState({targetStockItem:e,filteredStockItems:[e]},function(){n.quantityInputRef.current.focus()})},n.onConfirm=function(){var e=n.state,t=e.targetStockItem,a=e.inputQuantity;t&&0!==a&&n.props.onDeposit(t,a),n.setState({targetStockItem:null,searchValue:"",inputQuantity:0},function(){n.quantityInputRef.current.value="",n.filterInputRef.current.focus()})},n}return Object(I.a)(t,e),Object(k.a)(t,[{key:"componentDidUpdate",value:function(e){e.stockItems!==this.props.stockItems&&this.onFilter(this.state.searchValue)}},{key:"render",value:function(){var e=this.state,t=e.searchValue,n=e.filteredStockItems,a=e.targetStockItem,c=e.inputQuantity,i=""!==t.trim(),o=0===n.length,l=n.length>1;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null,r.a.createElement(A,null,r.a.createElement(H,{onFilter:this.onFilter,onConfirm:this.onConfirmFilter,value:t,ref:this.filterInputRef})),r.a.createElement(A,null,r.a.createElement(Q,{enabled:null!==a,onChange:this.onQuantity,onConfirm:this.onConfirm,ref:this.quantityInputRef})),r.a.createElement(A,null,r.a.createElement(_,{cardName:a?a.nameLabel:"",quantity:c,wareUnit:a?a.wareUnit:null,onConfirm:this.onConfirm}))),r.a.createElement(P.a,null,i&&l&&r.a.createElement(x.Trans,{id:"Continue typing to find single stock card or select one from the list"}),i&&o&&r.a.createElement(x.Trans,{id:"No stock card found from entered search value"}),i&&a&&r.a.createElement(x.Trans,{id:"Stock card <0>{0}</0> is selected",values:{0:a.nameLabel},components:[r.a.createElement("b",null)]})),i&&r.a.createElement(Y,{searchValue:t,stockItems:n,onSelect:this.onSelectStockItem}))}}]),t}(r.a.Component),ae=n(48),re=n(59),ce=n(40),ie=n(77),oe=n(1354),le=Object(re.b)(function(e){var t=e.children,n=Object(ce.b)().settings,a=Object(ie.Qb)({branchId:n.branchId}).getStash,r=Object(ie.bb)(),c=Object(ae.a)(r,1)[0];return t(a(function(e){return e.stockItems})||oe.a,function(e,t){c({stockItem:e.id,quantityChange:t})})}),ue=function(e){return r.a.createElement(O.a,{pageTitle:b.b._("Stock deposit"),useBackButton:!0},r.a.createElement(y.a,null,r.a.createElement(j.a,null),r.a.createElement(le,null,function(e,t){return r.a.createElement(ne,{stockItems:e,onDeposit:t})})))},se=n(1371),de=n(1524),me=n(1383),fe=n(1656),be=20,he=20,ve=15,pe=N.c.div.withConfig({displayName:"StyledStockStatisticsTable",componentId:"xtzl00-0"})(["margin:1rem;& .stock-item{display:grid;grid-gap:0 4px;grid-template-columns:5rem 1fr;grid-template-rows:","px auto;}& .code{grid-column:1;grid-row:1;}& .header{grid-column:2;grid-row:1;white-space:nowrap;border-bottom:1px solid ",";& .quantity{font-weight:bold;}}& .branches{grid-column:2;grid-row:2;margin-top:0.2rem;}& .header,& .branchItem{display:flex;flex-direction:row;}& .header .name,& .branches .branchName{flex:1 1 auto;max-width:20rem;}& .header .quantity,& .branches .quantity{flex:0 0 5rem;margin-right:1rem;text-align:right;}& .branchItem,& .header .quantity{font-size:0.9rem;}& .branchItem{height:","px;overflow:hidden;}& .branchName{color:",";}& .nameAtBranch{flex:2 1 auto;color:",";}"],be,h.a.greyMiddle,he,h.a.greyMiddle,h.a.greyMiddle),ge=function(e){var t=e.items;return r.a.createElement(fe.a,{items:t,rowHeight:function(e){var n=e.index;return be+ve+t[n].branches.length*he},heightStretch:!0,renderItem:function(e){return r.a.createElement(pe,null,r.a.createElement("div",{className:"stock-item"},r.a.createElement("div",{className:"code"},e.code),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"name"},e.nameLabel),r.a.createElement("div",{className:"quantity"},e.quantity," ",e.wareUnit.code),r.a.createElement("div",{className:"nameAtBranch"},"\xa0")),r.a.createElement("div",{className:"branches"},e.branches.map(function(t){return r.a.createElement("div",{className:"branchItem",key:t.branchName},r.a.createElement("div",{className:"branchName"},t.branchName),r.a.createElement("div",{className:"quantity"},t.quantity," ",e.wareUnit.code),e.showNamePerBranch&&r.a.createElement("div",{className:"nameAtBranch"},t.itemNameAtBranch))}))))}})},Ee=Object(re.b)(function(){var e=Object(ce.b)().statistics,t=Object(ie.pc)({brandId:e.stockBrandId},{skip:!e.stockBrandId}),n=t.data,a=t.loading,c=t.error;if(!e.stockBrandId)return null;if(a)return r.a.createElement(me.a,null);if(c||!n)return null;var i=e.stockSearchInput,o=Object(R.a)(i),l=F.a.cond([[F.a.propEq("plu",i),F.a.T],[F.a.propSatisfies(o,"code"),F.a.T],[F.a.propSatisfies(o,"nameLabel"),F.a.T]]),u=F.a.sortWith([F.a.ascend(F.a.prop("code"))])(n.stockItems.filter(l)).reduce(function(e,t){var n=e.find(function(e){var n=e.code,a=e.wareUnit;return n===t.code&&a.id===t.wareUnit.id}),a={stockItemId:t.id,quantity:t.quantity,branchName:t.companyBranch.name,itemNameAtBranch:t.nameLabel};return n?(n.branches.push(a),n.quantity+=a.quantity,n.nameLabel!==t.nameLabel&&(n.showNamePerBranch=!0)):e.push({code:t.code,wareUnit:t.wareUnit,nameLabel:t.nameLabel,showNamePerBranch:!1,branches:[a],quantity:t.quantity}),e},[]);return r.a.createElement(ge,{items:u})}),ye=n(377),Oe=n(1890),je=n(2776),we=n(1370),ke=n(1368),Ce=n(437),Se=n(158),Ie=n(1570),xe=Object(N.c)(ke.a).withConfig({displayName:"StyledFlexRowSingle",componentId:"sc-1cl7fri-0"})(["flex-wrap:wrap;"]),Me=function(){var e=Object(ce.b)(),t=e.user,n=e.statistics;return Object(re.g)(function(){return r.a.createElement(xe,{justify:"flex-start"},r.a.createElement(we.a,null,r.a.createElement(Ce.a,{margin:"0 1rem 0 0"},r.a.createElement(W.a,{icon:Oe.a},r.a.createElement(Se.a,{width:16},r.a.createElement(Ie.a,{selectedBrand:t.brands.find(Object(F.c)(n.stockBrandId))||null,onSelection:function(e){n.setStockBrand(e?e.id:null)}}))))),r.a.createElement(we.a,null,r.a.createElement(W.a,{icon:je.a},r.a.createElement(Se.a,{width:14},r.a.createElement(q.a,{defaultValue:n.stockSearchInput,inputFullWidth:!0,onChange:function(e){return n.setStockFilter(e.target.value)},placeholder:ye.i18n._("Filter by name or code")})))))})},Ne=function(){return r.a.createElement(O.a,{pageTitle:b.b._("Stock statistics"),useBackButton:!0},r.a.createElement(se.a,{forcePercentHeightInMobile:100},r.a.createElement(y.a,{stretchToParent:!0},r.a.createElement(de.b,null,r.a.createElement("div",{className:"filter"},r.a.createElement(Me,null)),r.a.createElement("div",{className:"table"},r.a.createElement(Ee,null))))))},Be=n(1654),Le=n(1355);function Te(){return Object(ce.b)().stock.transfer}var Ae=n(69),Pe=n.n(Ae),Re=n(112),Fe=n(44),ze=n(254),De=n(249);function _e(){var e=Object(M.a)(["\n    margin-left: ",";\n  "]);return _e=function(){return e},e}function qe(){var e=Object(M.a)(["\n    margin-left: 3rem;\n    width: 16rem;\n  "]);return qe=function(){return e},e}function We(){var e=Object(M.a)(["\n  flex: 0 0 auto;\n  ",";\n  @media (max-width: 760px) {\n    width: unset;\n    margin-left: ",";\n  }\n  ",";\n"]);return We=function(){return e},e}var He=N.c.div(We(),Object(Fe.c)(qe()),h.d.Middle,Object(Fe.d)(_e(),h.d.Middle)),Ue=Object(re.b)(function(){var e=Te(),t=Object(ze.a)().enqueueSuccess,n=Object(ie.J)(),a=Object(ae.a)(n,1)[0],c=Object(Le.b)("createStockItemTransfers"),i=r.a.useCallback(Object(Re.a)(Pe.a.mark(function n(){var r,c,i;return Pe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.targetId,!((c=e.itemsForTransfer.map(function(e){return{stockItemId:e.id,quantity:e.quantity||De.d}})).length>0&&r)){n.next=8;break}return i={targetBranch:r,transfers:c},n.next=6,a(i);case 6:n.sent&&(t(b.b._("Transfer was successfully completed!")),e.clearTransferState());case 8:case"end":return n.stop()}},n)})),[a,t,e]);if(!c)return null;var o=function(e){if(!e.hasTarget)return!1;return e.itemsForTransfer.length>0}(e);return r.a.createElement(He,null,r.a.createElement(D.a,{color:h.a.green,onClick:i,disabled:!o},e.isImportMode?r.a.createElement(x.Trans,{id:"Confirm import"}):r.a.createElement(x.Trans,{id:"Confirm transfer"})))});var Ve=n(63),Qe=n(1518),Ke=function(e){var t=e.sideText,n=Object(Ve.a)(e,["sideText"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{margin:"0 10px 0 0"},r.a.createElement(Qe.a,null,r.a.createElement("input",Object.assign({type:"checkbox"},n)))),t)},Ge=Object(re.b)(function(){var e=Te();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,{checked:e.isImportMode,onChange:e.toggleImportMode}),r.a.createElement(Se.a,{width:10},r.a.createElement(x.Trans,{id:"Enable import mode"})))}),Je=n(1356),Xe=Object(re.b)(function(e){var t=e.stockItemId,n=Te(),a=r.a.useRef(null),c=r.a.useCallback(function(e){var a=e.target.value;n.setQuantity(t,a)},[t,n]),i=r.a.useCallback(function(){a.current&&a.current.select()},[]);return r.a.createElement(q.a,{type:"text",inputFullWidth:!0,value:n.getItemRawQuantity(t),disabled:!n.hasTarget,onChange:c,onFocus:i,placeholder:b.b._("to transfer"),invalid:!n.isItemQuantityValid(t)})});function Ye(){var e=Object(M.a)(["\n  display: flex;\n  align-items: center;\n"]);return Ye=function(){return e},e}function Ze(){var e=Object(M.a)(["\n  [aria-label='grid']:focus {\n    outline: none;\n  }\n\n  [role='columnheader'] {\n    display: flex;\n    align-items: center;\n    overflow: hidden;\n  }\n\n  .flex-animation,\n  [role='columnheader'] {\n    transition: flex ",";\n  }\n"]);return Ze=function(){return e},e}var $e=Object(N.c)(G.f)(Ze(),"0.3s"),et=N.c.div(Ye()),tt=Object(re.b)(function(){var e=Te(),t=r.a.useCallback(function(t){var n=t.cellData;return r.a.createElement(re.a,null,function(){return r.a.createElement(Ke,{checked:e.isImportingItem(n),disabled:!e.hasTarget,onChange:function(){return e.toggleImportItem(n)},"data-testid":"import-checkbox"})})},[e]),n=r.a.useCallback(function(){return r.a.createElement(re.a,null,function(){return r.a.createElement(Ke,{checked:e.isImportingAll,disabled:!e.hasTarget,onChange:e.toggleImportAll,sideText:r.a.createElement(x.Trans,{id:"Import"}),"data-testid":"import-all-checkbox"})})},[e]),a=r.a.useCallback(function(e){var t=e.cellData;return r.a.createElement(re.a,null,function(){return r.a.createElement(et,null,r.a.createElement(Se.a,{width:6,margin:"0 0.5rem 0 0"},r.a.createElement(Xe,{stockItemId:t})))})},[]),c=function(){var e=Te(),t=Object(ie.nc)({branchId:e.sourceId}),n=t.getStash,a=t.loading,c=n(function(e){return e.stockItems});r.a.useEffect(function(){if(c){var t=c.map(function(e){var t=!0===e.allowNegativeValue?Number.MAX_SAFE_INTEGER:Math.max(e.quantity,0);return{id:e.id,quantity:e.quantity,max:t}});e.initItems(t)}},[c,e]);var i=e.filter.getPredicate({exactMatch:["plu"],partialMatch:["code","nameLabel"]});return{isLoading:a,filteredItems:c?c.filter(i):oe.a}}(),i=c.filteredItems,o=c.isLoading;return r.a.createElement($e,{items:i,heightStretch:!0,noRowsRenderer:function(){return o?r.a.createElement(me.a,null):r.a.createElement("h3",null,r.a.createElement(x.Trans,{id:"Selected branch has no stock cards"}))}},r.a.createElement(G.a,{dataKey:"id",width:e.isTransferMode?140:0,label:b.b._("Amount"),cellRenderer:a,className:"flex-animation",headerClassName:Object(Je.b)({"data-testid-amount":e.isTransferMode})}),r.a.createElement(G.a,{dataKey:"id",width:e.isImportMode?140:0,label:b.b._("Import"),headerRenderer:n,cellRenderer:t,className:"flex-animation",headerClassName:Object(Je.b)({"data-testid-import":e.isImportMode})}),r.a.createElement(G.a,{dataKey:"quantity",width:100,label:b.b._("Card stock"),cellRenderer:nt}),r.a.createElement(G.a,{dataKey:"code",width:100,label:b.b._("Card code")}),r.a.createElement(G.a,{dataKey:"nameLabel",width:300,minWidth:30,flexGrow:2,label:b.b._("Card name")}),r.a.createElement(G.a,{dataKey:"allowNegativeValue",width:300,label:b.b._("Negative stock"),cellRenderer:at}))});function nt(e){var t=e.cellData,n=e.rowData;return"".concat(t," ").concat(n.wareUnit.code)}function at(e){return!0===e.cellData?r.a.createElement(x.Trans,{id:"Permitted"}):r.a.createElement(x.Trans,{id:"Forbidden"})}var rt=function(){return r.a.createElement(j.a,{width:20})},ct=Object(s.a)(r.a.createElement("path",{d:"M16.01 11H4v2h12.01v3L20 12l-3.99-4z"}),"ArrowRightAlt"),it=n(1449),ot=Object(re.b)(function(){var e=Object(ce.b)().user,t=Te(),n=F.a.reject(Object(F.c)(t.sourceId),e.branches);return r.a.createElement(W.a,{icon:ct},r.a.createElement(it.a,{selectedBranches:t.targetId?[t.targetId]:[],onSelectionChange:function(e){var n=Object(ae.a)(e,1)[0];return t.setTargetId(n)},onSelectionClear:function(){return t.setTargetId(null)},isMulti:!1,isClearable:!1,getDropdownProps:function(){return{width:20}},hideWhenSingleBranch:!0,branches:n}))});function lt(){var e=Object(M.a)(["\n  &,\n  & > * {\n    display: flex;\n    align-items: center;\n  }\n"]);return lt=function(){return e},e}function ut(){var e=Object(M.a)(["\n  display: flex;\n"]);return ut=function(){return e},e}var st=N.c.div(ut()),dt=Object(N.c)(ke.a)(lt()),mt=function(e){var t=Object(ce.b)().user,n=Object(Le.b)("createStockItemTransfers")&&!t.hasSingleBranch,a=Te().filter;return r.a.createElement(O.a,{pageTitle:b.b._("Stock transfer"),useBackButton:!0,topContent:r.a.createElement(st,null,r.a.createElement(Ue,null))},r.a.createElement(se.a,{forcePercentHeightInMobile:100},r.a.createElement(y.a,{stretchToParent:!0},n?r.a.createElement(de.b,null,r.a.createElement("div",{className:"filter"},r.a.createElement(dt,{justify:"start",flexWrap:"wrap"},r.a.createElement(we.a,null,r.a.createElement(rt,null)),r.a.createElement(we.a,null,r.a.createElement(ot,null)),r.a.createElement(we.a,null,r.a.createElement(Be.a,{model:a,placeholder:"".concat(b.b._("Code").toLocaleLowerCase()," / ").concat(b.b._("PLU")," / ").concat(b.b._("Title").toLocaleLowerCase()),debounceIntervalMs:200})),r.a.createElement(we.a,null,r.a.createElement(Ge,null)))),r.a.createElement("div",{className:"table"},r.a.createElement(tt,null))):r.a.createElement(P.a,null,r.a.createElement(x.Trans,{id:"Can't access page"})))))};n.d(t,"StockRouting",function(){return ft});var ft=function(){return r.a.createElement(c.e,null,r.a.createElement(o.a,{path:v.a,exact:!0,component:E}),r.a.createElement(o.a,{path:v.d,component:Ne}),r.a.createElement(o.a,{path:v.e,component:mt}),r.a.createElement(o.a,{path:v.b,component:ue}),r.a.createElement(c.b,{to:l.d,from:v.c}),r.a.createElement(c.c,{component:i.a}))};t.default=ft}}]);
//# sourceMappingURL=373.b11acee7.chunk.js.map