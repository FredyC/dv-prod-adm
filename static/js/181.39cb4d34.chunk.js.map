{"version":3,"sources":["../node_modules/@speedlo/ui/dist/ui.esm.js","atoms/FormInputStyled.tsx","../node_modules/@speedlo/assets/flags sync /^/.*/.svg$","../node_modules/@speedlo/assets/flags/cs.svg","../node_modules/@speedlo/assets/flags/de.svg","../node_modules/@speedlo/assets/flags/en.svg","../node_modules/@speedlo/assets/flags/pl.svg","../node_modules/@speedlo/assets/flags/sk.svg","../node_modules/@speedlo/assets/logos sync /^/logo/-.*/.svg$","../node_modules/@speedlo/assets/logos/logo-doveze.svg","../node_modules/@speedlo/assets/logos/logo-gopay.svg","../node_modules/@speedlo/assets/logos/logo-mastercard.svg","../node_modules/@speedlo/assets/logos/logo-visa.svg","../node_modules/@speedlo/assets/index.js","atoms/FormInputTextBox.tsx","../node_modules/@bit/speedlo.hooks.use-debounce/dist/use-debounce/useDebounce.js","../node_modules/@speedlo/assets/Flaticon.js","../node_modules/@speedlo/assets/flags/index.js","../node_modules/@speedlo/assets/logos/index.js","../node_modules/use-debounce/esm/useDebouncedCallback.js","../node_modules/use-debounce/esm/useDebounce.js","../node_modules/use-debounce/esm/index.js","atoms/LoginPageBackground.tsx","assets/bg_login.jpg","assets/bg_login@2x.jpg","segments/login/molecules/PasswordPageGrid.tsx","helpers/form.ts","atoms/NotifyMessage.tsx","segments/login/molecules/PasswordLoginError.tsx","segments/login/molecules/PasswordResetLink.tsx","molecules/FormSubmit.tsx","segments/login/organisms/PasswordLoginForm.tsx","segments/login/pages/PasswordLoginPage.tsx","segments/login/routes/PasswordLoginRoute.tsx"],"names":["Symbol","iterator","asyncIterator","_taggedTemplateLiteralLoose","strings","raw","slice","_templateObject","data","StyledChevronLeft","svg","ChevronLeft","_ref","onClick","className","createElement","viewBox","d","_templateObject$1","pickerSizes","collapsedWidth","StyledLanguagePicker","div","props","backgroundColor","_ref2","arrowColor","_ref3","_ref4","flagCount","expandedWidth","LanguagePicker","_ref5","availableLanguages","selectedLanguage","selectLanguage","onChange","_ref5$backgroundColor","_ref5$arrowColor","_ref5$formatLanguage","formatLanguage","lang","toLowerCase","_React$useState","useState","expanded","setExpand","length","isSelected","language","prevValue","map","index","formattedLang","key","src","style","order","prevVal","onFlagClick","selected","FormInputStyled","styled","input","attrs","invalid","inputFullWidth","cn","fullWidth","Spacing","MarginAroundFormComponents","Colors","red","errorBackground","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","pictograms","getFlag","getLogo","FormInputTextBox","React","forwardRef","inputRef","field","isRequired","validatioName","validationMessage","validate","value","isEmpty","fieldApi","ev","target","validity","valid","setTouched","setValue","Boolean","error","ref","defineProperty","use_debounce_1","useDebounce","useDebouncedCallback","concat","logoName","callback","delay","options","maxWait","maxWaitHandler","maxWaitArgs","leading","wasLeadingCalled","functionTimeoutHandler","isComponentUnmounted","debouncedFunction","current","cancelDebouncedCallback","clearTimeout","args","_i","arguments","apply","setTimeout","_a","state","dispatch","_b","cancel","previousValue","LoginPageBackground","backgroundImage","backgroundImage2x","PasswordPageGrid","Middle","Small","isFormValid","formState","errors","parseNumber","Number","parseFloat","replace","backgroundProperty","isError","green","StyledNotifyMessage","mediaDesktop","mediaMobile","FontSizes","InfoMessageFontSize","NotifyMessage","children","isVisible","data-testid","PasswordLoginError","observer","model","hasFailed","errorMessage","PasswordResetLink","to","ROUTE_AUTH_RESET_PASSWORD","TouchButton","color","greyMiddle","FormSubmit","form","type","disabled","submitting","preventDefault","submitForm","PasswordLoginForm","onSubmit","username","password","requestToken","render","formApi","name","i18n","autoFocus","autoCorrect","autoCapitalize","spellCheck","placeholder","MarginBox","margin","StyledPasswordLoginPage","PasswordLoginPage","PageTitle","title","PageLayoutGridItem","gridRow","gridRowSpan","gridColumn","gridColumnInMobile","gridColumnSpan","gridRowInMobile","gridColumnSpanInMobile","Display","gridRowSpanInMobile","PasswordLoginRoute","auth","useRoot","match","useRouter","path","ROUTE_AUTH_LOGIN","useEffect","authenticate","window","atob","params","token","userId","isAuthenticatedUser","ROUTE_MAIN","provider","passwordLogin"],"mappings":"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","file":"static/js/181.39cb4d34.chunk.js","sourcesContent":["import cn from 'classnames';\nexport { default as cn } from 'classnames';\nimport { useDebouncedCallback } from '@bit/speedlo.hooks.use-debounce';\nimport { identity, propEq, prop } from 'ramda';\nimport React from 'react';\nimport { useLocalStore, useObserver } from 'mobx-react-lite';\nimport { LocaleResolver, DETECTORS, TRANSFORMERS } from 'locales-detector';\nimport { getFlag } from '@speedlo/assets';\nimport styled from 'styled-components'; // A type of promise-like that resolves synchronously and supports only one observer\n\nvar _iteratorSymbol =\n/*#__PURE__*/\ntypeof Symbol !== \"undefined\" ? Symbol.iterator || (Symbol.iterator =\n/*#__PURE__*/\nSymbol(\"Symbol.iterator\")) : \"@@iterator\"; // Asynchronously iterate through an object's values\n\n\nvar _asyncIteratorSymbol =\n/*#__PURE__*/\ntypeof Symbol !== \"undefined\" ? Symbol.asyncIterator || (Symbol.asyncIterator =\n/*#__PURE__*/\nSymbol(\"Symbol.asyncIterator\")) : \"@@asyncIterator\"; // Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\n\n\nfunction _catch(body, recover) {\n  try {\n    var result = body();\n  } catch (e) {\n    return recover(e);\n  }\n\n  if (result && result.then) {\n    return result.then(void 0, recover);\n  }\n\n  return result;\n} // Asynchronously await a promise and pass the result to a finally continuation\n\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, value);\n} // Asynchronously await a promise and invoke a finally continuation that always overrides the result\n\n\nfunction useOrderPromoCodes(_ref) {\n  var onCodeAdd = _ref.onCodeAdd,\n      onCodeErrors = _ref.onCodeErrors,\n      _ref$getValidatingMes = _ref.getValidatingMessage,\n      getValidatingMessage = _ref$getValidatingMes === void 0 ? identity : _ref$getValidatingMes,\n      _ref$autoSubmitAfterT = _ref.autoSubmitAfterTimeout,\n      autoSubmitAfterTimeout = _ref$autoSubmitAfterT === void 0 ? 2000 : _ref$autoSubmitAfterT;\n  var inputRef = React.useRef(null);\n\n  var _React$useState = React.useState(false),\n      isValidating = _React$useState[0],\n      setValidating = _React$useState[1];\n\n  var addCode = React.useCallback(function () {\n    try {\n      if (!inputRef.current || inputRef.current.disabled) {\n        return Promise.resolve();\n      }\n\n      var code = inputRef.current.value.trim();\n\n      if (code.length === 0) {\n        return Promise.resolve();\n      }\n\n      setValidating(true);\n      inputRef.current.disabled = true;\n      inputRef.current.value = getValidatingMessage(code);\n\n      var _temp2 = _finallyRethrows(function () {\n        return _catch(function () {\n          var isSuccess = true;\n          return Promise.resolve(onCodeAdd(code)).then(function (result) {\n            if (result) {\n              var userErrors = result.addOrderPromoCode.userErrors;\n\n              if (userErrors.length > 0) {\n                isSuccess = false;\n                onCodeErrors(code, userErrors);\n              }\n            } else {\n              isSuccess = false;\n            }\n\n            if (inputRef.current) {\n              inputRef.current.value = '';\n\n              if (!isSuccess) {\n                inputRef.current.focus();\n              }\n            }\n          });\n        }, function () {\n          if (inputRef.current) {\n            inputRef.current.value = code;\n          }\n        });\n      }, function (_wasThrown, _result) {\n        setValidating(false);\n\n        if (inputRef.current) {\n          inputRef.current.disabled = false;\n          inputRef.current.focus();\n        }\n\n        if (_wasThrown) throw _result;\n        return _result;\n      });\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, [getValidatingMessage, onCodeAdd, onCodeErrors]);\n\n  var _useDebouncedCallback = useDebouncedCallback(addCode, autoSubmitAfterTimeout),\n      onChange = _useDebouncedCallback[0];\n\n  var onKeyDown = React.useCallback(function (ev) {\n    if (ev.key === 'Enter') {\n      addCode();\n      ev.preventDefault();\n    }\n  }, [addCode]);\n  var inputProps = {\n    autoComplete: 'off',\n    disabled: isValidating,\n    onChange: onChange,\n    onKeyDown: onKeyDown,\n    onBlur: addCode,\n    onPaste: addCode\n  };\n  return {\n    inputProps: inputProps,\n    inputRef: inputRef,\n    isValidating: isValidating\n  };\n}\n\nvar useVamAgreements = function useVamAgreements(agreements) {\n  var state = useLocalStore(function () {\n    return {\n      initialized: false,\n      hiddenAgreements: new Set(),\n      confirmedAgreements: new Set(),\n      openDescriptions: new Set(),\n      toggleConfirmed: function toggleConfirmed(agreementId) {\n        if (state.confirmedAgreements.has(agreementId)) {\n          state.confirmedAgreements[\"delete\"](agreementId);\n        } else {\n          state.confirmedAgreements.add(agreementId);\n        }\n      },\n      toggleDescription: function toggleDescription(agreementId) {\n        if (state.openDescriptions.has(agreementId)) {\n          state.openDescriptions[\"delete\"](agreementId);\n        } else {\n          state.openDescriptions.add(agreementId);\n        }\n      }\n    };\n  });\n  React.useEffect(function () {\n    // initially all agreements are loaded as not confirmed\n    // as user inputs data, new set of agreements can be received\n    // with some agreements confirmed from previous orders\n    state.hiddenAgreements.clear();\n    agreements.filter(propEq('isConfirmed', true)).map(prop('id')).forEach(function (agreementId) {\n      // hide confirmed from display\n      state.hiddenAgreements.add(agreementId); // but remember it's been confirmed\n\n      state.confirmedAgreements.add(agreementId);\n    });\n    state.initialized = true;\n  }, [agreements, state]);\n\n  var renderVamAgreements = function renderVamAgreements(_ref) {\n    var AgreementBox = _ref.AgreementBox,\n        _ref$confirmedWrapper = _ref.confirmedWrapperClass,\n        confirmedWrapperClass = _ref$confirmedWrapper === void 0 ? 'confirmed' : _ref$confirmedWrapper,\n        _ref$descriptionColla = _ref.descriptionCollapsedClass,\n        descriptionCollapsedClass = _ref$descriptionColla === void 0 ? 'collapsed' : _ref$descriptionColla;\n    return (// eslint-disable-next-line react-hooks/rules-of-hooks\n      useObserver(function () {\n        return React.createElement(React.Fragment, null, agreements.map(function (agreement) {\n          var _cn;\n\n          var agreementId = agreement.id;\n\n          if (state.hiddenAgreements.has(agreementId)) {\n            return null;\n          }\n\n          var isCollapsed = !state.openDescriptions.has(agreementId);\n          var isConfirmed = state.confirmedAgreements.has(agreementId);\n          return React.createElement(\"div\", {\n            key: agreement.id,\n            className: isConfirmed ? confirmedWrapperClass : ''\n          }, React.createElement(AgreementBox, {\n            agreement: agreement,\n            isValid: !agreement.isMandatory || isConfirmed,\n            isCollapsed: isCollapsed,\n            titleNode: React.createElement(\"span\", {\n              dangerouslySetInnerHTML: {\n                __html: agreement.name\n              }\n            }),\n            descriptionNode: React.createElement(\"div\", {\n              className: cn((_cn = {}, _cn[descriptionCollapsedClass] = isCollapsed, _cn))\n            }, React.createElement(\"span\", {\n              dangerouslySetInnerHTML: {\n                __html: agreement.description\n              }\n            })),\n            inputProps: {\n              checked: isConfirmed,\n              onChange: function onChange() {\n                return state.toggleConfirmed(agreement.id);\n              },\n              required: agreement.isMandatory\n            },\n            buttonProps: {\n              onClick: function onClick() {\n                return state.toggleDescription(agreement.id);\n              }\n            }\n          }));\n        }));\n      })\n    );\n  };\n\n  return {\n    state: state,\n    renderVamAgreements: renderVamAgreements\n  };\n};\n\nfunction detectLanguage(supportedLanguages, fallbackLanguage) {\n  var resolver = new LocaleResolver([new DETECTORS.UrlDetector('lang'), new DETECTORS.NavigatorDetector()], [new TRANSFORMERS.LanguageOnlyTransformer()]);\n  var languages = resolver.getLocales();\n  var supported = languages.find(function (loc) {\n    return supportedLanguages.includes(loc);\n  });\n  return supported || fallbackLanguage;\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  stroke: currentColor;\\n  stroke-width: 2;\\n  width: 2em;\\n  height: 2em;\\n  fill: none;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar StyledChevronLeft = styled.svg(_templateObject());\n\nvar ChevronLeft = function ChevronLeft(_ref) {\n  var onClick = _ref.onClick,\n      className = _ref.className;\n  return React.createElement(StyledChevronLeft, {\n    viewBox: \"0 0 5 10\",\n    onClick: onClick,\n    className: className\n  }, React.createElement(\"path\", {\n    d: \"M5,1 1,5 5,9\"\n  }));\n};\n\nfunction _templateObject$1() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  \", \"\\n\\n  padding: 10px;\\n  background: \", \";\\n  transition: background 0.3s;\\n\\n  .wrapper {\\n    display: grid;\\n    grid-auto-flow: column;\\n    align-content: center;\\n    grid-gap: \", \";\\n    overflow: hidden;\\n    width: \", \";\\n    transition: width 0.3s;\\n\\n    .arrow {\\n      width: \", \";\\n      height: 100%;\\n      order: -2;\\n      color: \", \";\\n\\n      path {\\n        transition: d 0.3s;\\n      }\\n    }\\n\\n    > img {\\n      height: 1.2em;\\n      width: \", \";\\n    }\\n\\n    .selected {\\n      order: -1 !important;\\n    }\\n  }\\n\\n  &.expanded {\\n    background: \", \";\\n\\n    .wrapper {\\n      width: \", \";\\n\\n      .arrow path {\\n        d: path('M1,1 5,5 1,9');\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject$1 = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar pickerSizes = {\n  gap: '10px',\n  flagWidth: '2em',\n  arrowWidth: '1em'\n}; // arrow + gap + flag\n\nvar collapsedWidth = function collapsedWidth() {\n  return \"calc(\" + pickerSizes.arrowWidth + \" + \" + pickerSizes.gap + \" + \" + pickerSizes.flagWidth + \")\";\n}; // arrow + flagCount * (gap + flag)\n\n\nvar expandedWidth = function expandedWidth(flagCount) {\n  return \"calc(\" + pickerSizes.arrowWidth + \" + \" + flagCount + \" *  (\" + pickerSizes.gap + \" + \" + pickerSizes.flagWidth + \"))\";\n};\n\nvar StyledLanguagePicker = styled.div(_templateObject$1(), function (props) {\n  return \"\";\n}, function (_ref) {\n  var backgroundColor = _ref.backgroundColor;\n  return backgroundColor + \"AA\";\n}, pickerSizes.gap,\n/*#__PURE__*/\ncollapsedWidth(), pickerSizes.arrowWidth, function (_ref2) {\n  var arrowColor = _ref2.arrowColor;\n  return arrowColor;\n}, pickerSizes.flagWidth, function (_ref3) {\n  var backgroundColor = _ref3.backgroundColor;\n  return backgroundColor + \"E8\";\n}, function (_ref4) {\n  var flagCount = _ref4.flagCount;\n  return expandedWidth(flagCount);\n});\n\nvar LanguagePicker = function LanguagePicker(_ref5) {\n  var className = _ref5.className,\n      availableLanguages = _ref5.availableLanguages,\n      selectedLanguage = _ref5.selectedLanguage,\n      selectLanguage = _ref5.onChange,\n      _ref5$backgroundColor = _ref5.backgroundColor,\n      backgroundColor = _ref5$backgroundColor === void 0 ? '#FFF' : _ref5$backgroundColor,\n      _ref5$arrowColor = _ref5.arrowColor,\n      arrowColor = _ref5$arrowColor === void 0 ? '#000' : _ref5$arrowColor,\n      _ref5$formatLanguage = _ref5.formatLanguage,\n      formatLanguage = _ref5$formatLanguage === void 0 ? function (lang) {\n    return lang.toLowerCase();\n  } : _ref5$formatLanguage;\n\n  var _React$useState = React.useState(false),\n      expanded = _React$useState[0],\n      setExpand = _React$useState[1];\n\n  if (availableLanguages.length <= 1) {\n    return null;\n  }\n\n  var onFlagClick = function onFlagClick(language) {\n    if (expanded) {\n      selectLanguage(language);\n    }\n\n    setExpand(function (prevVal) {\n      return !prevVal;\n    });\n  };\n\n  var toggleExpand = function toggleExpand() {\n    setExpand(function (prevValue) {\n      return !prevValue;\n    });\n  };\n\n  var isSelected = function isSelected(language) {\n    return formatLanguage(selectedLanguage) === language;\n  };\n\n  var renderFlag = function renderFlag(language, index) {\n    var formattedLang = formatLanguage(language);\n    return React.createElement(\"img\", {\n      key: formattedLang,\n      src: getFlag(formattedLang),\n      style: {\n        order: index\n      },\n      onClick: function onClick() {\n        return onFlagClick(formattedLang);\n      },\n      className: cn({\n        selected: isSelected(formattedLang)\n      })\n    });\n  };\n\n  return React.createElement(StyledLanguagePicker, {\n    className: cn(className, {\n      expanded: expanded\n    }),\n    flagCount: availableLanguages.length,\n    backgroundColor: backgroundColor,\n    arrowColor: arrowColor\n  }, React.createElement(\"div\", {\n    className: \"wrapper\"\n  }, React.createElement(ChevronLeft, {\n    onClick: toggleExpand,\n    className: \"arrow\"\n  }), availableLanguages.map(renderFlag)));\n};\n\nexport { LanguagePicker, detectLanguage, useOrderPromoCodes, useVamAgreements };","import { cn } from '@speedlo/ui'\nimport styled from 'styled-components/macro'\n\nimport { Colors, Spacing } from '../styling'\n\ninterface IProps {\n  invalid?: boolean\n  inputFullWidth?: boolean\n}\n\nexport const FormInputStyled = styled.input.attrs<IProps>(\n  ({ invalid = false, inputFullWidth = false }) => ({\n    className: cn({ invalid, fullWidth: inputFullWidth }),\n  }),\n)<IProps>`\n  margin: ${Spacing.MarginAroundFormComponents};\n  &.invalid {\n    border: 1px ${Colors.red} solid;\n    background-color: ${Colors.errorBackground};\n  }\n  &.fullWidth {\n    width: 100%;\n  }\n`\n\n// TODO: Rename all uses in separate commit\nexport { FormInputStyled as StyledFormInput }\n","var map = {\n\t\"./cs.svg\": 1436,\n\t\"./de.svg\": 1437,\n\t\"./en.svg\": 1438,\n\t\"./pl.svg\": 1439,\n\t\"./sk.svg\": 1440\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1435;","module.exports = __webpack_public_path__ + \"static/media/cs.047e732d.svg\";","module.exports = __webpack_public_path__ + \"static/media/de.91b3a633.svg\";","module.exports = __webpack_public_path__ + \"static/media/en.c4cd6642.svg\";","module.exports = __webpack_public_path__ + \"static/media/pl.1b9768ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/sk.8fff59a6.svg\";","var map = {\n\t\"./logo-doveze.svg\": 1442,\n\t\"./logo-gopay.svg\": 1443,\n\t\"./logo-mastercard.svg\": 1444,\n\t\"./logo-visa.svg\": 1445\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1441;","module.exports = __webpack_public_path__ + \"static/media/logo-doveze.e13c0122.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-gopay.14086fd8.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-mastercard.6d4e5108.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-visa.8afb6c6f.svg\";","exports.pictograms = require('./Flaticon');\nexports.getFlag = require('./flags');\nexports.getLogo = require('./logos');","import React from 'react'\nimport { Field, FieldType, ValidationResult } from 'react-form'\nimport { isEmpty } from 'validator'\n\nimport { i18n } from '../i18n'\nimport { FormInputStyled } from './FormInputStyled'\n\ninterface IProps extends React.InputHTMLAttributes<never> {\n  field: FieldType\n  defaultValue?: string\n  isRequired?: boolean\n  validatioName?: string\n  validationMessage?: string\n  inputFullWidth?: boolean\n  validate?(value: string): ValidationResult\n}\n\nexport type TFormInputTextBoxProps = IProps\n\nexport const FormInputTextBox = React.forwardRef<HTMLInputElement, IProps>(\n  (\n    {\n      field,\n      inputFullWidth = false,\n      isRequired,\n      validatioName,\n      validationMessage,\n      validate,\n      ...props\n    },\n    inputRef,\n  ) => (\n    <Field\n      field={field}\n      validate={\n        validate ||\n        (value => {\n          if (isRequired && isEmpty(value + '')) {\n            if (validationMessage) {\n              return validationMessage\n            }\n            return i18n.t`${validatioName} is required`\n          }\n          return null\n        })\n      }\n    >\n      {fieldApi => (\n        <FormInputStyled\n          value={!fieldApi.value && fieldApi.value !== 0 ? '' : fieldApi.value}\n          onChange={ev => {\n            if (ev.target.validity.valid) {\n              fieldApi.setTouched(true)\n              fieldApi.setValue(ev.target.value)\n            }\n          }}\n          inputFullWidth={inputFullWidth}\n          invalid={Boolean(fieldApi.error)}\n          ref={inputRef}\n          {...props}\n        />\n      )}\n    </Field>\n  ),\n)\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar use_debounce_1 = require(\"use-debounce\");\n\nexports.useDebounce = use_debounce_1.useDebounce;\nexports.useDebouncedCallback = use_debounce_1.useDebouncedCallback;","module.exports = ['pizza', 'beans', 'cheese', 'hot-pepper', 'smoking-barbecue', 'meat-pie', 'sausage', 'hot-dog', 'fruit', 'fruit-1', 'fruit-2', 'strawberry', 'soup', 'noodles', 'ramen', 'rice', 'spaghetti', 'food', 'piece-of-cake', 'beer', 'marshmallow', 'cake', 'banana-split', 'ice-cream', 'cookie', 'doughnut', 'cupcake', 'kebab', 'steak', 'fish', 'fondue', 'shrimp', 'berry', 'food', 'food-1', 'food-2', 'food-3', 'food-4', 'food-5', 'food-6', 'food-7', 'food-8', 'food-9', 'food-10', 'food-11', 'food-12', 'food-13', 'food-14', 'food-15', 'food-16', 'food-17', 'food-18', 'food-19', 'food-20', 'food-21', 'food-22', 'food-23', 'food-24', 'food-25', 'food-26', 'food-27', 'food-28', 'food-29', 'food-30', 'drink', 'drink-1', 'drink-2', 'drink-3', 'drink-4', 'drink-5', 'cup', 'cup-1', 'cup-2', 'whisky'];","module.exports = function (language) {\n  try {\n    return require(\"./\".concat(language.toLowerCase(), \".svg\"));\n  } catch (error) {\n    throw new Error(\"Missing flag asset for \".concat(language, \"!\"));\n  }\n};","module.exports = function (logoName) {\n  try {\n    return require(\"./logo-\".concat(logoName.toLowerCase(), \".svg\"));\n  } catch (error) {\n    throw new Error(\"Missing logo asset for \".concat(logoName, \"!\"));\n  }\n};","import { useRef, useCallback, useEffect } from 'react';\nexport default function useDebouncedCallback(callback, delay, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var maxWait = options.maxWait;\n  var maxWaitHandler = useRef(null);\n  var maxWaitArgs = useRef([]);\n  var leading = options.leading;\n  var wasLeadingCalled = useRef(false);\n  var functionTimeoutHandler = useRef(null);\n  var isComponentUnmounted = useRef(false);\n  var debouncedFunction = useRef(callback);\n  debouncedFunction.current = callback;\n  var cancelDebouncedCallback = useCallback(function () {\n    clearTimeout(functionTimeoutHandler.current);\n    clearTimeout(maxWaitHandler.current);\n    maxWaitHandler.current = null;\n    maxWaitArgs.current = [];\n    functionTimeoutHandler.current = null;\n    wasLeadingCalled.current = false;\n  }, []);\n  useEffect(function () {\n    return function () {\n      // we use flag, as we allow to call callPending outside the hook\n      isComponentUnmounted.current = true;\n    };\n  }, []);\n  var debouncedCallback = useCallback(function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    maxWaitArgs.current = args;\n    clearTimeout(functionTimeoutHandler.current);\n\n    if (!functionTimeoutHandler.current && leading && !wasLeadingCalled.current) {\n      debouncedFunction.current.apply(debouncedFunction, args);\n      wasLeadingCalled.current = true;\n      return;\n    }\n\n    functionTimeoutHandler.current = setTimeout(function () {\n      cancelDebouncedCallback();\n\n      if (!isComponentUnmounted.current) {\n        debouncedFunction.current.apply(debouncedFunction, args);\n      }\n    }, delay);\n\n    if (maxWait && !maxWaitHandler.current) {\n      maxWaitHandler.current = setTimeout(function () {\n        var args = maxWaitArgs.current;\n        cancelDebouncedCallback();\n\n        if (!isComponentUnmounted.current) {\n          debouncedFunction.current.apply(null, args);\n        }\n      }, maxWait);\n    }\n  }, [maxWait, delay, cancelDebouncedCallback, leading]);\n\n  var callPending = function callPending() {\n    // Call pending callback only if we have anything in our queue\n    if (!functionTimeoutHandler.current) {\n      return;\n    }\n\n    debouncedFunction.current.apply(null, maxWaitArgs.current);\n    cancelDebouncedCallback();\n  }; // At the moment, we use 3 args array so that we save backward compatibility\n\n\n  return [debouncedCallback, cancelDebouncedCallback, callPending];\n}","import { useState, useCallback, useRef, useEffect } from 'react';\nimport useDebouncedCallback from './useDebouncedCallback';\nexport default function useDebounce(value, delay, options) {\n  var _a = useState(value),\n      state = _a[0],\n      dispatch = _a[1];\n\n  var _b = useDebouncedCallback(useCallback(function (value) {\n    return dispatch(value);\n  }, []), delay, options),\n      callback = _b[0],\n      cancel = _b[1];\n\n  var previousValue = useRef(value);\n  useEffect(function () {\n    // We need to use this condition otherwise we will run debounce timer for the first render (including maxWait option)\n    if (previousValue.current !== value) {\n      callback(value);\n      previousValue.current = value;\n    }\n  }, [value, callback]);\n  return [state, cancel];\n}","import useDebounce from './useDebounce';\nimport useDebouncedCallback from './useDebouncedCallback';\nexport { useDebounce, useDebouncedCallback };","import styled from 'styled-components'\n\nimport backgroundImage from '../assets/bg_login.jpg'\nimport backgroundImage2x from '../assets/bg_login@2x.jpg'\n\nexport const LoginPageBackground = styled.div`\n  width: 100vw;\n  height: 100vh;\n  background-image: url(${backgroundImage});\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n\n  @media only screen and (-webkit-min-device-pixel-ratio: 1.3),\n    only screen and (min--moz-device-pixel-ratio: 1.3),\n    only screen and (-o-min-device-pixel-ratio: 2.6/2),\n    only screen and (min-device-pixel-ratio: 1.3),\n    only screen and (min-width: 1024px) {\n    background-image: url(${backgroundImage2x});\n  }\n`\n","module.exports = __webpack_public_path__ + \"static/media/bg_login.382d98be.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg_login@2x.35ab1818.jpg\";","import styled from 'styled-components/macro'\n\nimport { Spacing } from '../../../styling'\n\nexport const PasswordPageGrid = styled.div`\n  display: grid;\n  width: 100vw;\n  height: 100vh;\n  grid-gap: ${Spacing.Middle};\n  grid-template-columns: repeat(16, 1fr);\n  grid-template-rows: repeat(7, 3rem);\n  padding: 0 ${Spacing.Small} 0 ${Spacing.Small};\n`\n","import { IFormState } from 'react-form'\nimport { isEmpty } from 'validator'\n\nimport { i18n } from '../i18n'\n\nexport function isFormValid(formState: IFormState) {\n  return !formState.errors || Object.keys(formState.errors).length === 0\n}\n\nexport function validateIsRequired(fieldName: string) {\n  return (value: string) =>\n    isEmpty(value + '') ? i18n.t`${fieldName} must be entered` : null\n}\n\nexport function parseNumber(value: string | number) {\n  return typeof value === 'number'\n    ? value\n    : Number.parseFloat(value.replace(',', '.'))\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { mediaDesktop, mediaMobile } from '../app/Responsive'\nimport { Colors, FontSizes } from '../styling'\n\ninterface INotifyMessageProps {\n  isError?: boolean\n  isVisible: boolean\n  onClick?(): void\n}\n\nconst backgroundProperty = (props: INotifyMessageProps) =>\n  props.isError ? Colors.red : Colors.green\n\nconst StyledNotifyMessage = styled.div`\n  position: fixed;\n  border-radius: 1rem;\n  top: 0;\n  ${mediaDesktop`\n  width: 60%;\n  left: 20%;\n  `};\n  ${mediaMobile`\n  width: 90%;\n  left: 5%;\n  `};\n  height: 3.9rem;\n  opacity: 0.85;\n  background: ${backgroundProperty};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  & .notify-message {\n    color: white;\n    text-align: center;\n    margin: 0 0.5rem 0.4rem 0.5rem;\n    font-size: ${FontSizes.InfoMessageFontSize};\n  }\n`\n\nexport const NotifyMessage: React.FC<INotifyMessageProps> = ({\n  children,\n  isVisible,\n  isError = false,\n  onClick,\n  ...props\n}) =>\n  isVisible ? (\n    <StyledNotifyMessage\n      onClick={onClick}\n      isVisible={isVisible}\n      isError={isError}\n      {...props}\n    >\n      <div\n        className=\"notify-message\"\n        data-testid={`notify${isError ? '-error' : ''}`}\n      >\n        {children}\n      </div>\n    </StyledNotifyMessage>\n  ) : null\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { NotifyMessage } from '../../../atoms/NotifyMessage'\nimport { TPasswordLoginModel } from '../models/PasswordLoginModel'\n\ninterface IPasswordLoginErrorProps {\n  model: TPasswordLoginModel\n}\n\nexport const PasswordLoginError = observer<IPasswordLoginErrorProps>(\n  ({ model }) =>\n    model.hasFailed ? (\n      <NotifyMessage isVisible={true} isError={true}>\n        {model.errorMessage}\n      </NotifyMessage>\n    ) : null,\n)\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors } from '../../../styling'\nimport { ROUTE_AUTH_RESET_PASSWORD } from '../login.routes'\n\ninterface IProps {}\n\nexport const PasswordResetLink: React.FC<IProps> = props => {\n  return (\n    <Link to={ROUTE_AUTH_RESET_PASSWORD}>\n      <TouchButton color={Colors.greyMiddle}>\n        <Trans>Forgotten password</Trans>\n      </TouchButton>\n    </Link>\n  )\n}\n","import React from 'react'\nimport { FormApi } from 'react-form'\n\nimport { isFormValid } from '../helpers/form'\nimport { ITouchButtonProps, TouchButton } from '../molecules/TouchButton'\nimport { Colors } from '../styling'\n\ninterface IProps extends ITouchButtonProps {}\n\nexport const FormSubmit: React.FC<IProps> = ({ children, ...props }) => (\n  <FormApi>\n    {form => (\n      <TouchButton\n        type=\"submit\"\n        color={Colors.green}\n        disabled={!isFormValid(form) || form.submitting}\n        onClick={e => {\n          e.preventDefault()\n          form.submitForm(e)\n        }}\n        {...props}\n      >\n        {children}\n      </TouchButton>\n    )}\n  </FormApi>\n)\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\nimport { Form } from 'react-form'\n\nimport { FormInputTextBox } from '../../../atoms/FormInputTextBox'\nimport { MarginBox } from '../../../atoms/MarginBox'\nimport { i18n } from '../../../i18n'\nimport { FormSubmit } from '../../../molecules/FormSubmit'\nimport { Spacing } from '../../../styling'\nimport { TPasswordLoginModel } from '../models/PasswordLoginModel'\n\ninterface IPasswordLoginFormProps {\n  model: TPasswordLoginModel\n}\n\ninterface IFormValues {\n  username: string\n  password: string\n}\n\nexport const PasswordLoginForm: React.FC<IPasswordLoginFormProps> = ({\n  model,\n}) => (\n  <Form\n    onSubmit={({ username, password }: IFormValues) =>\n      model.requestToken(username, password)\n    }\n    render={formApi => (\n      <form onSubmit={formApi.submitForm}>\n        <FormInputTextBox\n          field=\"username\"\n          name=\"username\"\n          isRequired={true}\n          inputFullWidth={true}\n          validatioName={i18n.t`username`}\n          autoFocus={true}\n          autoCorrect=\"off\"\n          autoCapitalize=\"off\"\n          spellCheck={false}\n          placeholder={i18n.t`username`}\n        />\n\n        <FormInputTextBox\n          field=\"password\"\n          name=\"password\"\n          isRequired={true}\n          inputFullWidth={true}\n          validatioName={i18n.t`password`}\n          type=\"password\"\n          placeholder={i18n.t`password`}\n        />\n\n        <MarginBox margin={`${Spacing.Middle} -0.1rem 0 0.1rem`}>\n          <FormSubmit>\n            <Trans>Sign-in</Trans>\n          </FormSubmit>\n        </MarginBox>\n      </form>\n    )}\n  />\n)\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { LoginPageBackground } from '../../../atoms/LoginPageBackground'\nimport { PageLayoutGridItem } from '../../../atoms/PageLayoutGridItem'\nimport { PageTitle } from '../../../atoms/PageTitle'\nimport { i18n } from '../../../i18n'\nimport { TPasswordLoginModel } from '../models/PasswordLoginModel'\nimport { PasswordLoginError } from '../molecules/PasswordLoginError'\nimport { PasswordPageGrid } from '../molecules/PasswordPageGrid'\nimport { PasswordResetLink } from '../molecules/PasswordResetLink'\nimport { PasswordLoginForm } from '../organisms/PasswordLoginForm'\n\ninterface IPasswordLoginPageProps {\n  model: TPasswordLoginModel\n}\n\nconst StyledPasswordLoginPage = styled(LoginPageBackground)`\n  h1 {\n    text-align: center;\n  }\n`\n\nexport const PasswordLoginPage: React.FC<IPasswordLoginPageProps> = ({\n  model,\n}) => (\n  <StyledPasswordLoginPage>\n    <PageTitle title={i18n.t`Login page`} />\n    <PasswordPageGrid>\n      <PageLayoutGridItem\n        gridRow={2}\n        gridRowSpan={2}\n        gridColumn={6}\n        gridColumnInMobile={2}\n        gridColumnSpan={6}\n        gridRowInMobile={2}\n        gridColumnSpanInMobile={14}\n      >\n        <PageTitle.Display />\n      </PageLayoutGridItem>\n      <PageLayoutGridItem\n        gridRow={4}\n        gridRowSpan={6}\n        gridColumn={6}\n        gridColumnSpan={6}\n        gridRowInMobile={3}\n        gridRowSpanInMobile={3}\n        gridColumnInMobile={2}\n        gridColumnSpanInMobile={14}\n      >\n        <PasswordLoginForm model={model} />\n      </PageLayoutGridItem>\n      <PageLayoutGridItem\n        gridRow={1}\n        gridRowInMobile={6}\n        gridColumn={14}\n        gridColumnSpan={3}\n        gridColumnInMobile={2}\n        gridColumnSpanInMobile={14}\n      >\n        <PasswordResetLink />\n      </PageLayoutGridItem>\n    </PasswordPageGrid>\n    <PasswordLoginError model={model} />\n  </StyledPasswordLoginPage>\n)\n","import { useRouter } from '@speedlo/hooks'\nimport React from 'react'\nimport { Redirect } from 'react-router-dom'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { ROUTE_MAIN } from '../../dashboard/dashboard.routes'\nimport { ROUTE_AUTH_LOGIN } from '../login.routes'\nimport { PasswordLoginPage } from '../pages/PasswordLoginPage'\n\nexport const PasswordLoginRoute: React.FC = () => {\n  const { auth } = useRoot()\n\n  const { match } = useRouter<{ token: string; userId: ID }>({\n    path: `${ROUTE_AUTH_LOGIN}/:token/:userId`,\n  })\n\n  React.useEffect(() => {\n    if (match) {\n      auth.authenticate(window.atob(match.params.token), match.params.userId)\n    }\n  }, [auth, match])\n\n  return auth.isAuthenticatedUser ? (\n    <Redirect to={ROUTE_MAIN} />\n  ) : (\n    <PasswordLoginPage model={auth.provider.passwordLogin} />\n  )\n}\n\nexport default PasswordLoginRoute\n"],"sourceRoot":""}