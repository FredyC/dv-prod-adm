{"version":3,"sources":["atoms/CanMutate.tsx","molecules/PageLayoutFullHeightItem.tsx","atoms/FlexRowSingle.tsx","atoms/FlexColumn.tsx","atoms/Price.tsx","segments/menu/hooks/useMenuRouting.ts","molecules/TouchButtonEdit.tsx","../node_modules/@material-ui/icons/esm/RemoveRedEye.js","molecules/TouchButtonVisibility.tsx","atoms/DataTable.tsx","atoms/ScrollArea.tsx","segments/menu/hooks/useMenu.ts","atoms/CanQuery.tsx","atoms/BlockLoader.tsx","atoms/NoteText.tsx","segments/menu/menu.labels.ts","segments/menu/molecules/RecipeCategoryFilter.tsx","segments/menu/molecules/RecipeTypeSelection.tsx","segments/menu/molecules/RecipeListTable.tsx","segments/menu/organisms/RecipeListLoader.tsx","segments/menu/pages/MenuRecipeListPage.tsx","hooks/useSettings.ts","segments/menu/atoms/MenuCreateButton.tsx","../node_modules/resolve-pathname/esm/resolve-pathname.js","atoms/RelativeLink.tsx","../node_modules/@material-ui/icons/esm/RemoveCircleOutline.js","molecules/TouchButtonRemove.tsx","segments/menu/molecules/MenuFilterInput.tsx","components/FilterInput/FilterInput.tsx","segments/menu/menu.types.ts","atoms/DataList.tsx","../node_modules/@material-ui/icons/esm/Search.js"],"names":["CanMutate","observer","mutationName","children","useCanMutate","StyledPageLayoutFullHeightItem","styled","div","mediaDesktop","props","undefined","widthInColumns","Spacing","LayoutGridCellMargin","column","row","mediaMobile","rowInMobile","forcePercentHeightInMobile","PageHeaderHeight","DefaultSizeUnit","PageLayoutFullHeightItem","withScrollArea","scrollAreaId","forceHeightInMobile","isMobile","useResponsive","id","height","heightUnit","FlexRowSingle","flexWrap","justify","FlexColumn","fixedWidth","width","widthGrowIndex","padding","margin","Price","price","currencyCode","className","formattedPrice","formatPrice","CREATE_PATH","useMenuRouting","itemId","history","useRouterContext","itemType","getQueryParam","useQueryParams","getItemRoute","isCreate","getRecipeCreateRoute","recipeType","ROUTE_MENU_RECIPE","getRecipeEditRoute","recipeId","getCategoryCreateRoute","categoryType","ROUTE_MENU_CATEGORY","getCategoryEditRoute","categoryId","getStockCreateRoute","ROUTE_MENU_STOCK","getStockEditRoute","stockId","redirectToCategoryList","replace","redirectToRecipeList","redirectToStockList","TouchButtonEdit","target","Link","RelativeLink","to","SizerButton","TouchButton","icon","Edit","createSvgIcon","createElement","d","TouchButtonVisibility","isVisible","RemoveRedEye","iconColor","Colors","white","greyMiddle","color","DataTable","items","heightStretch","fullHeight","rowHeight","isLoading","tableProps","rowGetter","React","useCallback","index","noRowsRenderer","BlockLoader","renderTable","autoHeight","headerHeight","rowCount","length","style","outline","disableHeight","scrollElement","window","checkColumnAccess","renderer","canQuery","canMutate","cellProps","result","CanQuery","queryName","ColumnRendererEdit","cellData","ColumnRendererRemove","columnData","TouchButtonRemove","onClick","onRemove","ColumnRendererVisibility","rowData","onToggle","ColumnRendererWithNote","NoteText","noteKey","DataTableEmptyText","text","i18n","ScrollArea","useMenuModel","useSettings","menu","useCanQuery","ScaleOut","keyframes","ScaleOutWebkit","StyledBlockLoader","orange","categories","WareCategoryTypeEnum","Main","i18nMark","SideDish","Cover","recipes","getPriceTypesLabels","WarePriceTypeEnum","Delivery","Inhouse","getCategoryTypeLabel","_","getRecipeTypeLabel","RecipeCategoryFilter","menuModel","useQMenuCategoryFilter","branchId","data","loading","Sizer","SelectControl","key","value","find","idPropEq","categoryFilterId","onChange","setCategoryFilter","options","grouped","RM","groupBy","cat","enum","toString","Object","keys","map","typeString","label","getOptions","isMulti","isClearable","isSearchable","placeholder","getOptionValue","prop","getOptionLabel","propOr","StyledRecipeTypeSelection","RecipeTypeSelection","useState","isOpen","setOpen","onSelect","push","MenuCreateButton","ev","preventDefault","Dialog","open","onClose","DialogTitle","MarginBox","right","green","greyDarkest","RecipeListTable","showEditColumn","showRemoveColumn","showVisibilityColumn","showTypeColumn","Headline","dataKey","ButtonColumnWidthPx","minWidth","cellRenderer","cellDataGetter","ColumnRendererCode","flexGrow","ColumnRendererPrice","priceType","TPriceType","prices","foundPrice","pathEq","code","currency","toLocaleLowerCase","type","RecipeListLoader","useQMenuRecipeList","useMMenuRecipeVisibility","updateVisibility","onVisibilityToggle","visible","optimisticResponse","__typename","filterRecipe","filter","getCodeAndNamePredicate","useLoadingCache","getRecipes","StyledFilterWithTableContainer","MenuRecipeListPage","FullPageLayout","pageTitle","useBackButton","backRoute","ROUTE_SETTINGS","Card","stretchToParent","SettingsCompanyBranchPicker","MenuFilterInput","useRoot","settings","StyledMenuCreateButton","routeTo","button","AddCircle","isAbsolute","pathname","charAt","spliceOne","list","i","k","n","pop","from","hasTrailingSlash","toParts","split","fromParts","isToAbs","isFromAbs","mustEndAbs","concat","last","up","part","unshift","join","substr","linkProps","location","resolveLocation","resolvePathname","RemoveCircleOutline","model","debounceIntervalMs","FilterInput","Search","setValue","useDebounceCallback","useObserver","inputFullWidth","defaultValue","DataList","renderItem","listProps","rowRenderer","renderList"],"mappings":"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","file":"static/js/165.2f75d0ca.chunk.js","sourcesContent":["import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useCanMutate } from '../hooks/useAccessGuard'\nimport { NoAccess } from './NoAccess'\n\ninterface IProps {\n  mutationName: string\n}\n\nexport const CanMutate = observer<IProps>(({ mutationName, children }) => {\n  const canMutate = useCanMutate(mutationName)\n  return canMutate ? (\n    <>{children}</>\n  ) : (\n    <NoAccess>{`No access to mutation ${mutationName}`}</NoAccess>\n  )\n})\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { mediaDesktop, mediaMobile, useResponsive } from '../app/Responsive'\nimport { ScrollArea } from '../atoms/ScrollArea'\nimport { Sizer } from '../atoms/Sizer'\nimport { Spacing } from '../styling'\n\ninterface IPageLayoutFullHeightItemProps {\n  row?: number\n  column?: number\n  rowInMobile?: number\n  widthInColumns?: number\n  withScrollArea?: boolean\n  forcePercentHeightInMobile?: number\n  scrollAreaId?: string\n}\n\nconst gridColumnWidth: string = '6.22vw'\nconst gridColumnHeigth: string = '3.9375rem'\n\nconst leftPos = () => (props: IPageLayoutFullHeightItemProps) => {\n  if (props.column !== undefined) {\n    return (\n      'calc((' +\n      props.column +\n      ' * ' +\n      gridColumnWidth +\n      ') + ' +\n      Spacing.LayoutGridCellMargin +\n      ')'\n    )\n  } else {\n    return Spacing.LayoutGridCellMargin\n  }\n}\nconst widthComputed = () => (props: IPageLayoutFullHeightItemProps) => {\n  if (props.widthInColumns !== undefined) {\n    return (\n      'calc((' +\n      props.widthInColumns +\n      ' * ' +\n      gridColumnWidth +\n      ') - ' +\n      Spacing.LayoutGridCellMargin +\n      ')'\n    )\n  } else {\n    return 'calc(100vh - (2 * ' + Spacing.LayoutGridCellMargin + '))'\n  }\n}\nconst topPos = () => (props: IPageLayoutFullHeightItemProps) => {\n  if (props.row !== undefined) {\n    return (\n      'calc((' +\n      props.row +\n      ' * ' +\n      gridColumnHeigth +\n      ') + ' +\n      Spacing.LayoutGridCellMargin +\n      ')'\n    )\n  } else {\n    return (\n      'calc(' + gridColumnHeigth + ' + ' + Spacing.LayoutGridCellMargin + ')'\n    )\n  }\n}\n\n// eslint-disable-next-line no-unexpected-multiline\nconst StyledPageLayoutFullHeightItem = styled.div<\n  IPageLayoutFullHeightItemProps\n>`\n  ${mediaDesktop`\n  position: fixed;\n  bottom: 0.5rem;\n  width: ${widthComputed()};\n  left: ${leftPos()};\n  top: ${topPos()};`}\n\n  ${mediaMobile`\n    margin: 0;\n    grid-row: ${({ rowInMobile }: IPageLayoutFullHeightItemProps) =>\n      rowInMobile} ;\n    grid-column: span 16;\n    height: ${({\n      forcePercentHeightInMobile,\n    }: IPageLayoutFullHeightItemProps) =>\n      forcePercentHeightInMobile\n        ? `calc(${forcePercentHeightInMobile}vh - ${Spacing.PageHeaderHeight +\n            0.25 +\n            Spacing.DefaultSizeUnit})`\n        : 'unset'} ;\n    position: relative;\n  `}\n`\n\nexport const PageLayoutFullHeightItem: React.FC<\n  IPageLayoutFullHeightItemProps\n> = ({\n  children,\n  row = 1,\n  rowInMobile = 16,\n  column = 0,\n  widthInColumns = 16,\n  withScrollArea = false,\n  scrollAreaId,\n  forcePercentHeightInMobile: forceHeightInMobile,\n}) => {\n  const { isMobile } = useResponsive()\n\n  return (\n    <StyledPageLayoutFullHeightItem\n      column={column}\n      row={row}\n      rowInMobile={rowInMobile}\n      widthInColumns={widthInColumns}\n      withScrollArea={withScrollArea}\n      forcePercentHeightInMobile={forceHeightInMobile}\n    >\n      {withScrollArea && !isMobile ? (\n        <ScrollArea id={scrollAreaId}>{children}</ScrollArea>\n      ) : (\n        <Sizer height={100} heightUnit=\"%\">\n          {children}\n        </Sizer>\n      )}\n    </StyledPageLayoutFullHeightItem>\n  )\n}\n","import styled from 'styled-components'\n\ninterface IProps {\n  flexWrap?: string\n  justify?: string\n}\n\nexport const FlexRowSingle = styled.div<IProps>`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: ${({ flexWrap = 'unset' }: IProps) => flexWrap};\n  justify-content: ${({ justify = 'space-between' }: IProps) => justify};\n`\n","import styled from 'styled-components'\n\ninterface IFlexColumnProps {\n  fixedWidth?: boolean\n  width?: string\n  widthGrowIndex?: number\n  padding?: string\n  margin?: string\n}\n\nexport const FlexColumn = styled.div`\n  flex: ${getFlexValue};\n  padding: ${getPadding};\n  margin: ${getMargin};\n`\n\nfunction getFlexValue({\n  fixedWidth = false,\n  width,\n  widthGrowIndex = 0,\n}: IFlexColumnProps) {\n  return fixedWidth ? (width ? `0 0 ${width}` : '0 0') : `${widthGrowIndex} 0`\n}\n\nfunction getPadding({ padding = '0.25rem' }: IFlexColumnProps) {\n  return padding\n}\n\nfunction getMargin({ margin = '' }: IFlexColumnProps) {\n  return margin\n}\n","import React from 'react'\n\nimport { formatPrice } from '../helpers/formats'\n\ninterface IPriceProps {\n  children?: number\n  price?: number\n  currencyCode?: string\n  className?: string\n}\n\nexport const Price: React.FC<IPriceProps> = ({\n  children,\n  price,\n  currencyCode,\n  className,\n}) => {\n  const formattedPrice = formatPrice(children || price)\n  return (\n    <span className={className}>\n      {currencyCode ? `${formattedPrice} ${currencyCode}` : formattedPrice}\n    </span>\n  )\n}\n","import { useRouterContext } from '@speedlo/hooks'\n\nimport { WareCategoryTypeEnum } from '../../../graph/generated'\nimport { useQueryParams } from '../../../hooks/useQueryParams'\nimport {\n  ROUTE_MENU_CATEGORY,\n  ROUTE_MENU_RECIPE,\n  ROUTE_MENU_STOCK,\n} from '../menu.routes'\nimport { TCategoryType, TRecipeType } from '../menu.types'\n\nconst CREATE_PATH = 'create'\n\nexport function useMenuRouting(itemId?: ID) {\n  const { history } = useRouterContext()\n\n  const { getQueryParam } = useQueryParams()\n  const itemType = getQueryParam('type') as Maybe<WareCategoryTypeEnum>\n\n  const isCreate = itemId === CREATE_PATH\n\n  const getItemRoute = (itemId: ID, itemType?: WareCategoryTypeEnum) => {\n    return itemType ? `${itemId}?type=${itemType}` : itemId\n  }\n\n  const getRecipeCreateRoute = (recipeType: TRecipeType) =>\n    getItemRoute(`${ROUTE_MENU_RECIPE}/${CREATE_PATH}`, recipeType)\n  const getRecipeEditRoute = (recipeId: ID, recipeType?: TRecipeType) =>\n    getItemRoute(`${ROUTE_MENU_RECIPE}/${recipeId}`, recipeType)\n\n  const getCategoryCreateRoute = (categoryType: TCategoryType) =>\n    getItemRoute(`${ROUTE_MENU_CATEGORY}/${CREATE_PATH}`, categoryType)\n  const getCategoryEditRoute = (categoryId: ID, categoryType?: TCategoryType) =>\n    getItemRoute(`${ROUTE_MENU_CATEGORY}/${categoryId}`, categoryType)\n\n  const getStockCreateRoute = () =>\n    getItemRoute(`${ROUTE_MENU_STOCK}/${CREATE_PATH}`)\n  const getStockEditRoute = (stockId: ID) =>\n    getItemRoute(`${ROUTE_MENU_STOCK}/${stockId}`)\n\n  const redirectToRecipeList = () => {\n    history.replace(ROUTE_MENU_RECIPE)\n  }\n  const redirectToCategoryList = () => {\n    history.replace(ROUTE_MENU_CATEGORY)\n  }\n  const redirectToStockList = () => {\n    history.replace(ROUTE_MENU_STOCK)\n  }\n\n  return {\n    itemType,\n    isCreate,\n    getItemRoute,\n    getRecipeCreateRoute,\n    getRecipeEditRoute,\n    getCategoryCreateRoute,\n    getCategoryEditRoute,\n    getStockCreateRoute,\n    getStockEditRoute,\n    redirectToCategoryList,\n    redirectToRecipeList,\n    redirectToStockList,\n  }\n}\n","import { Edit } from '@material-ui/icons'\nimport { LocationDescriptor } from 'history'\nimport React, { ComponentType } from 'react'\n\nimport { RelativeLink } from '../atoms/RelativeLink'\nimport { SizerButton } from '../atoms/SizerButton'\nimport { ITouchButtonProps, TouchButton } from './TouchButton'\n\ninterface IProps extends LegacyOmit<ITouchButtonProps, 'onClick'> {\n  target: LocationDescriptor\n  Link?: ComponentType<{ to: LocationDescriptor }>\n}\n\nexport const TouchButtonEdit: React.FC<IProps> = ({\n  target,\n  Link = RelativeLink,\n  ...props\n}) => (\n  <Link to={target}>\n    <SizerButton>\n      <TouchButton icon={Edit} {...props} />\n    </SizerButton>\n  </Link>\n)\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n}), 'RemoveRedEye');","import { RemoveRedEye } from '@material-ui/icons'\nimport React from 'react'\n\nimport { SizerButton } from '../atoms/SizerButton'\nimport { ITouchButtonProps, TouchButton } from '../molecules/TouchButton'\nimport { Colors } from '../styling'\n\ninterface IProps extends ITouchButtonProps {\n  isVisible: boolean\n}\n\nexport const TouchButtonVisibility: React.FC<IProps> = ({\n  isVisible,\n  ...props\n}) => (\n  <SizerButton>\n    <TouchButton\n      icon={RemoveRedEye}\n      iconColor={isVisible ? Colors.white : Colors.greyMiddle}\n      color={Colors.greyMiddle}\n      {...props}\n    />\n  </SizerButton>\n)\n","import 'react-virtualized/styles.css'\n\nimport React from 'react'\nimport {\n  AutoSizer,\n  Column,\n  Index,\n  Table,\n  TableCellProps,\n  TableCellRenderer,\n  TableProps,\n  WindowScroller,\n} from 'react-virtualized'\nimport styled from 'styled-components'\n\nimport { i18n } from '../i18n'\nimport { TouchButtonEdit } from '../molecules/TouchButtonEdit'\nimport { TouchButtonRemove } from '../molecules/TouchButtonRemove'\nimport { TouchButtonVisibility } from '../molecules/TouchButtonVisibility'\nimport { Colors } from '../styling'\nimport { BlockLoader } from './BlockLoader'\nimport { CanMutate } from './CanMutate'\nimport { CanQuery } from './CanQuery'\nimport { NoteText } from './NoteText'\n\nexport interface IDataTableProps<T> extends Partial<TableProps> {\n  items: RoA<T>\n  rowHeight?: number\n  isLoading?: boolean\n  heightStretch?: boolean\n  fullHeight?: boolean\n}\n\nexport const DataTable = <T extends {}>(props: IDataTableProps<T>) => {\n  const {\n    items,\n    heightStretch = false,\n    fullHeight = false,\n    rowHeight = 60,\n    isLoading = false,\n    children,\n    ...tableProps\n  } = props\n\n  const rowGetter = React.useCallback(({ index }: Index) => items[index], [\n    items,\n  ])\n\n  const noRowsRenderer = React.useCallback(\n    () => (isLoading ? <BlockLoader /> : null),\n    [isLoading],\n  )\n\n  const renderTable = (width: number, height: number) => {\n    return (\n      <Table\n        autoHeight={!heightStretch && !fullHeight}\n        width={width}\n        height={height}\n        headerHeight={50}\n        rowCount={items ? items.length : 0}\n        rowHeight={rowHeight}\n        rowGetter={rowGetter}\n        noRowsRenderer={noRowsRenderer}\n        style={{ outline: 'none' }}\n        {...tableProps}\n      >\n        {children}\n      </Table>\n    )\n  }\n\n  if (process.env.NODE_ENV === 'test') {\n    // for tests to work we need to render table with some dimensions (otherwise the virtual table would be 0,0)\n    const columnWidth = 200\n    return renderTable(\n      React.Children.count(children) * columnWidth,\n      items.length * rowHeight,\n    )\n  }\n\n  if (fullHeight) {\n    return (\n      <AutoSizer disableHeight={true}>\n        {({ width }) => renderTable(width, items.length * rowHeight)}\n      </AutoSizer>\n    )\n  }\n\n  if (heightStretch) {\n    return (\n      <AutoSizer>{({ width, height }) => renderTable(width, height)}</AutoSizer>\n    )\n  }\n\n  return (\n    <WindowScroller scrollElement={window}>\n      {({ height }) => (\n        <AutoSizer disableHeight={true}>\n          {({ width }) => renderTable(width, height)}\n        </AutoSizer>\n      )}\n    </WindowScroller>\n  )\n}\n\nexport function checkColumnAccess(\n  { canQuery, canMutate }: { canQuery?: string; canMutate?: string },\n  renderer: TableCellRenderer,\n) {\n  return (cellProps: TableCellProps) => {\n    let result = renderer(cellProps)\n    if (canQuery) {\n      result = <CanQuery queryName={canQuery}>{result}</CanQuery>\n    }\n    if (canMutate) {\n      result = <CanMutate mutationName={canMutate}>{result}</CanMutate>\n    }\n    return result\n  }\n}\n\nexport function ColumnRendererEdit({ cellData }: TableCellProps) {\n  return <TouchButtonEdit target={cellData} />\n}\n\nexport function ColumnRendererRemove({ cellData, columnData }: TableCellProps) {\n  return (\n    <TouchButtonRemove\n      onClick={() => columnData.onRemove && columnData.onRemove(cellData)}\n    />\n  )\n}\n\nexport function ColumnRendererVisibility({\n  cellData,\n  columnData,\n  rowData,\n}: TableCellProps) {\n  return (\n    <TouchButtonVisibility\n      isVisible={cellData}\n      onClick={() => columnData.onToggle(rowData.id, !cellData)}\n    />\n  )\n}\n\nexport function ColumnRendererWithNote({\n  cellData,\n  rowData,\n  columnData,\n}: TableCellProps) {\n  return (\n    <>\n      {cellData}\n      <NoteText>{rowData[columnData.noteKey] || ''}</NoteText>\n    </>\n  )\n}\n\nexport const DataTableEmptyText = styled(\n  ({ text = i18n.t`Table is empty`, ...props }: { text?: string }) => (\n    <div {...props}>{text}</div>\n  ),\n)`\n  padding: 1rem;\n  color: ${Colors.greyMiddle};\n  font-style: 'italic';\n`\n\nexport { Column }\n","import styled from 'styled-components'\n\nexport const ScrollArea = styled.div`\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  height: 100%;\n`\n","import { useSettings } from '../../../hooks/useSettings'\n\nexport function useMenuModel() {\n  const { menu } = useSettings()\n  return menu\n}\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useCanQuery } from '../hooks/useAccessGuard'\nimport { NoAccess } from './NoAccess'\n\ninterface IProps {\n  queryName: string\n}\n\nexport const CanQuery = observer<IProps>(({ queryName, children }) => {\n  const canQuery = useCanQuery(queryName)\n  return canQuery ? (\n    <>{children}</>\n  ) : (\n    <NoAccess>{`No access to query ${queryName}`}</NoAccess>\n  )\n})\n","import React from 'react'\nimport styled, { keyframes } from 'styled-components/macro'\n\nimport { Colors } from '../styling'\n\nconst ScaleOut = keyframes`\n  0% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  100% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n    opacity: 0;\n  }\n`\n\nconst ScaleOutWebkit = keyframes`\n  0% {\n    -webkit-transform: scale(0);\n  }\n  100% {\n    -webkit-transform: scale(1);\n    opacity: 0;\n  }\n`\n\nconst StyledBlockLoader = styled.div`\n  width: 40px;\n  height: 40px;\n  margin: 100px auto;\n  background-color: ${Colors.orange};\n\n  border-radius: 100%;\n  -webkit-animation: ${ScaleOutWebkit} 1s infinite ease-in-out;\n  animation: ${ScaleOut} 1s infinite ease-in-out;\n`\n\nexport const BlockLoader: React.FC = props => {\n  return (\n    <StyledBlockLoader>\n      <div className=\"bounce1\" />\n      <div className=\"bounce2\" />\n      <div className=\"bounce3\" />\n    </StyledBlockLoader>\n  )\n}\n","import styled from 'styled-components'\n\nimport { Colors } from '../styling'\n\nexport const NoteText = styled.div`\n  color: ${Colors.greyMiddle};\n`\n","import { i18nMark } from '@lingui/core'\n\nimport { WareCategoryTypeEnum, WarePriceTypeEnum } from '../../graph/generated'\nimport { i18n } from '../../i18n'\nimport { TCategoryType, TRecipeType } from './menu.types'\n\nconst categories = {\n  [WareCategoryTypeEnum.Main]: i18nMark('Ware categories'),\n  [WareCategoryTypeEnum.SideDish]: i18nMark('Sidedish categories'),\n  [WareCategoryTypeEnum.Cover]: i18nMark('Cover categories'),\n}\n\nconst recipes = {\n  [WareCategoryTypeEnum.Main]: i18nMark('Ware recipe'),\n  [WareCategoryTypeEnum.SideDish]: i18nMark('Sidedish recipe'),\n  [WareCategoryTypeEnum.Cover]: i18nMark('Cover recipe'),\n}\n\nexport const getPriceTypesLabels = () => ({\n  [WarePriceTypeEnum.Delivery]: i18n.t`Delivery sale`,\n  [WarePriceTypeEnum.Inhouse]: i18n.t`Local sale`,\n})\n\nexport function getCategoryTypeLabel(categoryType?: TCategoryType) {\n  return categoryType ? i18n._(categories[categoryType]) : ''\n}\n\nexport function getRecipeTypeLabel(recipeType?: TRecipeType) {\n  return recipeType ? i18n._(recipes[recipeType]) : ''\n}\n","import { idPropEq } from '@speedlo/tools'\nimport { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { SelectControl } from '../../../atoms/SelectControl'\nimport { Sizer } from '../../../atoms/Sizer'\nimport {\n  QMenuCategoryFilterCategories,\n  useQMenuCategoryFilter,\n} from '../../../graph/generated'\nimport { RM } from '../../../helpers/ramda'\nimport { i18n } from '../../../i18n'\nimport { useMenuModel } from '../hooks/useMenu'\nimport { getCategoryTypeLabel } from '../menu.labels'\nimport { TCategoryType } from '../menu.types'\n\ntype TCategory = QMenuCategoryFilterCategories\n\nexport const RecipeCategoryFilter = observer(() => {\n  const menuModel = useMenuModel()\n\n  const { data, loading } = useQMenuCategoryFilter({\n    branchId: menuModel.branchId,\n  })\n\n  const getOptions = () => {\n    if (!(data && data.categories)) {\n      return []\n    }\n    const grouped = RM.groupBy(\n      cat => cat.categoryType.enum.toString(),\n      data.categories,\n    )\n    return Object.keys(grouped).map(typeString => ({\n      label: getCategoryTypeLabel(typeString as TCategoryType),\n      options: grouped[typeString],\n    }))\n  }\n\n  return (\n    <Sizer width={17}>\n      <SelectControl<TCategory>\n        key={menuModel.branchId}\n        value={\n          loading\n            ? undefined\n            : data.categories.find(idPropEq(menuModel.categoryFilterId))\n        }\n        onChange={value => {\n          menuModel.setCategoryFilter(value ? (value as TCategory).id : null)\n        }}\n        options={getOptions()}\n        isMulti={false}\n        isClearable={true}\n        isSearchable={true}\n        isLoading={loading}\n        placeholder={i18n.t`Filter by category`}\n        getOptionValue={RM.prop('id')}\n        getOptionLabel={RM.propOr('', 'nameLabel')}\n      />\n    </Sizer>\n  )\n})\n","import { Trans } from '@lingui/macro'\nimport { Dialog, DialogTitle } from '@material-ui/core'\nimport { useRouterContext } from '@speedlo/hooks'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { MarginBox } from '../../../atoms/MarginBox'\nimport { Sizer } from '../../../atoms/Sizer'\nimport { WareCategoryTypeEnum } from '../../../graph/generated'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors } from '../../../styling'\nimport { MenuCreateButton } from '../atoms/MenuCreateButton'\nimport { useMenuRouting } from '../hooks/useMenuRouting'\nimport { TRecipeType } from '../menu.types'\n\nconst StyledRecipeTypeSelection = styled.div`\n  button {\n    margin: 0.5rem 1rem;\n  }\n`\n\nexport const RecipeTypeSelection: React.FC = () => {\n  const [isOpen, setOpen] = React.useState(false)\n  const { history } = useRouterContext()\n  const { getRecipeCreateRoute } = useMenuRouting()\n\n  const onSelect = (recipeType: TRecipeType) => () => {\n    history.push(getRecipeCreateRoute(recipeType))\n  }\n\n  return (\n    <>\n      <MenuCreateButton\n        onClick={ev => {\n          ev.preventDefault()\n          setOpen(true)\n        }}\n      />\n      <Dialog open={isOpen} onClose={() => setOpen(false)}>\n        <StyledRecipeTypeSelection>\n          <DialogTitle>\n            <Trans>Select item type</Trans>\n          </DialogTitle>\n          <Sizer width={14}>\n            <MarginBox right={2}>\n              <TouchButton\n                onClick={onSelect(WareCategoryTypeEnum.Main)}\n                color={Colors.green}\n              >\n                <Trans>Ware</Trans>\n              </TouchButton>\n\n              <TouchButton\n                onClick={onSelect(WareCategoryTypeEnum.SideDish)}\n                color={Colors.greyDarkest}\n              >\n                <Trans>Sidedish</Trans>\n              </TouchButton>\n              <TouchButton\n                onClick={onSelect(WareCategoryTypeEnum.Cover)}\n                color={Colors.greyDarkest}\n              >\n                <Trans>Cover</Trans>\n              </TouchButton>\n            </MarginBox>\n          </Sizer>\n        </StyledRecipeTypeSelection>\n      </Dialog>\n    </>\n  )\n}\n","import React from 'react'\nimport { BulletList } from 'react-content-loader'\nimport { TableCellProps } from 'react-virtualized'\n\nimport {\n  checkColumnAccess,\n  Column,\n  ColumnRendererEdit,\n  ColumnRendererRemove,\n  ColumnRendererVisibility,\n  ColumnRendererWithNote,\n  DataTable,\n} from '../../../atoms/DataTable'\nimport { Headline } from '../../../atoms/Headline'\nimport { Price } from '../../../atoms/Price'\nimport {\n  FMenuRecipePricingFragment,\n  QMenuRecipeListRecipes,\n  WareCategoryTypeEnum,\n} from '../../../graph/generated'\nimport { RM } from '../../../helpers/ramda'\nimport { i18n } from '../../../i18n'\nimport { Spacing } from '../../../styling'\nimport { useMenuRouting } from '../hooks/useMenuRouting'\nimport { TPriceType } from '../menu.types'\n\ntype TRecipe = QMenuRecipeListRecipes\n\ninterface IProps {\n  recipes: RoA<TRecipe>\n  isLoading?: boolean\n  showEditColumn?: boolean\n  showRemoveColumn?: boolean\n  showVisibilityColumn?: boolean\n  showTypeColumn?: boolean\n  onToggle?(recipeId: ID, visible: boolean): void\n  onRemove?(recipeId: ID): void\n  heightStretch?: boolean\n}\n\nexport const RecipeListTable: React.FC<IProps> = ({\n  recipes,\n  onToggle,\n  onRemove,\n  showEditColumn = true,\n  showRemoveColumn = false,\n  showVisibilityColumn = true,\n  showTypeColumn = false,\n  isLoading = false,\n  heightStretch = false,\n}) => {\n  const props = {\n    isLoading,\n    items: recipes,\n    heightStretch,\n    noRowsRenderer: () =>\n      isLoading ? (\n        <BulletList />\n      ) : (\n        <Headline>{i18n.t`No recipes has been found`}</Headline>\n      ),\n  }\n  const { getRecipeEditRoute } = useMenuRouting()\n  return (\n    <DataTable {...props}>\n      {showEditColumn && (\n        <Column\n          dataKey=\"id\"\n          width={Spacing.ButtonColumnWidthPx}\n          minWidth={Spacing.ButtonColumnWidthPx}\n          cellRenderer={checkColumnAccess(\n            { canQuery: 'recipe' },\n            ColumnRendererEdit,\n          )}\n          cellDataGetter={({ rowData }) =>\n            getRecipeEditRoute(rowData.id, rowData.recipeType.enum)\n          }\n        />\n      )}\n      {showRemoveColumn && (\n        <Column\n          dataKey=\"id\"\n          width={Spacing.ButtonColumnWidthPx}\n          minWidth={Spacing.ButtonColumnWidthPx}\n          cellRenderer={ColumnRendererRemove}\n          columnData={{ onRemove }}\n        />\n      )}\n      {showVisibilityColumn && (\n        <Column\n          dataKey=\"visible\"\n          width={Spacing.ButtonColumnWidthPx}\n          minWidth={Spacing.ButtonColumnWidthPx}\n          cellRenderer={checkColumnAccess(\n            { canMutate: 'updateRecipe' },\n            ColumnRendererVisibility,\n          )}\n          columnData={{ onToggle }}\n        />\n      )}\n      {showTypeColumn && (\n        <Column\n          dataKey=\"recipeType\"\n          width={100}\n          label={i18n.t`Type`}\n          cellRenderer={ColumnRendererCode}\n        />\n      )}\n      <Column dataKey=\"code\" width={100} label={i18n.t`Code`} />\n      <Column\n        dataKey=\"nameLabel\"\n        width={600}\n        flexGrow={2}\n        label={i18n.t`Name`}\n        cellRenderer={ColumnRendererWithNote}\n        columnData={{ noteKey: 'internalNote' }}\n      />\n      <Column\n        dataKey=\"prices\"\n        width={150}\n        label={i18n.t`Delivery sale`}\n        cellRenderer={ColumnRendererPrice}\n        columnData={{ priceType: TPriceType.Delivery }}\n      />\n      <Column\n        dataKey=\"prices\"\n        width={150}\n        label={i18n.t`Local sale`}\n        cellRenderer={ColumnRendererPrice}\n        columnData={{ priceType: TPriceType.Inhouse }}\n      />\n      <Column\n        dataKey=\"availableAmount\"\n        label={i18n.t('recipe.list.availableAmount')`Stock`}\n        width={100}\n      />\n      <Column\n        dataKey=\"internalNote\"\n        label={i18n.t`Internal note`}\n        width={200}\n      />\n    </DataTable>\n  )\n}\n\nfunction ColumnRendererPrice({\n  cellData: prices,\n  columnData: { priceType },\n}: TableCellProps) {\n  const foundPrice = (prices as RoA<FMenuRecipePricingFragment>).find(\n    RM.pathEq(['priceType', 'enum'], priceType),\n  )\n  if (foundPrice) {\n    const {\n      value,\n      currency: { code },\n    } = foundPrice.price\n    return <Price currencyCode={code}>{value}</Price>\n  }\n  return <i>{i18n.t`Not set`.toLocaleLowerCase()}</i>\n}\n\nfunction ColumnRendererCode({ rowData }: TableCellProps) {\n  const type: WareCategoryTypeEnum = rowData.recipeType.enum\n  if (type === WareCategoryTypeEnum.SideDish) {\n    return i18n.t`Sidedish`.toLocaleLowerCase()\n  }\n  if (type === WareCategoryTypeEnum.Cover) {\n    return i18n.t`Cover`.toLocaleLowerCase()\n  }\n  return i18n.t`Ware`.toLocaleLowerCase()\n}\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport {\n  FMenuRecipeInListFragment,\n  useMMenuRecipeVisibility,\n  useQMenuRecipeList,\n} from '../../../graph/generated'\nimport { useLoadingCache } from '../../../hooks/useLoadingCache'\nimport { useMenuModel } from '../hooks/useMenu'\nimport { RecipeListTable } from '../molecules/RecipeListTable'\n\nexport const RecipeListLoader = observer(() => {\n  const menuModel = useMenuModel()\n  const { data, loading } = useQMenuRecipeList({\n    branchId: menuModel.branchId,\n    categoryId: menuModel.categoryFilterId,\n  })\n\n  const [updateVisibility] = useMMenuRecipeVisibility()\n\n  const onVisibilityToggle = React.useCallback(\n    (recipeId: ID, visible: boolean) => {\n      updateVisibility(\n        {\n          recipeId,\n          visible,\n        },\n        {\n          optimisticResponse: {\n            updateVisibility: {\n              __typename: 'Recipe',\n              id: recipeId,\n              visible,\n            },\n          },\n        },\n      )\n    },\n    [updateVisibility],\n  )\n\n  const filterRecipe = menuModel.filter.getCodeAndNamePredicate()\n\n  const getRecipes = useLoadingCache<RoA<FMenuRecipeInListFragment>>()\n  const recipes = getRecipes(loading, () => data.recipes.filter(filterRecipe))\n\n  return (\n    <RecipeListTable\n      recipes={recipes || []}\n      onToggle={onVisibilityToggle}\n      isLoading={loading}\n      heightStretch={true}\n      showTypeColumn={true}\n    />\n  )\n})\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { CanMutate } from '../../../atoms/CanMutate'\nimport { Card } from '../../../atoms/Card'\nimport { FlexColumn } from '../../../atoms/FlexColumn'\nimport { FlexRowSingle } from '../../../atoms/FlexRowSingle'\nimport { i18n } from '../../../i18n'\nimport { FullPageLayout } from '../../../molecules/FullPageLayout'\nimport { PageLayoutFullHeightItem } from '../../../molecules/PageLayoutFullHeightItem'\nimport { SettingsCompanyBranchPicker } from '../../settings/organisms/SettingsCompanyBranchPicker'\nimport { ROUTE_SETTINGS } from '../../settings/settings.routes'\nimport { MenuFilterInput } from '../molecules/MenuFilterInput'\nimport { RecipeCategoryFilter } from '../molecules/RecipeCategoryFilter'\nimport { RecipeTypeSelection } from '../molecules/RecipeTypeSelection'\nimport { RecipeListLoader } from '../organisms/RecipeListLoader'\n\nexport const StyledFilterWithTableContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n\n  & .filter {\n    flex: 0 0 auto;\n  }\n\n  & .table {\n    flex: 1 1 0;\n    min-height: 0;\n  }\n`\n\nexport const MenuRecipeListPage: React.FC = props => (\n  <FullPageLayout\n    pageTitle={i18n.t`Recipe overview`}\n    useBackButton\n    backRoute={ROUTE_SETTINGS}\n  >\n    <PageLayoutFullHeightItem forcePercentHeightInMobile={100}>\n      <Card stretchToParent={true}>\n        <StyledFilterWithTableContainer>\n          <div className=\"filter\">\n            <FlexRowSingle justify=\"start\" flexWrap=\"wrap\">\n              <FlexColumn>\n                <SettingsCompanyBranchPicker width={20} />\n              </FlexColumn>\n              <FlexColumn>\n                <MenuFilterInput />\n              </FlexColumn>\n              <FlexColumn>\n                <RecipeCategoryFilter />\n              </FlexColumn>\n            </FlexRowSingle>\n            <CanMutate mutationName=\"createRecipe\">\n              <RecipeTypeSelection />\n            </CanMutate>\n          </div>\n          <div className=\"table\">\n            <RecipeListLoader />\n          </div>\n        </StyledFilterWithTableContainer>\n      </Card>\n    </PageLayoutFullHeightItem>\n  </FullPageLayout>\n)\n","import { useRoot } from '../atoms/RootProvider'\n\nexport function useSettings() {\n  const { settings } = useRoot()\n  return settings\n}\n","import { AddCircle } from '@material-ui/icons'\nimport { LocationDescriptor } from 'history'\nimport React, { MouseEvent } from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport { SizerButton } from '../../../atoms/SizerButton'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors } from '../../../styling'\n\ninterface IProps {\n  routeTo?: LocationDescriptor\n  onClick?: (event: MouseEvent<HTMLButtonElement>) => void\n}\n\nconst StyledMenuCreateButton = styled.div`\n  position: absolute;\n  right: 0;\n  z-index: 5;\n`\n\nexport const MenuCreateButton: React.FC<IProps> = ({ routeTo, onClick }) => {\n  const button = (\n    <SizerButton>\n      <TouchButton icon={AddCircle} color={Colors.green} onClick={onClick} />\n    </SizerButton>\n  )\n\n  return (\n    <StyledMenuCreateButton>\n      {routeTo ? <Link to={routeTo}>{button}</Link> : button}\n    </StyledMenuCreateButton>\n  )\n}\n","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n} // About 1.5x faster than the two-arg version of Array#splice()\n\n\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n} // This implementation is based heavily on node's url.parse\n\n\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n  var hasTrailingSlash;\n\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) {\n    fromParts.unshift('..');\n  }\n  if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n  var result = fromParts.join('/');\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n  return result;\n}\n\nexport default resolvePathname;","import { LocationDescriptor } from 'history'\nimport React from 'react'\nimport { Link, LinkProps, Route } from 'react-router-dom'\nimport resolvePathname from 'resolve-pathname'\n\ninterface IRelativeLinkProps extends LinkProps {\n  to: LocationDescriptor\n  from?: string\n}\n\nexport const RelativeLink: React.FC<IRelativeLinkProps> = ({\n  to,\n  from,\n  ...linkProps\n}) => (\n  <Route\n    children={({ location }) => (\n      <Link\n        to={resolveLocation(to, from || `${location.pathname}/`)}\n        {...linkProps}\n      />\n    )}\n  />\n)\n\nexport function resolveLocation(to: LocationDescriptor, from: string) {\n  if (typeof to === 'string') {\n    return resolvePathname(to, from)\n  }\n  const resolved = resolvePathname(to.pathname || '', from)\n  return { ...to, pathname: resolved }\n}\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'RemoveCircleOutline');","import { RemoveCircleOutline } from '@material-ui/icons'\nimport React from 'react'\n\nimport { SizerButton } from '../atoms/SizerButton'\nimport { ITouchButtonProps, TouchButton } from './TouchButton'\n\ninterface IProps extends ITouchButtonProps {}\n\nexport const TouchButtonRemove: React.FC<IProps> = ({ ...props }) => (\n  <SizerButton>\n    <TouchButton type=\"button\" icon={RemoveCircleOutline} {...props} />\n  </SizerButton>\n)\n","import React from 'react'\n\nimport { FilterInput } from '../../../components/FilterInput/FilterInput'\nimport { i18n } from '../../../i18n'\nimport { useMenuModel } from '../hooks/useMenu'\n\ninterface IProps {}\n\nexport const MenuFilterInput: React.FC<IProps> = () => {\n  const menuModel = useMenuModel()\n  return (\n    <FilterInput\n      placeholder={i18n.t`Filter by name or code`}\n      model={menuModel.filter}\n      debounceIntervalMs={250}\n    />\n  )\n}\n","import { Search, SvgIconComponent } from '@material-ui/icons'\nimport { useDebounceCallback } from '@speedlo/hooks'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { FormInputStyled } from '../../atoms/FormInputStyled'\nimport { IconLine } from '../../atoms/IconLine'\nimport { Sizer } from '../../atoms/Sizer'\nimport { TFilterInputModel } from './FilterInputModel'\n\ninterface IProps {\n  model: TFilterInputModel\n  icon?: SvgIconComponent\n  placeholder?: string\n  debounceIntervalMs?: number\n}\n\nexport const FilterInput: React.FC<IProps> = ({\n  model,\n  icon = Search,\n  placeholder,\n  debounceIntervalMs = 0,\n}) => {\n  const setValue = useDebounceCallback((value: string) => {\n    model.setValue(value)\n  }, debounceIntervalMs)\n\n  const onChange = React.useCallback(\n    (ev: React.ChangeEvent<HTMLInputElement>) => {\n      setValue(ev.target.value)\n    },\n    [setValue],\n  )\n  return useObserver(() => (\n    <IconLine icon={icon}>\n      <Sizer width={17}>\n        <FormInputStyled\n          inputFullWidth={true}\n          defaultValue={model.value}\n          onChange={onChange}\n          placeholder={placeholder}\n        />\n      </Sizer>\n    </IconLine>\n  ))\n}\n","import {\n  AllergenEnum,\n  FieldStateEnum,\n  FMenuCategoryInFormFragment,\n  FMenuRecipeInFormFragment,\n  FMenuStockItemFragment,\n  InputRecipeTranslation,\n  InputWareCategoryTranslation,\n  OrderOriginCategoryEnum,\n  WareCategoryTypeEnum,\n  WarePriceTypeEnum,\n  WareUnitEnum,\n} from '../../graph/generated'\nimport { WithTranslations } from './hooks/useMenuTranslations'\n\nexport {\n  WareCategoryTypeEnum as TCategoryType,\n  WareCategoryTypeEnum as TRecipeType,\n  WarePriceTypeEnum as TPriceType,\n} from '../../graph/generated'\n\nexport type TAssocRecipe = {\n  warePriceType: WarePriceTypeEnum\n  associatedRecipe: ID\n  nameLabel?: string\n  formattedPrice?: string\n}\n\nexport type TIngredient = {\n  stockItem: ID\n  label: string\n  quantity: number | string\n  unitLabel: string\n  allergens: AllergenEnum[]\n}\n\nexport type TMenuItemType = WareCategoryTypeEnum\n\ninterface WithItemType {\n  itemType: TMenuItemType\n}\n\nexport type TRecipeFormValues = LegacyOmit<\n  FMenuRecipeInFormFragment,\n  'recipeType'\n> &\n  WithItemType &\n  WithTranslations<InputRecipeTranslation> & {\n    associatedRecipes: TAssocRecipe[]\n    ingredients: TIngredient[]\n    prices: {\n      [priceType in WarePriceTypeEnum]: {\n        value: number\n        vatId: MaybeID\n        currencyCode: string\n      }\n    }\n  }\n\nexport type TCategoryFormValues = LegacyOmit<\n  FMenuCategoryInFormFragment,\n  'origins' | 'categoryType'\n> &\n  WithItemType &\n  WithTranslations<InputWareCategoryTranslation> & {\n    origins: OrderOriginCategoryEnum[]\n  }\n\nexport type TStockFormValues = LegacyOmit<\n  FMenuStockItemFragment,\n  'allergens' | 'wareUnit'\n> & {\n  nameLabel: string\n  internalNote: string\n  wareUnit: Maybe<WareUnitEnum>\n  allergens: AllergenEnum[]\n  allowNegative: FieldStateEnum\n  allowNegativeDefault: FieldStateEnum\n}\n","import 'react-virtualized/styles.css'\n\nimport React from 'react'\nimport {\n  AutoSizer,\n  List,\n  ListProps,\n  ListRowRenderer,\n  WindowScroller,\n} from 'react-virtualized'\n\ninterface IColumn {\n  size: string\n}\n\ninterface IDataListProps<T> extends Partial<ListProps> {\n  items: RoA<T>\n  columns?: IColumn[]\n  renderItem(item: T, index: number): ReactNode\n  isLoading?: boolean\n  heightStretch?: boolean\n}\n\nexport function DataList<T>(props: IDataListProps<T>) {\n  const {\n    items,\n    renderItem,\n    heightStretch = false,\n    rowHeight = 60,\n    ...listProps\n  } = props\n\n  const rowRenderer: ListRowRenderer = React.useCallback(\n    ({ key, style, index }) => (\n      <div key={key} style={style}>\n        {renderItem(items[index], index)}\n      </div>\n    ),\n    [renderItem, items],\n  )\n\n  const renderList = (width: number, height: number) => (\n    <List\n      width={width}\n      height={height}\n      headerHeight={50}\n      rowHeight={rowHeight}\n      rowCount={items ? items.length : 0}\n      rowRenderer={rowRenderer}\n      style={{ outline: 'none' }}\n      {...listProps}\n    />\n  )\n\n  return heightStretch ? (\n    <AutoSizer>{({ width, height }) => renderList(width, height)}</AutoSizer>\n  ) : (\n    <WindowScroller scrollElement={window}>\n      {({ height }) => (\n        <AutoSizer disableHeight={true}>\n          {({ width }) => renderList(width, height)}\n        </AutoSizer>\n      )}\n    </WindowScroller>\n  )\n}\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'Search');"],"sourceRoot":""}