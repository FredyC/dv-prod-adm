{"version":3,"sources":["atoms/IconLine.tsx","hooks/useAccessGuard.ts","atoms/CanMutate.tsx","atoms/SelectControl.tsx","atoms/Headline.tsx","atoms/ScrollArea.tsx","molecules/PageLayoutFullHeightItem.tsx","atoms/NoAccess.tsx","atoms/FlexRowSingle.tsx","atoms/FlexColumn.tsx","atoms/HorizontalSeparator.tsx","atoms/SelectControlFlat.tsx","atoms/Loading.tsx","hooks/useAutorunWhenSingleBranch.ts","segments/order/hooks/useOrderListModel.ts","atoms/Price.tsx","molecules/CompanyBranchFlatSelect.tsx","organisms/CompanyBranchPicker.tsx","../node_modules/@speedlo/assets/flags sync /^/.*/.svg$","../node_modules/@speedlo/assets/logos sync /^/logo/-.*/.svg$","atoms/FormGrid.tsx","atoms/CursorContainer.tsx","atoms/CompanyBranch.tsx","molecules/CompanyBranchDropdown.tsx","atoms/CanQuery.tsx","segments/dashboard/atoms/DashboardButton.tsx","atoms/CardDock.tsx","components/forms/FormSubmitButton.tsx","atoms/DateTimeFormatProvider.tsx","atoms/TimeBadge.tsx","atoms/LinkStyled.tsx","../node_modules/@material-ui/icons/esm/CancelOutlined.js","segments/order/atoms/DeliveryTimeBadge.tsx","molecules/PageLayoutItem.tsx","hooks/useUserModel.ts","segments/dashboard/molecules/DashboardPage.tsx","segments/order/atoms/CustomerIdentity.tsx","molecules/ConfirmButton.tsx","atoms/DeliveryMinutes.tsx","segments/order/molecules/NoteLine.tsx","hooks/useConfirmWithTimeout.ts","atoms/FlexDiv.tsx","segments/order/atoms/OrderStarIndicator.tsx","segments/order/molecules/OrderTicker.tsx","segments/order/hooks/useOrderModel.ts","segments/order/hooks/useTimeSelectionDialog.tsx","hooks/useSmartDialog.tsx","../node_modules/resolve-pathname/esm/resolve-pathname.js","atoms/FlexAutoHeight.tsx","atoms/FlexRow.tsx","atoms/RelativeLink.tsx","segments/order/molecules/ContactLines.tsx","segments/order/molecules/OrderCountLine.tsx","segments/order/molecules/OrderWarePriceLine.tsx","segments/order/molecules/OrderDetailTotals.tsx","../node_modules/@material-ui/icons/esm/FormatListNumbered.js","segments/order/molecules/OrderIdLine.tsx","../node_modules/@material-ui/icons/esm/Announcement.js","segments/order/molecules/OrderRuleLines.tsx","../node_modules/@material-ui/icons/esm/Timelapse.js","segments/order/atoms/OrderTimeLabel.tsx","segments/order/molecules/OrderStats.tsx","segments/order/molecules/OrderTimeLine.tsx","segments/order/molecules/OrderWareLine.tsx","segments/order/molecules/OrderWareList.tsx","../node_modules/@material-ui/icons/esm/Menu.js","molecules/HamburgerMenu.tsx","segments/order/molecules/OrderCancelButton.tsx","segments/order/molecules/OrderDeliveryToPickup.tsx","molecules/SelectButton.tsx","segments/order/molecules/PaymentMethodDropdown.tsx","segments/order/molecules/OrderPaymentMethod.tsx","segments/order/molecules/OrderStarButton.tsx","segments/order/molecules/OrderStateButton.tsx","segments/order/atoms/OrderDriverSelect.tsx","segments/order/molecules/OrderStateDeliver.tsx","segments/order/molecules/OrderStateFlowContainer.tsx","../node_modules/@material-ui/icons/esm/Schedule.js","segments/order/molecules/OrderStateTimeNotification.tsx","segments/order/molecules/OrderTransferToBranch.tsx","segments/order/organisms/OrderStateFlow.tsx","segments/order/organisms/OrderDetail.tsx","segments/order/atoms/OrderBox.tsx","atoms/InputDate.tsx","components/forms/FormInputDate.tsx","../node_modules/@material-ui/icons/esm/AccessTime.js","../node_modules/@material-ui/icons/esm/Note.js","../node_modules/@material-ui/icons/esm/Star.js","../node_modules/@material-ui/icons/esm/ErrorOutline.js","../node_modules/@material-ui/icons/esm/Phone.js","../node_modules/@material-ui/icons/esm/MailOutline.js","../node_modules/@material-ui/icons/esm/DirectionsCar.js","../node_modules/@material-ui/icons/esm/Assignment.js","../node_modules/@material-ui/icons/esm/AllInbox.js","../node_modules/normalize-scroll-left/esm/main.js","../node_modules/@material-ui/core/esm/Tab/Tab.js","../node_modules/@material-ui/core/esm/internal/animate.js","../node_modules/@material-ui/core/esm/Tabs/ScrollbarSize.js","../node_modules/@material-ui/core/esm/Tabs/TabIndicator.js","../node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowLeft.js","../node_modules/@material-ui/core/esm/internal/svg-icons/KeyboardArrowRight.js","../node_modules/@material-ui/core/esm/Tabs/TabScrollButton.js","../node_modules/@material-ui/core/esm/Tabs/Tabs.js","../node_modules/@material-ui/pickers/esm/DateTimePicker/DateTimePickerTabs.js","../node_modules/@material-ui/pickers/esm/_shared/icons/DateRangeIcon.js","../node_modules/@material-ui/pickers/esm/_shared/icons/TimeIcon.js","../node_modules/@material-ui/core/esm/Grid/Grid.js","../node_modules/@material-ui/pickers/esm/DateTimePicker/DateTimePickerToolbar.js","../node_modules/@material-ui/pickers/esm/DateTimePicker/DateTimePicker.js","../node_modules/@material-ui/pickers/esm/DatePicker/DatePickerToolbar.js","../node_modules/@material-ui/pickers/esm/DatePicker/DatePicker.js","segments/overview/molecules/ClosureHistoryFilter.tsx","hooks/useExecutableQuery.ts","segments/overview/organisms/ClosureHistoryLoader.tsx","segments/overview/molecules/ClosureHistoryTable.tsx","segments/overview/molecules/ClosureCurrentButton.tsx","segments/overview/molecules/ClosureStatisticsFilter.tsx","segments/overview/pages/ClosureHistoryPage.tsx","atoms/MonospaceOutput.tsx","segments/overview/molecules/ClosureStatisticsContent.tsx","segments/overview/molecules/ClosureHistoryButton.tsx","segments/overview/molecules/ClosureSubmitButton.tsx","segments/overview/organisms/ClosureStatisticsControl.tsx","segments/overview/pages/ClosurePage.tsx","segments/overview/hooks/useStatsFilter.tsx","segments/overview/molecules/OrdersStatisticsList.tsx","segments/overview/molecules/OrdersStatisticsSummary.tsx","segments/overview/molecules/StatisticsBranchFilter.tsx","segments/overview/molecules/StatisticsBaseMultiFilter.tsx","segments/overview/molecules/StatisticsDriversFilter.tsx","atoms/InputDateTime.tsx","components/forms/FormInputDateTime.tsx","segments/overview/molecules/StatisticsPrimaryFilter.tsx","segments/overview/organisms/OrdersStatisticsLoader.tsx","segments/overview/pages/OrdersStatisticsPage.tsx","segments/dashboard/pages/StatsDashboardPage.tsx","segments/overview/molecules/SalesStatisticsContent.tsx","segments/overview/molecules/StatisticsCashboxFilter.tsx","segments/overview/molecules/StatisticsCashiersFilter.tsx","segments/overview/organisms/SalesStatisticsLoader.tsx","segments/overview/pages/SalesStatisticsPage.tsx","segments/overview/routes/OverviewRouting.tsx"],"names":["StyledIconLine","styled","div","labelMargin","labelWidth","labelWidthUnits","StyledGridDescription","mediaMobile","replace","StyledGridContent","IconLine","icon","label","Spacing","DefaultSizeUnit","labelSmallCaps","children","iconComponent","logError","Error","isInFormGrid","useFormGridCheck","descriptionPart","color","Colors","greyDark","className","cn","smallCaps","useAccessGuard","queries","mutations","user","useRoot","every","canQuery","canMutate","useCanQuery","useCanMutate","CanMutate","observer","mutationName","getControlStyles","width","minWidth","invalid","border","red","backgroundColor","errorBackground","greyMiddle","margin","MarginAroundFormComponents","undefined","composeSelectControlStyles","outerStyles","control","base","state","controlStyles","selectProps","menu","menuStyles","zIndex","black","valueContainer","maxHeight","valueContainerStyles","overflowY","SelectControl","props","styles","Headline","h2","light","greyLight","greyDarkest","size","ScrollArea","StyledPageLayoutFullHeightItem","mediaDesktop","widthInColumns","LayoutGridCellMargin","column","row","rowInMobile","forcePercentHeightInMobile","PageHeaderHeight","PageLayoutFullHeightItem","withScrollArea","scrollAreaId","forceHeightInMobile","isMobile","useResponsive","id","Sizer","height","heightUnit","NoAccess","FlexRowSingle","flexWrap","justify","FlexColumn","fixedWidth","widthGrowIndex","padding","HorizontalSeparatorStyled","HorizontalSeparator","visible","StyledSelectControlFlat","textColor","SelectControlFlat","items","formatItem","RM","prop","isMulti","isClearable","isInvalid","disabled","selectedItem","selectedItems","onSingleSelection","onMultiSelection","hasSingleItem","length","isItemSelected","item","Array","isArray","contains","equals","updateSelection","without","concat","interactive","active","onClick","map","idx","formatted","key","Loading","text","useAutorunWhenSingleBranch","onSingleBranch","React","useEffect","autorun","isReady","hasSingleBranch","branches","useOrderListModel","useOrderModel","list","Price","price","currencyCode","formattedPrice","formatPrice","CompanyBranchFlatSelect","selectedBranch","selectedBranches","title","brand","name","CompanyBranchPicker","breakpoint","hideWhenSingleBranch","onSelectionChange","onSelectionClear","getDropdownProps","isSelected","branch","includes","find","filter","selected","CompanyBranchDropdown","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","code","keys","Object","resolve","module","exports","StyledFormGrid","formGridCounter","formGridContext","createContext","FormGrid","Provider","value","useContext","CursorContainer","cursor","CompanyBranch","short","showBrand","substr","ClearIndicator","getStyles","innerProps","ref","restInnerProps","style","placeholder","i18n","ButtonHeight","options","getOptionValue","formatOptionLabel","filterOption","rawInput","data","toLocaleLowerCase","closeMenuOnSelect","components","clearIndicator","onChange","selection","head","CanQuery","queryName","DashboardButton","route","canAccessWithSingleBranch","buttonProps","gridColumnSpan","gridColumn","gridRow","CardDock","position","FormSubmitButton","useXFormState","useObserver","type","green","isSubmitting","isValid","ErrorOutline","iconSize","iconColor","heartBeat","DateTimeFormatProvider","utils","MomentUtils","ETimeBadgeVariant","StyledTimeBadge","white","variants","UNKNOWN","CRITICAL","WARNING","orange","NORMAL","bigNumberStyle","css","dashStyle","clickable","TimeBadge","forwardRef","minutes","variant","Variant","output","extraClassNames","push","toString","cx","pulse","LinkStyled","a","createSvgIcon","createElement","Fragment","fill","d","opacity","cancelIconPadding","StyledDelayedTimeMark","DeliveryTimeBadge","deliverAt","deliveredAt","isCancelled","isDelayed","timerEnabled","now","useTimer","interval","MINUTE","enabled","CancelOutlined","role","aria-label","differenceInMinutes","EMPTY_ARRAY","PageLayoutItem","gridItemProps","userModel","normalizeAccess","join","layoutItem","to","PageLayoutGridItem","DashboardButtonHeight","access","DashboardPage","isForIconDashboard","showSoundControl","CustomerIdentity","customer","lastName","firstName","defaultPhone","phone","ConfirmButton","confirmNode","initialColor","confirmColor","confirmDisableMs","resetToInitialMs","SECOND","onConfirm","useRef","useConfirmWithTimeout","confirming","StyledDeliveryMinutes","StyledMinutesItem","DeliveryMinutes","deliveryType","onMinuteClick","initialMinutes","useState","setSelected","getMinutesForDeliveryType","yellow","deliveryMinutes","pickupMinutes","DeliveryTypeEnum","Pickup","StyledCurrentNote","span","NoteLine","note","Note","setConfirming","showConfirm","useCallback","current","setTimeout","confirm","timer","clearTimeout","FlexDiv","StyledOrderStarIndicator","OrderStarIndicator","data-testid","Icon","Star","OrderTickerStyled","Element","Color","turquoise","alpha","string","OrderTickerMainContentStyled","DeliveryTimeBadgeContainerStyled","AddressDisplayContainerStyled","CustomerIdentityContainerStyled","PriceContainerStyled","PaidMarkStyled","PaidTextStyled","ToBranchContainerStyled","Radiuses","Card","ToPickupLabel","violet","OrderTicker","order","showBranch","companyBranch","Date","delayedDeliveryTime","sector","enum","address","original","formatAddress","isPriority","totalSum","formattedValue","isPaidWithCard","useTimeSelectionDialog","setSubmitting","useSmartDialog","content","close","finally","actions","initialOpen","useLocalStore","isOpen","open","this","renderArea","area","onClose","isAbsolute","pathname","charAt","spliceOne","index","i","k","n","pop","from","hasTrailingSlash","toParts","split","fromParts","isToAbs","isFromAbs","mustEndAbs","last","up","part","unshift","result","AutoHeight","FlexRow","RelativeLink","linkProps","location","resolveLocation","resolvePathname","ContactLines","phones","emails","renderContact","contact","description","isMail","href","renderClickableLink","Phone","email","MailOutline","OrderCountLine","total","OrderWareLineWrap","NameContainerStyled","OrderWarePriceLine","highlight","StyledOrderDetailTotals","OrderDetailTotals","totals","tip","transportFee","coverPrice","totalDiscount","extraCharge","OrderOriginLabel","orderOrigin","OrderOriginEnum","DameJidlo","OrderIdLine","displayedId","FormatListNumbered","OrderRuleLines","rules","Announcement","OrderTimeLabel","DelayedDeliveryTimeLabel","DelayedOrderTimeLabel","OrderStats","stats","formatTimeWithoutTodayDate","driver","Timelapse","labelMap","OrderStateCategoryEnum","NewOrders","i18nMark","Preparing","ReadyToDeliver","OnWay","Finished","OrderTimeLine","orderTiming","AccessTime","reject","createdAt","orderStateCategory","timing","_","CodeContainerStyled","OrderWareLine","OrderWareList","orderWares","orderWare","recipe","nameLabel","sidedishes","sidedish","StyledHamburgerMenu","PopupMenu","Small","Middle","HamburgerMenu","isOpened","setIsOpened","Children","count","SizerButton","TouchButton","Menu","OrderCancelButton","orderId","useMCancelOrder","cancelOrder","OrderFlowMenuButtonWidth","OrderDeliveryToPickup","isDelivery","useMOrderChangeToPickup","changeToPickup","StyledSelectButton","SelectButton","selectNode","PaymentMethodDropdown","paymentMethods","selectedMethod","onSelection","inputStyles","idProp","isSearchable","method","paymentGate","OrderPaymentMethod","hasSomeMethod","useMChangePaymentMethod","changePaymentMethod","canChangePaymentMethod","setSelectedMethod","paymentMethodId","borderRadius","Button","borderTopRightRadius","borderBottomRightRadius","OrderStarButton","useMSetPriorityOrder","setPriorityOrder","stateLabels","OrderStateEnum","Accepted","OrderStateButton","nextState","useMOrderState","updateOrderState","StyledDriverName","StyledValueContainer","background","borderWidth","singleValue","fontSize","indicatorSeparator","display","OrderDriverSelect","drivers","selectedDriver","isLoading","onSelect","onClear","onReload","noOptionsMessage","onMenuOpen","ValueContainer","DirectionsCar","DropdownIndicator","theme","blurInputOnSelect","colors","primary","primary25","OrderStateDeliver","branchId","canRead","deliverOrder","useMSelectOrderDriver","selectDriver","useMRemoveOrderDriver","removeDriver","useQOrderDrivers","skip","loading","refetch","orderDriver","orderDriverId","driverId","StyledOrderStateFlowContainer","OrderStateFlowContainer","child","OrderStateTimeNotification","useMOrderTimeNotification","sendTimeNotification","enqueueSuccess","useSnackBar","Messenger","onSuccess","dialog","Schedule","OrderTransferToBranch","useMTransferOrder","transferOrder","canTransferOrder","setSelectedBranch","HamburgerMenuAtLeft","OrderStateNewOrder","canCancel","OrderStateAcceptedOrder","canDeliver","OrderStateReadyToDeliverOrder","OrderStateOnWayOrder","OrderStateFinishedOrder","OrderStateFlow","useQOrderState","allowedCategories","isCancelable","stateProps","StyledOrderDetail","OrderDetail","memo","useQOrderDetail","allAppliedRules","customerOrdersCountCurrent","customerOrdersCountTotal","OrderBoxStyled","OrderBox","onToggleDetail","orderListModel","toggleOrderDetail","isDetailOpen","isOrderDetailOpen","InputDate","DatePicker","format","maxDateMessage","minDateMessage","FormInputDate","fieldName","pickerProps","useXFieldForInput","field","getProps","formState","setValue","onOpen","setTouched","cachedType","classes","_props$disabled","_props$disableFocusRi","disableFocusRipple","fullWidth","indicator","_props$textColor","_props$wrapped","wrapped","other","ButtonBase","focusRipple","root","labelIcon","event","wrapper","withStyles","_extends2","typography","button","maxWidth","boxSizing","minHeight","flexShrink","breakpoints","pxToRem","paddingTop","marginBottom","textColorInherit","textColorPrimary","palette","secondary","main","textColorSecondary","flexGrow","flexBasis","lineHeight","alignItems","justifyContent","flexDirection","inDOM","window","document","detectScrollType","body","dummy","appendChild","createTextNode","dir","top","overflow","scrollLeft","removeChild","getNormalizedScrollLeft","element","direction","Number","NaN","scrollWidth","clientWidth","easeInOutSin","time","Math","sin","PI","ScrollbarSize","scrollbarHeight","nodeRef","setMeasurements","offsetHeight","clientHeight","handleResize","debounce","prevHeight","addEventListener","clear","removeEventListener","orientation","vertical","bottom","transition","transitions","create","colorPrimary","colorSecondary","right","KeyboardArrowLeft","_ref2","KeyboardArrowRight","classNameProp","component","tabIndex","transform","action","_props$centered","centered","childrenProp","_props$component","Component","_props$indicatorColor","indicatorColor","_props$orientation","_props$ScrollButtonCo","ScrollButtonComponent","_props$scrollButtons","scrollButtons","_props$TabIndicatorPr","TabIndicatorProps","_props$variant","useTheme","scrollable","isRtl","scrollStart","start","end","clientSize","_React$useState","mounted","setMounted","_React$useState2","indicatorStyle","setIndicatorStyle","_React$useState3","displayScroll","setDisplayScroll","_React$useState4","scrollerStyle","setScrollerStyle","valueToIndex","Map","tabsRef","childrenWrapperRef","getTabsMeta","tabsMeta","tabMeta","tabsNode","rect","getBoundingClientRect","scrollTop","scrollLeftNormalized","left","_children","tab","get","updateIndicatorState","useEventCallback","_newIndicatorStyle","_getTabsMeta","startValue","correction","newIndicatorStyle","isNaN","dStart","abs","dSize","scroll","scrollValue","property","arguments","cb","_options$ease","ease","_options$duration","duration","cancelled","cancel","requestAnimationFrame","step","timestamp","min","animate","moveTabsScroll","delta","handleStartScrollClick","handleEndScrollClick","handleScrollbarSizeChange","scrollSelectedIntoView","_getTabsMeta2","nextScrollStart","_nextScrollStart","updateScrollButtonState","showStartScroll","showEndScroll","_tabsRef$current","scrollHeight","win","ownerWindow","handleTabsScroll","useImperativeHandle","updateIndicator","childIndex","isValidElement","childValue","set","cloneElement","conditionalElements","scrollbarSizeListener","scrollButtonsActive","showScrollButtons","scrollButtonStart","scrollButtonsDesktop","scrollButtonEnd","getConditionalElements","scroller","fixed","onScroll","flexContainer","flexContainerVertical","WebkitOverflowScrolling","flex","whiteSpace","overflowX","scrollbarWidth","down","viewToTabIndex","openView","useStyles","makeStyles","tabsBackground","tabs","getContrastText","_ref","view","dateRangeIcon","timeIcon","Paper","defaultProps","SvgIcon","SPACINGS","GRID_SIZES","getOffset","val","parse","parseFloat","String","Grid","_props$alignContent","alignContent","_props$alignItems","_props$container","container","_props$direction","_props$item","_props$justify","_props$lg","lg","_props$md","md","_props$sm","sm","_props$spacing","spacing","_props$wrap","wrap","_props$xl","xl","_props$xs","xs","_props$zeroMinWidth","zeroMinWidth","forEach","themeSpacing","generateGutter","reduce","accumulator","globalStyles","round","generateGrid","toolbar","paddingLeft","paddingRight","separator","date","setOpenView","ampm","hideTabs","useUtils","showTabs","innerHeight","_useMeridiemMode","meridiemMode","handleMeridiemChange","rtl","PickerToolbar","isLandscape","ToolbarButton","getYearText","getDateTimePickerHeaderText","getHourText","ToolbarText","getMinuteText","getMeridiemText","wider","openTo","views","useOptions","getDefaultFormat","dateTime12hFormat","dateTime24hFormat","DateTimePicker","DefaultToolbarComponent","KeyboardDateTimePicker","getCustomProps","refuse","toolbarLandscape","dateLandscape","marginRight","isYearOnly","isYearAndMonth","align","getDatePickerHeaderText","getMonthText","KeyboardDatePicker","ClosureHistoryFilter","autoOk","useExecutableQuery","query","client","useApolloClient","onError","useApolloDefender","useObservable","error","wasExecuted","Boolean","useReaction","makeError","err","variables","ApolloOperationError","execute","queryResult","runInAction","errors","ApolloError","graphQLErrors","reset","context","ClosureHistoryLoader","statistics","QClosureHistoryDocument","onSubmit","formValues","closureBranch","dateFrom","formatDateISO","dateTo","initialValues","subDays","ClosureHistoryTable","history","report","Edit","reportSequence","reportDatetime","ClosureCurrentButton","ROUTE_OVERVIEW_CLOSURE","ButtonToRight","ClosureStatisticsFilter","showCurrent","setClosureBranch","ClosureHistoryPage","FullPageLayout","pageTitle","useBackButton","backRoute","StyledMonospaceOutput","p","StyledScrollableContainer","renderContent","RegExp","MonospaceOutput","ClosureStatisticsContent","reportId","useQClosureReport","showReport","plainData","lastReport","ClosureHistoryButton","ROUTE_OVERVIEW_CLOSURE_HISTORY","ClosureSubmitButton","ClosureStatisticsControl","useRouterContext","useMFinancialReportCreate","createClosure","MarginBox","ClosurePage","match","ROUTE_OVERVIEW_DASHBOARD","params","useStatsFilterCurrent","useStatsFilter","enabledFilters","setFilter","dateTimeFrom","startOfDay","dateTimeTo","endOfDay","applyFilter","values","isoDate","branchesFilter","cashBoxes","cashboxes","cashiers","xform","useXForm","renderForm","executeFilter","api","submitForm","OrdersStatisticsList","orders","loaderRef","measureCache","useMemo","CellMeasurerCache","defaultHeight","useQStatsOrdersCounts","countsData","countsLoading","clearAll","resetLoadMoreRowsCache","executeList","QStatsOrdersListDocument","queryMoreOrders","startIndex","stopIndex","pagination","fromIndex","toIndex","shift","isRowLoaded","rowRenderer","parent","columnIndex","rowIndex","cache","measure","Cancel","counts","totalCount","finished","rowCount","loadMoreRows","onRowsRendered","registerChild","rowHeight","deferredMeasurementCache","StyledStatPanel","StyledStatLabel","h1","StyledStatValue","OrdersStatisticsSummary","useQStatsOrders","finishedOrders","currency","onlinePayments","finishedCount","cancelledCount","fees","orderStatisticsPlain","StatisticsBranchFilter","setBranchFilter","clearBranchFilter","NO_OPTIONS","StatisticsBaseMultiFilter","option","StatisticsDriversFilter","useQAllDrivers","getOptions","useLoadingCache","formatFullName","setDriversFilter","InputDateTime","FormInputDateTime","StyledStatisticsFilter","StatisticsFilter","OrdersStatisticsLoader","autoFilter","OrdersStatisticsPage","setTodayOrdersFilter","PageLayoutResponsive","OverviewPage","Assignment","ROUTE_OVERVIEW_STATS_ORDERS","ROUTE_OVERVIEW_STATS_SALES","AllInbox","ROUTE_STOCK_STATS","StatsDisplay","plain","SalesStatisticsContent","useQStatsSales","sales","daily","vat","category","delivery","formatCashboxName","uuid","StatisticsCashboxFilter","useQStatsCashboxes","setCashboxFilter","StatisticsCashiersFilter","useQStatsCashiers","setCashierFilter","SalesStatisticsLoader","SalesStatisticsPage","OverviewRouting","PageTitle","SecureRoute","exact","path","NotFoundPage"],"mappings":"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","file":"static/js/179.065bf5a9.chunk.js","sourcesContent":["import { Error, SvgIconComponent } from '@material-ui/icons'\nimport { cn } from '@speedlo/ui'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { mediaMobile } from '../app/Responsive'\nimport { logError } from '../helpers/logger'\nimport { Colors, Spacing } from '../styling'\nimport { useFormGridCheck } from './FormGrid'\nimport { Icon } from './Icon'\n\ninterface IProps {\n  icon?: SvgIconComponent\n  label?: string | ReactNode\n  labelWidth?: number\n  labelWidthUnits?: string\n  labelMargin?: string\n  labelSmallCaps?: boolean\n  className?: string\n}\n\nconst StyledIconLine = styled.div<IProps>`\n  display: flex;\n\n  div.description {\n    margin: ${({ labelMargin }) => labelMargin};\n    min-width: ${({ labelWidth, labelWidthUnits }) =>\n      `${labelWidth}${labelWidthUnits}`};\n    flex: 0 0 auto;\n    text-align: right;\n  }\n\n  div.contents {\n    margin-left: 0.5rem;\n    align-self: stretch;\n    flex: 1 1 auto;\n  }\n\n  div.label {\n    padding-top: 0.2rem;\n    display: inline-block;\n    &.smallCaps {\n      font-variant-caps: all-petite-caps;\n    }\n  }\n`\n\nconst StyledGridDescription = styled.div<IProps>`\n  grid-column: desc;\n  margin: ${({ labelMargin }) => labelMargin};\n\n  div.label {\n    padding-top: 0.2rem;\n    display: inline-block;\n    &.smallCaps {\n      font-variant-caps: all-petite-caps;\n    }\n  }\n\n  ${mediaMobile`\n  grid-column: content;\n  justify-self: start;\n  margin: ${({ labelMargin }) => labelMargin.replace('auto', '0.7rem')};\n  `};\n`\n\nconst StyledGridContent = styled.div<IProps>`\n  grid-column: content;\n  margin-left: 0.5rem;\n`\n\nexport const IconLine: React.FC<IProps> = ({\n  icon,\n  label,\n  labelWidth = 0,\n  labelWidthUnits = Spacing.DefaultSizeUnit,\n  labelMargin = '0.5rem 0.2rem 0 auto',\n  labelSmallCaps = true,\n  children,\n}) => {\n  let iconComponent = icon\n  if (typeof icon === 'string') {\n    logError(\n      `IconLine: Do not use icon prop as string! Replace \"${icon}\" with the one imported from @material-ui/icons.`,\n    )\n    iconComponent = Error\n  }\n  const isInFormGrid = useFormGridCheck()\n\n  const descriptionPart = (\n    <>\n      <Icon icon={iconComponent} color={Colors.greyDark} />\n      {label ? (\n        <div className={cn('label', { smallCaps: labelSmallCaps })}>\n          {label}\n        </div>\n      ) : null}\n    </>\n  )\n\n  return isInFormGrid ? (\n    <>\n      <StyledGridDescription labelMargin={labelMargin}>\n        {descriptionPart}\n      </StyledGridDescription>\n      <StyledGridContent>{children}</StyledGridContent>\n    </>\n  ) : (\n    <StyledIconLine\n      labelWidth={labelWidth}\n      labelWidthUnits={labelWidthUnits}\n      labelMargin={labelMargin}\n    >\n      <div className=\"description\">{descriptionPart}</div>\n      <div className=\"contents\">{children}</div>\n    </StyledIconLine>\n  )\n}\n","import { useRoot } from '../atoms/RootProvider'\n\nexport function useAccessGuard(\n  queries: string[],\n  mutations: string[],\n): boolean {\n  const { user } = useRoot()\n  return queries.every(user.canQuery) && mutations.every(user.canMutate)\n}\n\nexport function useCanQuery(...queries: string[]) {\n  return useAccessGuard(queries, [])\n}\n\nexport function useCanMutate(...mutations: string[]) {\n  return useAccessGuard([], mutations)\n}\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useCanMutate } from '../hooks/useAccessGuard'\nimport { NoAccess } from './NoAccess'\n\ninterface IProps {\n  mutationName: string\n}\n\nexport const CanMutate = observer<IProps>(({ mutationName, children }) => {\n  const canMutate = useCanMutate(mutationName)\n  return canMutate ? (\n    <>{children}</>\n  ) : (\n    <NoAccess>{`No access to mutation ${mutationName}`}</NoAccess>\n  )\n})\n","import React from 'react'\nimport Select from 'react-select'\nimport { Props } from 'react-select/lib/Select'\nimport { StylesConfig } from 'react-select/lib/styles'\n\nimport { Colors, Spacing } from '../styling'\n\nexport interface ISelectControlProps<OptionType> extends Props<OptionType> {\n  width?: number\n  minWidth?: number\n  maxHeight?: number\n  invalid?: boolean\n}\n\nfunction getControlStyles({\n  width,\n  minWidth,\n  invalid,\n}: ISelectControlProps<any>) {\n  const colors =\n    invalid === true\n      ? {\n          border: `1px solid ${Colors.red}`,\n          backgroundColor: Colors.errorBackground,\n        }\n      : {\n          border: `1px solid ${Colors.greyMiddle}`,\n        }\n  return {\n    ...colors,\n    margin: Spacing.MarginAroundFormComponents,\n    width: width !== undefined ? `${width}rem` : '100%',\n    minWidth: minWidth !== undefined ? `${minWidth}rem` : '8rem',\n  }\n}\n\nexport const composeSelectControlStyles = (outerStyles: StylesConfig = {}) => ({\n  ...outerStyles,\n  control: (base, state) => {\n    const controlStyles = { ...base, ...getControlStyles(state.selectProps) }\n    return outerStyles.control\n      ? outerStyles.control(controlStyles, state)\n      : controlStyles\n  },\n  menu: (base, state) => {\n    const {\n      selectProps: { width },\n    } = state\n    const menuStyles = {\n      ...base,\n      zIndex: 20,\n      color: Colors.black,\n      width: width !== undefined ? `${width}rem` : '100%',\n    }\n    return outerStyles.menu ? outerStyles.menu(menuStyles, state) : menuStyles\n  },\n  valueContainer: (base, state) => {\n    const {\n      selectProps: { maxHeight },\n    } = state\n    const valueContainerStyles = {\n      ...base,\n      maxHeight: maxHeight !== undefined ? `${maxHeight}rem` : '100%',\n      overflowY: maxHeight !== undefined ? 'scroll' : 'hidden',\n    }\n    return outerStyles.valueContainer\n      ? outerStyles.valueContainer(valueContainerStyles, state)\n      : valueContainerStyles\n  },\n})\n\nexport function SelectControl<OptionType>(\n  props: ISelectControlProps<OptionType>,\n) {\n  return (\n    <Select<OptionType>\n      {...props}\n      styles={composeSelectControlStyles(props.styles)}\n    />\n  )\n}\n","import styled from 'styled-components'\n\nimport { Colors } from '../styling'\n\ninterface IHeadlineProps {\n  margin?: string\n  size?: 'smaller'\n  light?: boolean\n}\n\nconst getMargin = ({ margin = '0 0.5rem 0 0.5rem' }: IHeadlineProps) => margin\n\nconst getFontSize = ({ size }: IHeadlineProps) => size === 'smaller' && '1rem'\n\nconst getColor = ({ light = false }: IHeadlineProps) =>\n  light ? Colors.greyLight : Colors.greyDarkest\n\nexport const Headline = styled.h2`\n  color: ${getColor};\n  font-weight: lighter;\n  margin: ${getMargin};\n  font-size: ${getFontSize};\n`\n","import styled from 'styled-components'\n\nexport const ScrollArea = styled.div`\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  height: 100%;\n`\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { mediaDesktop, mediaMobile, useResponsive } from '../app/Responsive'\nimport { ScrollArea } from '../atoms/ScrollArea'\nimport { Sizer } from '../atoms/Sizer'\nimport { Spacing } from '../styling'\n\ninterface IPageLayoutFullHeightItemProps {\n  row?: number\n  column?: number\n  rowInMobile?: number\n  widthInColumns?: number\n  withScrollArea?: boolean\n  forcePercentHeightInMobile?: number\n  scrollAreaId?: string\n}\n\nconst gridColumnWidth: string = '6.22vw'\nconst gridColumnHeigth: string = '3.9375rem'\n\nconst leftPos = () => (props: IPageLayoutFullHeightItemProps) => {\n  if (props.column !== undefined) {\n    return (\n      'calc((' +\n      props.column +\n      ' * ' +\n      gridColumnWidth +\n      ') + ' +\n      Spacing.LayoutGridCellMargin +\n      ')'\n    )\n  } else {\n    return Spacing.LayoutGridCellMargin\n  }\n}\nconst widthComputed = () => (props: IPageLayoutFullHeightItemProps) => {\n  if (props.widthInColumns !== undefined) {\n    return (\n      'calc((' +\n      props.widthInColumns +\n      ' * ' +\n      gridColumnWidth +\n      ') - ' +\n      Spacing.LayoutGridCellMargin +\n      ')'\n    )\n  } else {\n    return 'calc(100vh - (2 * ' + Spacing.LayoutGridCellMargin + '))'\n  }\n}\nconst topPos = () => (props: IPageLayoutFullHeightItemProps) => {\n  if (props.row !== undefined) {\n    return (\n      'calc((' +\n      props.row +\n      ' * ' +\n      gridColumnHeigth +\n      ') + ' +\n      Spacing.LayoutGridCellMargin +\n      ')'\n    )\n  } else {\n    return (\n      'calc(' + gridColumnHeigth + ' + ' + Spacing.LayoutGridCellMargin + ')'\n    )\n  }\n}\n\n// eslint-disable-next-line no-unexpected-multiline\nconst StyledPageLayoutFullHeightItem = styled.div<\n  IPageLayoutFullHeightItemProps\n>`\n  ${mediaDesktop`\n  position: fixed;\n  bottom: 0.5rem;\n  width: ${widthComputed()};\n  left: ${leftPos()};\n  top: ${topPos()};`}\n\n  ${mediaMobile`\n    margin: 0;\n    grid-row: ${({ rowInMobile }: IPageLayoutFullHeightItemProps) =>\n      rowInMobile} ;\n    grid-column: span 16;\n    height: ${({\n      forcePercentHeightInMobile,\n    }: IPageLayoutFullHeightItemProps) =>\n      forcePercentHeightInMobile\n        ? `calc(${forcePercentHeightInMobile}vh - ${Spacing.PageHeaderHeight +\n            0.25 +\n            Spacing.DefaultSizeUnit})`\n        : 'unset'} ;\n    position: relative;\n  `}\n`\n\nexport const PageLayoutFullHeightItem: React.FC<\n  IPageLayoutFullHeightItemProps\n> = ({\n  children,\n  row = 1,\n  rowInMobile = 16,\n  column = 0,\n  widthInColumns = 16,\n  withScrollArea = false,\n  scrollAreaId,\n  forcePercentHeightInMobile: forceHeightInMobile,\n}) => {\n  const { isMobile } = useResponsive()\n\n  return (\n    <StyledPageLayoutFullHeightItem\n      column={column}\n      row={row}\n      rowInMobile={rowInMobile}\n      widthInColumns={widthInColumns}\n      withScrollArea={withScrollArea}\n      forcePercentHeightInMobile={forceHeightInMobile}\n    >\n      {withScrollArea && !isMobile ? (\n        <ScrollArea id={scrollAreaId}>{children}</ScrollArea>\n      ) : (\n        <Sizer height={100} heightUnit=\"%\">\n          {children}\n        </Sizer>\n      )}\n    </StyledPageLayoutFullHeightItem>\n  )\n}\n","import { Tooltip } from '@material-ui/core'\nimport { PanTool } from '@material-ui/icons'\nimport React from 'react'\n\ninterface IProps {\n  children: string\n}\n\nexport const NoAccess: React.FC<IProps> = ({ children }) =>\n  process.env.REACT_APP_STAGE !== 'prod' ? (\n    <Tooltip title={children}>\n      <PanTool />\n    </Tooltip>\n  ) : null\n","import styled from 'styled-components'\n\ninterface IProps {\n  flexWrap?: string\n  justify?: string\n}\n\nexport const FlexRowSingle = styled.div<IProps>`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: ${({ flexWrap = 'unset' }: IProps) => flexWrap};\n  justify-content: ${({ justify = 'space-between' }: IProps) => justify};\n`\n","import styled from 'styled-components'\n\ninterface IFlexColumnProps {\n  fixedWidth?: boolean\n  width?: string\n  widthGrowIndex?: number\n  padding?: string\n  margin?: string\n}\n\nexport const FlexColumn = styled.div`\n  flex: ${getFlexValue};\n  padding: ${getPadding};\n  margin: ${getMargin};\n`\n\nfunction getFlexValue({\n  fixedWidth = false,\n  width,\n  widthGrowIndex = 0,\n}: IFlexColumnProps) {\n  return fixedWidth ? (width ? `0 0 ${width}` : '0 0') : `${widthGrowIndex} 0`\n}\n\nfunction getPadding({ padding = '0.25rem' }: IFlexColumnProps) {\n  return padding\n}\n\nfunction getMargin({ margin = '' }: IFlexColumnProps) {\n  return margin\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Colors } from '../styling'\n\ninterface IProps {\n  visible?: boolean\n}\n\nconst HorizontalSeparatorStyled = styled.div`\n  border-top: 1px solid ${Colors.greyLight};\n  margin: 0.25rem 0rem;\n`\n\nexport const HorizontalSeparator: React.FC<IProps> = ({ visible = true }) =>\n  visible ? <HorizontalSeparatorStyled /> : null\n","import { Trans } from '@lingui/macro'\nimport { cn } from '@speedlo/ui'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { RM } from '../helpers/ramda'\nimport { Colors } from '../styling'\n\nexport interface ISelectControlFlatProps<ItemType = unknown> {\n  items: RoA<ItemType>\n  selectedItem?: Maybe<ItemType>\n  formatItem?: (item: ItemType) => string | ReactNode\n  onSingleSelection?(selected: Maybe<ItemType>): void\n  selectedItems?: RoA<ItemType>\n  onMultiSelection?(selected: RoA<ItemType>): void\n  isMulti?: boolean\n  isClearable?: boolean\n  isInvalid?: boolean\n  disabled?: boolean\n  textColor?: string\n}\n\nconst StyledSelectControlFlat = styled.div`\n  ${(props: { textColor?: string }) => ``}\n\n  color: ${({ textColor }) => (textColor ? textColor : 'inherit')};\n\n  &.interactive {\n    cursor: pointer;\n  }\n\n  &.invalid {\n    border: 1px red solid;\n  }\n\n  > div {\n    padding: 0.2rem 0.3rem;\n    margin: 0.3rem 0.3rem;\n    display: inline-block;\n    border: 1px dotted ${Colors.greyMiddle};\n  }\n\n  > div.active {\n    font-weight: bolder;\n    text-decoration: underline;\n  }\n\n  > div.hover {\n    text-decoration: underline;\n  }\n`\n\nexport const SelectControlFlat = <ItemType extends any>(\n  props: ISelectControlFlatProps<ItemType>,\n) => {\n  const {\n    items,\n    formatItem = RM.prop('displayName'),\n    isMulti = false,\n    isClearable = false,\n    isInvalid = false,\n    disabled = false,\n    selectedItem,\n    selectedItems,\n    onSingleSelection,\n    onMultiSelection,\n    textColor,\n  } = props\n\n  const hasSingleItem = items.length === 1\n\n  const hasSelection = () => {\n    if (isMulti) {\n      return Array.isArray(selectedItems) && selectedItems.length > 0\n    }\n    return selectedItem !== null && selectedItem !== undefined\n  }\n\n  const isItemSelected = (item: ItemType) => {\n    if (items.length === 1) {\n      // with one item there no selection happening\n      return false\n    }\n    if (isMulti && Array.isArray(selectedItems)) {\n      return RM.contains(item, selectedItems)\n    }\n    return RM.equals(selectedItem, item)\n  }\n\n  const updateSelection = (item: Maybe<ItemType>) => {\n    if (hasSingleItem || disabled) {\n      return\n    }\n    if (item === null) {\n      if (isMulti && onMultiSelection) {\n        onMultiSelection([])\n      } else if (onSingleSelection) {\n        onSingleSelection(null)\n      }\n    } else if (isMulti && onMultiSelection) {\n      if (isItemSelected(item)) {\n        onMultiSelection(\n          Array.isArray(selectedItems)\n            ? RM.without([item], selectedItems)\n            : [item],\n        )\n      } else {\n        onMultiSelection(\n          Array.isArray(selectedItems) ? RM.concat(selectedItems, [item]) : [],\n        )\n      }\n    } else if (onSingleSelection) {\n      onSingleSelection(item)\n    }\n  }\n  return (\n    <StyledSelectControlFlat\n      className={cn({\n        invalid: isInvalid,\n        interactive: !hasSingleItem || disabled,\n      })}\n      textColor={textColor}\n    >\n      {isClearable && (\n        <div\n          className={cn({ active: !hasSelection() })}\n          onClick={() => {\n            updateSelection(null)\n          }}\n        >\n          <Trans id=\"optionselector.clear-filter\">All</Trans>\n        </div>\n      )}\n      {items.map((item, idx) => {\n        // @ts-ignore Have to use any in generics due to parsing error\n        const formatted = formatItem(item)\n        return (\n          <div\n            key={idx}\n            className={cn({ active: isItemSelected(item) })}\n            onClick={() => {\n              updateSelection(item)\n            }}\n          >\n            {formatted}\n          </div>\n        )\n      })}\n    </StyledSelectControlFlat>\n  )\n}\n","import React from 'react'\n\ninterface ILoadingProps {\n  text?: string\n}\n\nexport const Loading: React.FC<ILoadingProps> = ({ text = '...' }) => (\n  <h1>{text}</h1>\n)\n","import { autorun } from 'mobx'\nimport React from 'react'\n\nimport { useRoot } from '../atoms/RootProvider'\nimport { FCompanyBranchFragment } from '../graph/generated'\n\nexport function useAutorunWhenSingleBranch(\n  onSingleBranch: (branch: FCompanyBranchFragment) => void,\n) {\n  const { user } = useRoot()\n  React.useEffect(() =>\n    autorun(() => {\n      if (user.isReady && user.hasSingleBranch) {\n        onSingleBranch(user.branches[0])\n      }\n    }),\n  )\n}\n","import { useOrderModel } from './useOrderModel'\n\nexport function useOrderListModel() {\n  const { list } = useOrderModel()\n  return list\n}\n","import React from 'react'\n\nimport { formatPrice } from '../helpers/formats'\n\ninterface IPriceProps {\n  children?: number\n  price?: number\n  currencyCode?: string\n  className?: string\n}\n\nexport const Price: React.FC<IPriceProps> = ({\n  children,\n  price,\n  currencyCode,\n  className,\n}) => {\n  const formattedPrice = formatPrice(children || price)\n  return (\n    <span className={className}>\n      {currencyCode ? `${formattedPrice} ${currencyCode}` : formattedPrice}\n    </span>\n  )\n}\n","import React from 'react'\n\nimport { SelectControlFlat } from '../atoms/SelectControlFlat'\nimport { FCompanyBranchFragment } from '../graph/generated'\nimport { ICompanyBranchPickerImpl } from '../organisms/CompanyBranchPicker'\nimport { Colors } from '../styling'\n\nexport const CompanyBranchFlatSelect: React.FC<ICompanyBranchPickerImpl> = ({\n  branches,\n  selectedBranch,\n  selectedBranches,\n  textColor = Colors.black,\n  ...props\n}) => (\n  <SelectControlFlat<FCompanyBranchFragment>\n    items={branches}\n    selectedItem={selectedBranch}\n    selectedItems={selectedBranches}\n    textColor={textColor}\n    formatItem={item => <span title={item.brand.name}>{item.name}</span>}\n    {...props}\n  />\n)\n","import React from 'react'\n\nimport { useRoot } from '../atoms/RootProvider'\nimport { FCompanyBranchFragment } from '../graph/generated'\nimport { RM } from '../helpers/ramda'\nimport {\n  CompanyBranchDropdown,\n  ICompanyBranchDropdownProps,\n} from '../molecules/CompanyBranchDropdown'\nimport { CompanyBranchFlatSelect } from '../molecules/CompanyBranchFlatSelect'\n\ntype TBranch = FCompanyBranchFragment\n\ninterface ICompanyBranchPickerProps {\n  branches?: RoA<TBranch>\n  selectedBranches?: ID[]\n  onSelectionChange?(branchIds: ID[], branches: TBranch[]): void\n  onSelectionClear?(): void\n  breakpoint?: number\n  isMulti?: boolean\n  isClearable?: boolean\n  textColor?: string\n  hideWhenSingleBranch?: boolean\n  getDropdownProps?(): Partial<ICompanyBranchDropdownProps>\n}\n\nexport interface ICompanyBranchPickerImpl {\n  branches: RoA<TBranch>\n  isMulti?: boolean\n  isClearable?: boolean\n  selectedBranch?: Maybe<TBranch>\n  onSingleSelection?(branch: Maybe<TBranch>): void\n  selectedBranches?: TBranch[]\n  onMultiSelection?(branches: TBranch[]): void\n  textColor?: string\n}\n\nexport const CompanyBranchPicker: React.FC<ICompanyBranchPickerProps> = ({\n  breakpoint = 3,\n  branches,\n  selectedBranches = [],\n  isMulti = false,\n  isClearable = true,\n  hideWhenSingleBranch = false,\n  textColor,\n  onSelectionChange,\n  onSelectionClear,\n  getDropdownProps = () => ({}),\n}) => {\n  const { user } = useRoot()\n\n  const isSelected = branch => selectedBranches.includes(branch.id)\n\n  const props: ICompanyBranchPickerImpl = {\n    textColor,\n    isClearable,\n    isMulti,\n    branches: branches || user.branches,\n    selectedBranch: user.branches.find(isSelected) || null,\n    selectedBranches: user.branches.filter(isSelected),\n    onSingleSelection(selected: TBranch) {\n      if (selected === null && onSelectionClear) {\n        onSelectionClear()\n      } else if (selected !== null && onSelectionChange) {\n        onSelectionChange([selected.id], [selected])\n      }\n    },\n    onMultiSelection(selected: TBranch[]) {\n      if (selected.length === 0 && onSelectionClear) {\n        onSelectionClear()\n      } else if (selected.length && onSelectionChange) {\n        onSelectionChange(selected.map(RM.prop('id')), selected)\n      }\n    },\n  }\n\n  if (user.hasSingleBranch && hideWhenSingleBranch) {\n    return null\n  }\n\n  if (user.branches.length < breakpoint) {\n    return <CompanyBranchFlatSelect {...props} />\n  }\n\n  return <CompanyBranchDropdown {...props} {...getDropdownProps()} />\n}\n","var map = {\n\t\"./cs.svg\": 1436,\n\t\"./de.svg\": 1437,\n\t\"./en.svg\": 1438,\n\t\"./pl.svg\": 1439,\n\t\"./sk.svg\": 1440\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1435;","var map = {\n\t\"./logo-doveze.svg\": 1442,\n\t\"./logo-gopay.svg\": 1443,\n\t\"./logo-mastercard.svg\": 1444,\n\t\"./logo-visa.svg\": 1445\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1441;","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { mediaMobile } from '../app/Responsive'\n\nconst StyledFormGrid = styled.div`\n  display: grid;\n  grid-template-columns: 0.1fr [desc] auto [content] 1fr;\n  grid-template-areas: '. desc content';\n  grid-auto-flow: row dense;\n\n  ${mediaMobile`\n    grid-template-columns: 1fr;\n    grid-template-areas:\n      'content';\n  `};\n`\n\ninterface IProps {}\nlet formGridCounter = 0\nconst formGridContext = React.createContext(formGridCounter)\n\nexport const FormGrid: React.FC<IProps> = props => {\n  return (\n    <StyledFormGrid>\n      <formGridContext.Provider value={++formGridCounter}>\n        {props.children}\n      </formGridContext.Provider>\n    </StyledFormGrid>\n  )\n}\n\nexport function useFormGridCheck() {\n  return React.useContext(formGridContext) > 0\n}\n","import styled from 'styled-components'\n\ntype TCursor = 'pointer' | 'arrow' | 'default'\n\nexport const CursorContainer = styled.div`\n  cursor: ${({ cursor = 'default' }: { cursor?: TCursor }) => cursor};\n`\n","import React from 'react'\n\nimport { CursorContainer } from '../atoms/CursorContainer'\nimport { FCompanyBranchFragment } from '../graph/generated'\n\ninterface ICompanyBranchProps {\n  branch: FCompanyBranchFragment\n  onClick?: () => void\n  short?: boolean\n  showBrand?: boolean\n}\n\nexport const CompanyBranch: React.FC<ICompanyBranchProps> = ({\n  branch,\n  onClick,\n  short = false,\n  showBrand = true,\n}) => (\n  <CursorContainer cursor=\"pointer\" onClick={onClick}>\n    {short ? (\n      branch.name.substr(0, 8)\n    ) : (\n      <>\n        <span>{branch.name}</span>\n        {showBrand && <span>{` [${branch.brand.name}]`}</span>}\n      </>\n    )}\n  </CursorContainer>\n)\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\nimport { Props } from 'react-select/lib/Select'\n\nimport { CompanyBranch } from '../atoms/CompanyBranch'\nimport { ISelectControlProps, SelectControl } from '../atoms/SelectControl'\nimport { FCompanyBranchFragment } from '../graph/generated'\nimport { RM } from '../helpers/ramda'\nimport { i18n } from '../i18n'\nimport { ICompanyBranchPickerImpl } from '../organisms/CompanyBranchPicker'\nimport { Spacing } from '../styling'\n\ninterface IProps\n  extends ICompanyBranchPickerImpl,\n    Props<FCompanyBranchFragment> {}\n\nexport interface ICompanyBranchDropdownProps\n  extends Pick<\n    ISelectControlProps<FCompanyBranchFragment>,\n    'placeholder' | 'width'\n  > {}\n\nconst ClearIndicator = props => {\n  const {\n    getStyles,\n    innerProps: { ref, ...restInnerProps },\n  } = props\n  return (\n    <div\n      {...restInnerProps}\n      ref={ref}\n      style={getStyles('clearIndicator', props)}\n    >\n      <div style={{ padding: '0px 5px' }}>\n        <Trans>All</Trans>\n      </div>\n    </div>\n  )\n}\n\nexport const CompanyBranchDropdown: React.FC<IProps> = ({\n  branches,\n  selectedBranch,\n  onSingleSelection,\n  selectedBranches,\n  onMultiSelection,\n  ...props\n}) => (\n  <SelectControl<FCompanyBranchFragment>\n    value={props.isMulti ? selectedBranches : selectedBranch}\n    placeholder={\n      props.isMulti ? i18n.t`Filter branches...` : i18n.t`Select a branch`\n    }\n    maxHeight={Spacing.ButtonHeight}\n    options={branches as FCompanyBranchFragment[]}\n    getOptionValue={RM.prop('id')}\n    formatOptionLabel={branch => <CompanyBranch branch={branch} />}\n    filterOption={(branch, rawInput) =>\n      branch.data.name\n        .toLocaleLowerCase()\n        .includes(rawInput.toLocaleLowerCase())\n    }\n    closeMenuOnSelect={!props.isMulti}\n    components={{\n      ClearIndicator,\n    }}\n    styles={{\n      clearIndicator: base => ({\n        ...base,\n        cursor: 'pointer',\n      }),\n    }}\n    onChange={selection => {\n      if (props.isMulti && onMultiSelection && Array.isArray(selection)) {\n        onMultiSelection(selection)\n      }\n      if (!props.isMulti && onSingleSelection) {\n        if (Array.isArray(selection)) {\n          onSingleSelection(RM.head(selection) || null)\n        } else {\n          onSingleSelection((selection as FCompanyBranchFragment) || null)\n        }\n      }\n    }}\n    {...props}\n  />\n)\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useCanQuery } from '../hooks/useAccessGuard'\nimport { NoAccess } from './NoAccess'\n\ninterface IProps {\n  queryName: string\n}\n\nexport const CanQuery = observer<IProps>(({ queryName, children }) => {\n  const canQuery = useCanQuery(queryName)\n  return canQuery ? (\n    <>{children}</>\n  ) : (\n    <NoAccess>{`No access to query ${queryName}`}</NoAccess>\n  )\n})\n","import { History } from 'history'\nimport React from 'react'\n\nimport { PageLayoutItem } from '../../../molecules/PageLayoutItem'\nimport { ITouchButtonProps, TouchButton } from '../../../molecules/TouchButton'\n\ninterface IProps extends ITouchButtonProps {\n  row: number\n  column: number\n  route?: History.LocationDescriptor<any>\n  canQuery?: string | string[]\n  canMutate?: string | string[]\n  canAccessWithSingleBranch?: boolean\n}\n\nexport type IDashboardButtonProps = IProps\n\nexport const DashboardButton: React.FC<IProps> = ({\n  row,\n  column,\n  route,\n  canQuery,\n  canMutate,\n  canAccessWithSingleBranch,\n  ...buttonProps\n}) => {\n  return (\n    <PageLayoutItem\n      gridColumnSpan={2}\n      gridColumn={(column - 1) * 2 + 1}\n      gridRow={row}\n      route={route}\n      canQuery={canQuery}\n      canMutate={canMutate}\n      canAccessWithSingleBranch={canAccessWithSingleBranch}\n    >\n      <TouchButton {...buttonProps} />\n    </PageLayoutItem>\n  )\n}\n","import styled from 'styled-components/macro'\n\ninterface IProps {\n  position: 'TopRight' | 'BottomRight' | 'BottomLeft' | 'TopLeft'\n}\n\nexport const CardDock = styled.div<IProps>`\n  position: absolute;\n  ${({ position }) =>\n    position === 'BottomRight' || position === 'BottomLeft'\n      ? 'bottom: 0'\n      : 'top: 0'};\n  ${({ position }) =>\n    position === 'BottomLeft' || position === 'TopLeft'\n      ? 'left: 0'\n      : 'right: 0'};\n`\n","import { ErrorOutline } from '@material-ui/icons'\nimport { cn } from '@speedlo/ui'\nimport { useXFormState } from '@speedlo/xform'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { ITouchButtonProps, TouchButton } from '../../molecules/TouchButton'\nimport { Colors } from '../../styling'\n\ninterface IProps extends ITouchButtonProps {\n  children: ReactNode | ReactNode[] | string\n}\n\nexport const FormSubmitButton: React.FC<IProps> = ({\n  children,\n  id = 'form-submit',\n  ...props\n}) => {\n  const state = useXFormState()\n  return useObserver(() => (\n    <TouchButton\n      id={id}\n      type=\"submit\"\n      color={Colors.green}\n      disabled={state.isSubmitting}\n      icon={!state.isValid ? ErrorOutline : undefined}\n      iconSize={1.1}\n      iconColor={Colors.red}\n      {...props}\n      className={cn(props.className, 'animated', 'infinite', {\n        heartBeat: state.isSubmitting,\n      })}\n    >\n      <>{children}</>\n    </TouchButton>\n  ))\n}\n","import MomentUtils from '@date-io/moment'\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers'\nimport React from 'react'\n\nexport const DateTimeFormatProvider: React.FC = ({ children }) => {\n  return (\n    <MuiPickersUtilsProvider utils={MomentUtils}>\n      {children}\n    </MuiPickersUtilsProvider>\n  )\n}\n","import { css, cx } from 'emotion'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { Colors } from '../styling'\n\nexport enum ETimeBadgeVariant {\n  UNKNOWN,\n  CRITICAL,\n  WARNING,\n  NORMAL,\n}\n\ninterface ITimeBadgeProps {\n  variant: ETimeBadgeVariant\n  minutes?: number\n  children?: React.ReactNode\n  className?: string\n  onClick?(): void\n}\n\nconst StyledTimeBadge = styled.div`\n  height: 2rem;\n  line-height: 2rem;\n  width: 2rem;\n  border-radius: 50%;\n  overflow: hidden;\n  border: 1px solid white;\n  color: ${Colors.white};\n  background: ${Colors.greyMiddle};\n  text-align: center;\n  font-family: 'Open Sans', sans-serif;\n`\n\nconst variants = {\n  [ETimeBadgeVariant.UNKNOWN]: styled(StyledTimeBadge)``,\n  [ETimeBadgeVariant.CRITICAL]: styled(StyledTimeBadge)`\n    background: ${Colors.red};\n  `,\n  [ETimeBadgeVariant.WARNING]: styled(StyledTimeBadge)`\n    background: ${Colors.orange};\n    color: ${Colors.black};\n    font-weight: bold;\n  `,\n  [ETimeBadgeVariant.NORMAL]: styled(StyledTimeBadge)`\n    background: ${Colors.green};\n  `,\n}\n\nconst bigNumberStyle = css`\n  font-size: 0.8rem;\n`\nconst dashStyle = css`\n  font-size: 1.7rem;\n  line-height: 1.6rem;\n  font-weight: bold;\n`\nconst clickable = css`\n  cursor: pointer;\n`\n\nexport const TimeBadge = React.forwardRef<HTMLDivElement, ITimeBadgeProps>(\n  ({ minutes, className, children, variant, onClick }, ref) => {\n    const Variant = variants[variant]\n    let output = children\n    const extraClassNames = ['animated']\n    if (minutes !== undefined) {\n      if (minutes > 99 || minutes < -9) {\n        extraClassNames.push(bigNumberStyle)\n      }\n      if (minutes < -99) {\n        output = ''\n        extraClassNames.push(dashStyle)\n      } else {\n        output = minutes.toString()\n      }\n    }\n    if (onClick) {\n      extraClassNames.push(clickable)\n    }\n    return (\n      <Variant\n        ref={ref}\n        key={minutes}\n        onClick={onClick}\n        className={cx(\n          className,\n          {\n            heartBeat: variant === ETimeBadgeVariant.CRITICAL && minutes! > 0,\n            pulse: variant === ETimeBadgeVariant.WARNING,\n          },\n          ...extraClassNames,\n        )}\n      >\n        {output}\n      </Variant>\n    )\n  },\n)\n","import styled from 'styled-components'\n\nexport const LinkStyled = styled.a`\n  color: inherit;\n  text-decoration-color: rgba(0, 0, 0, 0.08);\n  &:hover {\n    text-decoration-color: rgba(0, 0, 0, 0.5);\n  }\n  &:visited {\n    text-decoration-color: rgba(0, 0, 0, 0.08);\n  }\n`\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\",\n  opacity: \".87\"\n}), React.createElement(\"path\", {\n  d: \"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z\"\n})), 'CancelOutlined');","import { CancelOutlined } from '@material-ui/icons'\nimport { MINUTE, useTimer } from '@speedlo/hooks'\nimport { differenceInMinutes } from 'date-fns'\nimport { css } from 'emotion'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { ETimeBadgeVariant, TimeBadge } from '../../../atoms/TimeBadge'\nimport { Colors } from '../../../styling'\n\ninterface IDeliveryTimeBadgeProps {\n  deliverAt: Maybe<Date>\n  deliveredAt: Maybe<Date>\n  isCancelled?: boolean\n  isDelayed?: boolean\n  onClick?(): void\n}\n\nconst cancelIconPadding = css`\n  padding: 0.2rem 0.3rem 0.1rem 0.3rem;\n`\nconst StyledDelayedTimeMark = styled.div`\n  background: ${Colors.white};\n  border: 2px solid ${Colors.greyMiddle};\n  width: 0.6rem;\n  height: 0.6rem;\n  border-radius: 0.7rem;\n  position: absolute;\n`\n\nexport const DeliveryTimeBadge: React.FC<IDeliveryTimeBadgeProps> = ({\n  deliverAt,\n  deliveredAt,\n  isCancelled = false,\n  isDelayed = false,\n  onClick,\n}) => {\n  const timerEnabled = !(deliveredAt || isCancelled)\n  const now = useTimer({ interval: MINUTE, enabled: timerEnabled })\n\n  let variant = ETimeBadgeVariant.UNKNOWN\n\n  if (isCancelled) {\n    return (\n      <TimeBadge variant={variant} className={cancelIconPadding}>\n        <CancelOutlined />\n      </TimeBadge>\n    )\n  }\n\n  if (!deliverAt) {\n    return (\n      <TimeBadge variant={variant}>\n        <span role=\"img\" aria-label=\"Unknown\">\n          \n        </span>\n      </TimeBadge>\n    )\n  }\n\n  const minutes = differenceInMinutes(deliverAt, deliveredAt || now)\n\n  if (minutes > 20) {\n    variant = ETimeBadgeVariant.NORMAL\n  } else if (minutes > 0) {\n    variant = ETimeBadgeVariant.WARNING\n  } else {\n    variant = ETimeBadgeVariant.CRITICAL\n  }\n\n  return (\n    <>\n      {isDelayed && <StyledDelayedTimeMark />}\n      <TimeBadge minutes={minutes} variant={variant} onClick={onClick} />\n    </>\n  )\n}\n","import { History } from 'history'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { NoAccess } from '../atoms/NoAccess'\nimport {\n  IPageLayoutGridItemProps,\n  PageLayoutGridItem,\n} from '../atoms/PageLayoutGridItem'\nimport { Sizer } from '../atoms/Sizer'\nimport { useAccessGuard } from '../hooks/useAccessGuard'\nimport { useUserModel } from '../hooks/useUserModel'\nimport { Spacing } from '../styling'\n\ninterface IPageLayoutItemProps extends IPageLayoutGridItemProps {\n  children: ReactNode\n  route?: History.LocationDescriptor<any>\n  canQuery?: string | string[]\n  canMutate?: string | string[]\n  canAccessWithSingleBranch?: boolean\n}\n\nconst EMPTY_ARRAY = []\n\nexport const PageLayoutItem: React.FC<IPageLayoutItemProps> = ({\n  route,\n  children,\n  canQuery = EMPTY_ARRAY,\n  canMutate = EMPTY_ARRAY,\n  canAccessWithSingleBranch = true,\n  ...gridItemProps\n}) => {\n  const userModel = useUserModel()\n\n  const queries = normalizeAccess(canQuery)\n  const mutations = normalizeAccess(canMutate)\n  const hasAccess = useAccessGuard(queries, mutations)\n\n  if (!hasAccess) {\n    return (\n      <NoAccess>{`No access to ${\n        queries.length ? `queries ${queries.join(',')} ` : ''\n      }${\n        mutations.length ? `mutations ${mutations.join(',')}` : ''\n      }`}</NoAccess>\n    )\n  }\n\n  if (!canAccessWithSingleBranch && userModel.hasSingleBranch) {\n    return <NoAccess>No access to single branch account</NoAccess>\n  }\n\n  const layoutItem = route ? (\n    <Link to={route}>{children}</Link>\n  ) : (\n    <>{children}</>\n  )\n\n  return (\n    <PageLayoutGridItem {...gridItemProps}>\n      <Sizer height={Spacing.DashboardButtonHeight}>{layoutItem}</Sizer>\n    </PageLayoutGridItem>\n  )\n}\n\nfunction normalizeAccess(access: string | string[]) {\n  return Array.isArray(access) ? access : [access]\n}\n","import { useRoot } from '../atoms/RootProvider'\n\nexport function useUserModel() {\n  const { user } = useRoot()\n  return user\n}\n","import React from 'react'\n\nimport {\n  IPageLayoutResponsiveProps,\n  PageLayoutResponsive,\n} from '../../../molecules/PageLayoutResponsive'\n\ninterface IProps extends IPageLayoutResponsiveProps {}\n\nexport const DashboardPage: React.FC<IProps> = ({ children, ...props }) => {\n  return (\n    <PageLayoutResponsive isForIconDashboard showSoundControl {...props}>\n      {children}\n    </PageLayoutResponsive>\n  )\n}\n","import React from 'react'\n\nimport { FCustomerFragment } from '../../../graph/generated'\n\ninterface ICustomerNameProps {\n  customer: FCustomerFragment | null\n}\n\nexport const CustomerIdentity: React.FC<ICustomerNameProps> = ({ customer }) =>\n  customer ? (\n    <span>{`${\n      customer.lastName\n        ? `${customer.firstName} ${customer.lastName}`\n        : customer.defaultPhone\n          ? customer.defaultPhone.phone\n          : ``\n    }`}</span>\n  ) : (\n    <i>unknown</i>\n  )\n","import { SECOND } from '@speedlo/hooks'\nimport React from 'react'\n\nimport { useConfirmWithTimeout } from '../hooks/useConfirmWithTimeout'\nimport { Colors } from '../styling'\nimport { TouchButton } from './TouchButton'\n\ninterface IProps {\n  confirmNode: ReactNode | string\n  initialColor?: Colors\n  confirmColor?: Colors\n  confirmDisableMs?: number\n  resetToInitialMs?: number\n  disabled?: boolean\n  onConfirm(): void\n}\n\nexport const ConfirmButton: React.FC<IProps> = ({\n  confirmNode,\n  initialColor = Colors.greyMiddle,\n  confirmColor = Colors.red,\n  confirmDisableMs = 300,\n  resetToInitialMs = 3 * SECOND,\n  disabled,\n  children,\n  onConfirm,\n}) => {\n  const ref = React.useRef<HTMLButtonElement | null>(null)\n  const { confirming, onClick } = useConfirmWithTimeout({\n    confirmDisableMs,\n    resetToInitialMs,\n    onConfirm,\n    ref,\n  })\n\n  return (\n    <TouchButton\n      ref={ref}\n      onClick={onClick}\n      color={confirming ? confirmColor : initialColor}\n      disabled={disabled}\n    >\n      {confirming ? confirmNode : children}\n    </TouchButton>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { DeliveryTypeEnum } from '../graph/generated'\nimport { TouchButton } from '../molecules/TouchButton'\nimport { Colors } from '../styling'\n\ninterface IProps {\n  initialMinutes?: number\n  disabled?: boolean\n  deliveryType: DeliveryTypeEnum\n  onMinuteClick(minute: number): void\n}\n\nconst StyledDeliveryMinutes = styled.div`\n  display: flex;\n  justify-content: center;\n`\nconst StyledMinutesItem = styled.div`\n  margin: 1rem 1rem 0 0;\n`\n\nexport const DeliveryMinutes: React.FC<IProps> = ({\n  deliveryType,\n  disabled = false,\n  onMinuteClick,\n  initialMinutes,\n}) => {\n  const [selected, setSelected] = React.useState(initialMinutes)\n  const options = getMinutesForDeliveryType(deliveryType)\n  return (\n    <StyledDeliveryMinutes>\n      {options.map(minutes => (\n        <StyledMinutesItem key={minutes}>\n          <TouchButton\n            onClick={() => {\n              setSelected(minutes)\n              onMinuteClick(minutes)\n            }}\n            disabled={disabled}\n            color={selected === minutes ? Colors.yellow : Colors.green}\n          >\n            {minutes}\n          </TouchButton>\n        </StyledMinutesItem>\n      ))}\n    </StyledDeliveryMinutes>\n  )\n}\n\nconst deliveryMinutes = [20, 30, 45, 60, 75, 90, 105, 120]\nconst pickupMinutes = [10, 20, 30, 45, 60, 75, 90]\n\nexport function getMinutesForDeliveryType(type: DeliveryTypeEnum) {\n  return type === DeliveryTypeEnum.Pickup ? pickupMinutes : deliveryMinutes\n}\n","import { Note } from '@material-ui/icons'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { HorizontalSeparator } from '../../../atoms/HorizontalSeparator'\nimport { IconLine } from '../../../atoms/IconLine'\nimport { i18n } from '../../../i18n'\nimport { Colors } from '../../../styling'\n\ninterface INoteLineProps {\n  note?: string | null\n}\n\nconst StyledCurrentNote = styled.span`\n  color: ${Colors.orange};\n`\n\nexport const NoteLine: React.FC<INoteLineProps> = ({ note }) =>\n  note ? (\n    <>\n      <HorizontalSeparator />\n      <IconLine icon={Note} labelMargin=\"0\">\n        <StyledCurrentNote>\n          {note || i18n.t`Without note`.toLocaleLowerCase()}\n        </StyledCurrentNote>\n      </IconLine>\n    </>\n  ) : null\n","import React from 'react'\n\ninterface IOptions {\n  confirmDisableMs: number\n  resetToInitialMs: number\n  onConfirm: () => void\n  ref: React.MutableRefObject<{ disabled: boolean } | null>\n}\n\nexport function useConfirmWithTimeout({\n  confirmDisableMs,\n  resetToInitialMs,\n  onConfirm,\n  ref,\n}: IOptions) {\n  const [confirming, setConfirming] = React.useState(false)\n  const showConfirm = React.useCallback(() => {\n    if (ref.current) {\n      ref.current.disabled = true\n    }\n    setConfirming(true)\n\n    setTimeout(() => {\n      if (ref.current) {\n        ref.current.disabled = false\n      }\n    }, confirmDisableMs)\n  }, [ref, confirmDisableMs])\n\n  const confirm = React.useCallback(() => {\n    setConfirming(false)\n    onConfirm()\n  }, [onConfirm])\n\n  const onClick = confirming ? confirm : showConfirm\n\n  React.useEffect(() => {\n    if (confirming) {\n      const timer = setTimeout(() => setConfirming(false), resetToInitialMs)\n      return () => clearTimeout(timer)\n    }\n    return undefined\n  }, [resetToInitialMs, confirming])\n\n  return { confirming, onClick }\n}\n","import styled from 'styled-components/macro'\n\nexport const FlexDiv = styled.div`\n  display: flex;\n`\n","import { Star } from '@material-ui/icons'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { Icon } from '../../../atoms/Icon'\nimport { Colors } from '../../../styling'\n\nconst StyledOrderStarIndicator = styled.div`\n  display: inline-block;\n  position: absolute;\n  right: 3.8rem;\n  top: 0;\n`\n\nexport const OrderStarIndicator: React.FC = () => {\n  return (\n    <StyledOrderStarIndicator data-testid=\"OrderStarIndicator\">\n      <Icon icon={Star} color={Colors.orange} />\n    </StyledOrderStarIndicator>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport Color from 'color'\nimport React from 'react'\nimport { Element } from 'react-scroll'\nimport styled from 'styled-components'\n\nimport {\n  DeliveryTypeEnum,\n  FOrderTickerFragment,\n} from '../../../graph/generated'\nimport { formatAddress } from '../../../helpers/formats'\nimport { Colors, Radiuses } from '../../../styling'\nimport { CustomerIdentity } from '../atoms/CustomerIdentity'\nimport { DeliveryTimeBadge } from '../atoms/DeliveryTimeBadge'\nimport { OrderStarIndicator } from '../atoms/OrderStarIndicator'\n\ninterface IOrderTickerProps {\n  order: FOrderTickerFragment\n  showBranch: boolean\n  isCancelled: boolean\n  onClick(): void\n}\n\nconst OrderTickerStyled = styled(Element)`\n  text-align: left;\n  cursor: pointer;\n  &:hover {\n    background-color: ${Color(Colors.turquoise)\n      .alpha(0.05)\n      .string()};\n  }\n  &:active {\n    background-color: ${Color(Colors.turquoise)\n      .alpha(0.2)\n      .string()};\n  }\n`\n\nconst OrderTickerMainContentStyled = styled.div`\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  padding: 0.4rem;\n`\n\nconst DeliveryTimeBadgeContainerStyled = styled.div`\n  flex: 0 0 2rem;\n`\nconst AddressDisplayContainerStyled = styled.div`\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n`\nconst CustomerIdentityContainerStyled = styled.div`\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n`\nconst PriceContainerStyled = styled.div`\n  flex: 0 0 3.5rem;\n  text-align: right;\n  position: relative;\n`\nconst PaidMarkStyled = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0.1rem;\n    right: -0.3rem;\n    left: 0.9rem;\n    bottom: 0.3rem;\n    border-top: 2px solid ${Colors.orange};\n    transform: rotate(13deg);\n    transform-origin: 0% 0%;\n    opacity: 0.7;\n  }\n`\nconst PaidTextStyled = styled.div`\n  color: ${Colors.orange};\n`\n\nexport const ToBranchContainerStyled = styled.div`\n  padding: 0.3rem 0.6rem;\n  display: inline-block;\n  border-top-left-radius: ${Radiuses.Card};\n  background-color: ${Colors.green};\n  color: ${Colors.white};\n`\n\nconst ToPickupLabel = styled.div`\n  font-style: italic;\n  color: ${Colors.violet};\n`\n\nexport const OrderTicker: React.FC<IOrderTickerProps> = ({\n  order,\n  isCancelled,\n  showBranch,\n  onClick,\n}) => {\n  const getOrderDestination = () => {\n    if (order.sector !== null) {\n      return order.sector.name\n    }\n    if (\n      order.deliveryType &&\n      order.deliveryType.enum === DeliveryTypeEnum.Pickup\n    ) {\n      return (\n        <ToPickupLabel>\n          <Trans>To pickup</Trans>\n        </ToPickupLabel>\n      )\n    }\n    if (order.address.original) return order.address.original\n    return formatAddress(order.address)\n  }\n\n  return (\n    <OrderTickerStyled onClick={onClick} name={`order-${order.id}`}>\n      {showBranch && (\n        <ToBranchContainerStyled>\n          {order.companyBranch.name}\n        </ToBranchContainerStyled>\n      )}\n\n      <OrderTickerMainContentStyled>\n        <DeliveryTimeBadgeContainerStyled>\n          <DeliveryTimeBadge\n            deliverAt={order.deliverAt ? new Date(order.deliverAt) : null}\n            deliveredAt={order.deliveredAt ? new Date(order.deliveredAt) : null}\n            isCancelled={isCancelled}\n            isDelayed={order.delayedDeliveryTime !== null}\n          />\n        </DeliveryTimeBadgeContainerStyled>\n\n        <AddressDisplayContainerStyled>\n          {getOrderDestination()}\n        </AddressDisplayContainerStyled>\n\n        <CustomerIdentityContainerStyled>\n          <CustomerIdentity customer={order.customer} />\n        </CustomerIdentityContainerStyled>\n\n        <PriceContainerStyled>\n          {order.isPriority && <OrderStarIndicator />}\n          {order.totalSum.formattedValue}\n          {order.isPaidWithCard && (\n            <>\n              <PaidMarkStyled data-testid=\"PaidMark\" />\n              <PaidTextStyled>\n                <Trans>Paid</Trans>\n              </PaidTextStyled>\n            </>\n          )}\n        </PriceContainerStyled>\n      </OrderTickerMainContentStyled>\n    </OrderTickerStyled>\n  )\n}\n","import { useRoot } from '../../../atoms/RootProvider'\n\nexport function useOrderModel() {\n  const { order } = useRoot()\n  return order\n}\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\n\nimport { DeliveryMinutes } from '../../../atoms/DeliveryMinutes'\nimport { DeliveryTypeEnum } from '../../../graph/generated'\nimport { useSmartDialog } from '../../../hooks/useSmartDialog'\nimport { TouchButton } from '../../../molecules/TouchButton'\n\ninterface IOptions {\n  title: string\n  deliveryType: DeliveryTypeEnum\n  onConfirm(minutes: number, onSuccess: () => void): Promise<unknown>\n}\n\nexport function useTimeSelectionDialog({\n  title,\n  deliveryType,\n  onConfirm,\n}: IOptions) {\n  const [isSubmitting, setSubmitting] = React.useState(false)\n  return useSmartDialog({\n    title,\n    content: ({ close }) => (\n      <DeliveryMinutes\n        disabled={isSubmitting}\n        deliveryType={deliveryType}\n        onMinuteClick={minutes => {\n          setSubmitting(true)\n          onConfirm(minutes, close).finally(() => {\n            setSubmitting(false)\n          })\n        }}\n      />\n    ),\n    actions: ({ close }) => (\n      <TouchButton disabled={isSubmitting} onClick={close}>\n        <Trans>Cancel</Trans>\n      </TouchButton>\n    ),\n  })\n}\n","import {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n} from '@material-ui/core'\nimport { Observer, useLocalStore } from 'mobx-react-lite'\nimport React from 'react'\n\ntype TRenderArea = ReactNodes | ((api: IDialogApi) => ReactNodes)\n\ninterface IProps {\n  initialOpen?: boolean\n  title?: string | ReactNode\n  actions?: TRenderArea\n  content: TRenderArea\n}\n\ninterface IDialogApi {\n  isOpen: boolean\n  open: () => void\n  close: () => void\n}\n\nexport function useSmartDialog({\n  content,\n  title,\n  actions,\n  initialOpen = false,\n}: IProps) {\n  const state = useLocalStore(() => ({\n    isOpen: initialOpen,\n    open() {\n      this.isOpen = true\n    },\n    close() {\n      this.isOpen = false\n    },\n  }))\n\n  const renderArea = (area: TRenderArea) => {\n    if (typeof area === 'function') {\n      return area(state)\n    }\n    return area\n  }\n\n  const dialog = (\n    <Observer>\n      {() => (\n        <Dialog open={state.isOpen} onClose={state.close}>\n          {title && <DialogTitle>{title}</DialogTitle>}\n          <DialogContent>{renderArea(content)}</DialogContent>\n          {actions && <DialogActions>{renderArea(actions)}</DialogActions>}\n        </Dialog>\n      )}\n    </Observer>\n  )\n\n  return [dialog, state] as [typeof dialog, typeof state]\n}\n","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n} // About 1.5x faster than the two-arg version of Array#splice()\n\n\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n} // This implementation is based heavily on node's url.parse\n\n\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n  var hasTrailingSlash;\n\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) {\n    fromParts.unshift('..');\n  }\n  if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n  var result = fromParts.join('/');\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n  return result;\n}\n\nexport default resolvePathname;","import styled from 'styled-components'\n\nexport const AutoHeight = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`\n","import styled from 'styled-components'\n\nimport { Colors } from '../styling'\nimport { FlexDiv } from './FlexDiv'\n\nexport const FlexRow = styled(FlexDiv)`\n  flex-direction: row;\n  justify-content: space-between;\n  border-bottom: 1px solid ${Colors.greyMiddle};\n  padding: 0.1rem 0 0.1rem 0;\n`\n","import { LocationDescriptor } from 'history'\nimport React from 'react'\nimport { Link, LinkProps, Route } from 'react-router-dom'\nimport resolvePathname from 'resolve-pathname'\n\ninterface IRelativeLinkProps extends LinkProps {\n  to: LocationDescriptor\n  from?: string\n}\n\nexport const RelativeLink: React.FC<IRelativeLinkProps> = ({\n  to,\n  from,\n  ...linkProps\n}) => (\n  <Route\n    children={({ location }) => (\n      <Link\n        to={resolveLocation(to, from || `${location.pathname}/`)}\n        {...linkProps}\n      />\n    )}\n  />\n)\n\nexport function resolveLocation(to: LocationDescriptor, from: string) {\n  if (typeof to === 'string') {\n    return resolvePathname(to, from)\n  }\n  const resolved = resolvePathname(to.pathname || '', from)\n  return { ...to, pathname: resolved }\n}\n","import { MailOutline, Phone, SvgIconComponent } from '@material-ui/icons'\nimport React from 'react'\n\nimport { HorizontalSeparator } from '../../../atoms/HorizontalSeparator'\nimport { IconLine } from '../../../atoms/IconLine'\nimport { LinkStyled } from '../../../atoms/LinkStyled'\nimport { FEmailFragment, FPhoneFragment } from '../../../graph/generated'\n\ninterface IContactLinesProps {\n  phones: RoA<FPhoneFragment>\n  emails: RoA<FEmailFragment>\n}\n\ntype Contact = {\n  icon: SvgIconComponent\n  isMail: boolean\n  value: string\n} & (FPhoneFragment | FEmailFragment)\n\nexport const ContactLines: React.FC<IContactLinesProps> = ({\n  phones,\n  emails,\n}) => {\n  const renderClickableLink = (contact: Contact) =>\n    contact.isMail ? (\n      <LinkStyled href={`mailto:${contact.value}`}>{contact.value}</LinkStyled>\n    ) : (\n      <LinkStyled href={`tel:${contact.value.replace('/ /g', '')}`}>\n        {contact.value}\n      </LinkStyled>\n    )\n\n  const renderContact = (contact: Contact) => (\n    <IconLine icon={contact.icon} key={contact.value} labelMargin=\"0\">\n      <div title={contact.description || ''}>\n        {renderClickableLink(contact)}\n      </div>\n    </IconLine>\n  )\n  return (\n    <>\n      {(phones.length > 0 || emails.length > 0) && <HorizontalSeparator />}\n      {phones.map(phone =>\n        renderContact({\n          icon: Phone,\n          isMail: false,\n          value: phone.phone,\n          ...phone,\n        }),\n      )}\n      {emails.map(email =>\n        renderContact({\n          icon: MailOutline,\n          isMail: true,\n          value: email.email,\n          ...email,\n        }),\n      )}\n    </>\n  )\n}\n","import { Plural, SelectOrdinal, Trans } from '@lingui/react'\nimport React from 'react'\n\ninterface IProps {\n  current: number\n  total: number\n}\n\nexport const OrderCountLine: React.FC<IProps> = ({ current, total }) => (\n  <Trans>\n    It's customer's{' '}\n    <SelectOrdinal value={current} one=\"#st\" two=\"#nd\" few=\"#rd\" other=\"#th\" />{' '}\n    order <Plural value={total} one=\"\" other=\"from total of # orders\" />\n  </Trans>\n)\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Price } from '../../../atoms/Price'\nimport { Colors } from '../../../styling'\n\ninterface IProps {\n  label: string\n  price: number\n  highlight?: boolean\n}\n\nconst OrderWareLineWrap = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding-left: 3rem;\n`\n\nconst NameContainerStyled = styled.div`\n  flex: 1 0;\n  color: ${Colors.greyMiddle};\n`\nconst PriceContainerStyled = styled.div`\n  flex: 0 0 4.5rem;\n  text-align: right;\n  color: ${Colors.greyMiddle};\n`\n\nexport const OrderWarePriceLine: React.FC<IProps> = ({\n  label,\n  price,\n  highlight = false,\n}) => (\n  <OrderWareLineWrap>\n    <NameContainerStyled>{label}</NameContainerStyled>\n    <PriceContainerStyled>\n      {highlight ? (\n        <b>\n          <Price price={price} />\n        </b>\n      ) : (\n        <Price price={price} />\n      )}\n    </PriceContainerStyled>\n  </OrderWareLineWrap>\n)\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { FOrderTotalsFragment } from '../../../graph/generated'\nimport { i18n } from '../../../i18n'\nimport { OrderWarePriceLine } from './OrderWarePriceLine'\n\ninterface IProps {\n  totals: FOrderTotalsFragment\n}\n\nconst StyledOrderDetailTotals = styled.div`\n  margin: 0 0 0 auto;\n  width: 20rem;\n  text-align: right;\n`\n\nexport const OrderDetailTotals: React.FC<IProps> = ({ totals }) => (\n  <StyledOrderDetailTotals>\n    <OrderWarePriceLine label={i18n.t`Tips`} price={totals.tip.value} />\n    <OrderWarePriceLine\n      label={i18n.t`Transport fee`}\n      price={totals.transportFee.value}\n    />\n    <OrderWarePriceLine\n      label={i18n.t`Covers price`}\n      price={totals.coverPrice.value}\n    />\n    <OrderWarePriceLine\n      label={i18n.t`Discount total`}\n      price={totals.totalDiscount.value * -1}\n    />\n    <OrderWarePriceLine\n      label={i18n.t`Extra charge`}\n      price={totals.extraCharge.value}\n    />\n    <OrderWarePriceLine\n      label={i18n.t`Total price`}\n      price={totals.totalSum.value}\n      highlight={true}\n    />\n  </StyledOrderDetailTotals>\n)\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\"\n}), 'FormatListNumbered');","import { FormatListNumbered } from '@material-ui/icons'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { IconLine } from '../../../atoms/IconLine'\nimport {\n  OrderOriginEnum,\n  QOrderDetailOrderOrigin,\n} from '../../../graph/generated'\nimport { Colors } from '../../../styling'\n\ninterface IProps {\n  displayedId: string\n  orderOrigin: QOrderDetailOrderOrigin\n}\n\nconst orderColorAccordingOrigin = ({ orderOrigin }: IProps) => {\n  switch (orderOrigin.enum) {\n    case OrderOriginEnum.DameJidlo:\n      return Colors.orange\n    default:\n      return Colors.greyLight\n  }\n}\n\nconst OrderOriginLabel = styled.div`\n  display: inline-block;\n  background: ${orderColorAccordingOrigin};\n  border-radius: 0.7rem;\n  margin: 0 0 0 1rem;\n  padding: 0.1rem 0.8rem;\n`\n\nexport const OrderIdLine: React.FC<IProps> = ({ displayedId, orderOrigin }) => (\n  <IconLine icon={FormatListNumbered} labelMargin=\"0\">\n    {displayedId}\n    <OrderOriginLabel orderOrigin={orderOrigin} displayedId={displayedId}>\n      {orderOrigin.code}\n    </OrderOriginLabel>\n  </IconLine>\n)\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z\"\n}), 'Announcement');","import { Announcement } from '@material-ui/icons'\nimport React from 'react'\n\nimport { HorizontalSeparator } from '../../../atoms/HorizontalSeparator'\nimport { IconLine } from '../../../atoms/IconLine'\n\ninterface IOrderRuleLinesProps {\n  rules: RoA<string>\n}\n\nexport const OrderRuleLines: React.FC<IOrderRuleLinesProps> = ({\n  rules,\n  children,\n}) =>\n  rules.length > 0 || children ? (\n    <>\n      <HorizontalSeparator />\n      <IconLine icon={Announcement} labelMargin=\"0\">\n        {children}\n        <br />\n        {rules.join(', ')}\n      </IconLine>\n    </>\n  ) : null\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M16.24 7.76C15.07 6.59 13.54 6 12 6v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0 2.34-2.34 2.34-6.14-.01-8.48zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'Timelapse');","import styled from 'styled-components'\n\nimport { Colors } from '../../../styling'\n\nexport const OrderTimeLabel = styled.div`\n  margin-left: 1rem;\n  display: inline-block;\n  color: ${Colors.greyMiddle};\n`\n","import { Trans } from '@lingui/macro'\nimport { Timelapse } from '@material-ui/icons'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { IconLine } from '../../../atoms/IconLine'\nimport { QOrderDetailOrder } from '../../../graph/generated'\nimport { formatTimeWithoutTodayDate } from '../../../helpers/formats'\nimport { Colors } from '../../../styling'\nimport { OrderTimeLabel } from '../atoms/OrderTimeLabel'\n\ninterface IProps {\n  order: QOrderDetailOrder\n}\n\nconst DelayedDeliveryTimeLabel = styled.span`\n  font-weight: bold;\n  color: ${Colors.orange};\n`\n\nconst DelayedOrderTimeLabel = styled(OrderTimeLabel)`\n  color: ${Colors.orange};\n`\n\nexport const OrderStats: React.FC<IProps> = ({ order }) => {\n  const stats: ReactNode[] = []\n  if (order.delayedDeliveryTime) {\n    stats.push(\n      <div key=\"delayedDeliveryTime\">\n        <DelayedDeliveryTimeLabel>\n          {formatTimeWithoutTodayDate(order.delayedDeliveryTime)}\n        </DelayedDeliveryTimeLabel>\n        <DelayedOrderTimeLabel>\n          <Trans>Deliver at time</Trans>\n        </DelayedOrderTimeLabel>\n      </div>,\n    )\n  } else if (order.deliverAt) {\n    stats.push(\n      <div key=\"deliverAt\">\n        {formatTimeWithoutTodayDate(order.deliverAt)}\n        <OrderTimeLabel>\n          <Trans>Deliver on time</Trans>\n        </OrderTimeLabel>\n      </div>,\n    )\n  }\n\n  if (order.driver) {\n    const { firstName, lastName } = order.driver.user\n    stats.push(\n      <div key=\"driver\">\n        {`${firstName} ${lastName}`}\n        <OrderTimeLabel>\n          <Trans>Driver</Trans>\n        </OrderTimeLabel>\n      </div>,\n    )\n  }\n  if (stats.length === 0) {\n    return null\n  }\n  return (\n    <IconLine icon={Timelapse} labelMargin=\"0\">\n      {stats}\n    </IconLine>\n  )\n}\n","import { i18nMark } from '@lingui/core'\nimport { AccessTime } from '@material-ui/icons'\nimport React from 'react'\n\nimport { IconLine } from '../../../atoms/IconLine'\nimport {\n  FOrderTimingOrderTiming,\n  OrderStateCategoryEnum,\n} from '../../../graph/generated'\nimport { formatTimeWithoutTodayDate } from '../../../helpers/formats'\nimport { RM } from '../../../helpers/ramda'\nimport { i18n } from '../../../i18n'\nimport { OrderTimeLabel } from '../atoms/OrderTimeLabel'\n\ninterface IProps {\n  orderTiming: RoA<FOrderTimingOrderTiming>\n}\n\nconst labelMap = {\n  [OrderStateCategoryEnum.NewOrders]: i18nMark('Created'),\n  [OrderStateCategoryEnum.Preparing]: i18nMark('Preparing'),\n  [OrderStateCategoryEnum.ReadyToDeliver]: i18nMark('Ready to deliver'),\n  [OrderStateCategoryEnum.OnWay]: i18nMark('On way'),\n  [OrderStateCategoryEnum.Finished]: i18nMark('Finished'),\n}\n\nexport const OrderTimeLine: React.FC<IProps> = ({ orderTiming }) => (\n  <IconLine icon={AccessTime} labelMargin=\"0\">\n    {RM.reject(\n      ({ createdAt, orderStateCategory }) =>\n        createdAt === null || !labelMap[orderStateCategory],\n      orderTiming,\n    ).map(timing => (\n      <div key={timing.orderStateCategory}>\n        {formatTimeWithoutTodayDate(timing.createdAt)}\n        <OrderTimeLabel>\n          {i18n._(labelMap[timing.orderStateCategory])}\n        </OrderTimeLabel>\n      </div>\n    ))}\n  </IconLine>\n)\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Price } from '../../../atoms/Price'\nimport { Colors } from '../../../styling'\n\ninterface IOrderWareLineProps {\n  code?: string\n  label: string\n  price: number\n}\n\nconst OrderWareLineWrap = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding-left: 3rem;\n`\nconst CodeContainerStyled = styled.div`\n  flex: 0 0 5rem;\n`\nconst NameContainerStyled = styled.div`\n  flex: 1 0;\n  color: ${Colors.black};\n`\nconst PriceContainerStyled = styled.div`\n  flex: 0 0 4.5rem;\n  text-align: right;\n  color: ${Colors.greyMiddle};\n`\n\nexport const OrderWareLine: React.FC<IOrderWareLineProps> = ({\n  code,\n  label,\n  price,\n}) => (\n  <OrderWareLineWrap>\n    <CodeContainerStyled>{code}</CodeContainerStyled>\n\n    <NameContainerStyled>{label}</NameContainerStyled>\n    <PriceContainerStyled>\n      <Price price={price} />\n    </PriceContainerStyled>\n  </OrderWareLineWrap>\n)\n","import React, { Fragment } from 'react'\n\nimport { QOrderDetailItems } from '../../../graph/generated'\nimport { OrderWareLine } from './OrderWareLine'\n\ninterface IOrderWareListProps {\n  orderWares: RoA<QOrderDetailItems>\n}\n\nexport const OrderWareList: React.FC<IOrderWareListProps> = ({\n  orderWares,\n}) => {\n  const renderWare = (orderWare: QOrderDetailItems) => (\n    <Fragment key={orderWare.id}>\n      <OrderWareLine\n        code={orderWare.recipe.code}\n        label={orderWare.recipe.nameLabel!}\n        price={orderWare.price.value}\n      />\n      <>\n        {orderWare.sidedishes.map(sidedish => (\n          <OrderWareLine\n            key={sidedish.id}\n            code={`+${sidedish.recipe.code}`}\n            label={sidedish.recipe.nameLabel!}\n            price={sidedish.price.value}\n          />\n        ))}\n      </>\n    </Fragment>\n  )\n  return <div>{orderWares.map(renderWare)}</div>\n}\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"\n}), 'Menu');","import { Menu } from '@material-ui/icons'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { SizerButton } from '../atoms/SizerButton'\nimport { Colors, Radiuses, Spacing } from '../styling'\nimport { TouchButton } from './TouchButton'\n\ninterface IProps {}\n\nconst StyledHamburgerMenu = styled.div`\n  position: relative;\n`\n\nconst PopupMenu = styled.div`\n  position: absolute;\n  bottom: 4rem;\n  left: 0;\n  background: ${Colors.white};\n  padding: ${Spacing.Small};\n  border: solid 1px ${Colors.greyLight};\n  border-radius: ${Radiuses.Card};\n  box-shadow: 2px 6px 21px -2px rgba(0, 0, 0, 0.75);\n  & > *:not(:last-child) {\n    margin-bottom: ${Spacing.Middle};\n  }\n`\n\nexport const HamburgerMenu: React.FC<IProps> = ({ children }) => {\n  const [isOpened, setIsOpened] = React.useState(false)\n  return React.Children.count(children) ? (\n    <StyledHamburgerMenu>\n      <SizerButton>\n        <TouchButton\n          icon={Menu}\n          disabled={children === null}\n          onClick={() => setIsOpened(!isOpened)}\n        />\n      </SizerButton>\n      {isOpened && <PopupMenu>{children}</PopupMenu>}\n    </StyledHamburgerMenu>\n  ) : null\n}\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\n\nimport { Sizer } from '../../../atoms/Sizer'\nimport { useMCancelOrder } from '../../../graph/generated'\nimport { ConfirmButton } from '../../../molecules/ConfirmButton'\nimport { Spacing } from '../../../styling'\n\ninterface IProps {\n  orderId: ID\n}\n\nexport const OrderCancelButton: React.FC<IProps> = ({ orderId }) => {\n  const [cancelOrder] = useMCancelOrder()\n\n  return (\n    <Sizer width={Spacing.OrderFlowMenuButtonWidth}>\n      <ConfirmButton\n        confirmNode={<Trans>Really cancel?</Trans>}\n        onConfirm={() => {\n          cancelOrder({ orderId })\n        }}\n      >\n        <Trans>Cancel order</Trans>\n      </ConfirmButton>\n    </Sizer>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\n\nimport { CanMutate } from '../../../atoms/CanMutate'\nimport { Sizer } from '../../../atoms/Sizer'\nimport { useMOrderChangeToPickup } from '../../../graph/generated'\nimport { ConfirmButton } from '../../../molecules/ConfirmButton'\nimport { Spacing } from '../../../styling'\n\ninterface IProps {\n  orderId: ID\n  isDelivery: boolean\n}\n\nexport const OrderDeliveryToPickup: React.FC<IProps> = ({\n  orderId,\n  isDelivery,\n}) => {\n  const [changeToPickup] = useMOrderChangeToPickup()\n  if (!isDelivery) {\n    return null\n  }\n  return (\n    <CanMutate mutationName=\"updateOrderDeliveryToPickup\">\n      <Sizer width={Spacing.OrderFlowMenuButtonWidth}>\n        <ConfirmButton\n          confirmNode={<Trans>Really change?</Trans>}\n          onConfirm={() => {\n            changeToPickup({ orderId })\n          }}\n        >\n          <Trans>Change to pickup</Trans>\n        </ConfirmButton>\n      </Sizer>\n    </CanMutate>\n  )\n}\n","import { SECOND } from '@speedlo/hooks'\nimport { cn } from '@speedlo/ui'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { Sizer } from '../atoms/Sizer'\nimport { useConfirmWithTimeout } from '../hooks/useConfirmWithTimeout'\nimport { Colors, Spacing } from '../styling'\nimport { TouchButton } from './TouchButton'\n\ninterface IProps {\n  confirmNode: ReactNode | string\n  selectNode: ReactNode | string\n  initialColor?: Colors\n  confirmColor?: Colors\n  confirmDisableMs?: number\n  resetToInitialMs?: number\n  disabled?: boolean\n  onConfirm(): void\n}\n\nconst StyledSelectButton = styled.div`\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 5px;\n\n  > * {\n    height: 100%;\n  }\n\n  button.flat-left {\n    border-top-left-radius: 0px;\n    border-bottom-left-radius: 0px;\n  }\n`\n\nexport const SelectButton: React.FC<IProps> = ({\n  confirmNode,\n  selectNode,\n  initialColor = Colors.greyMiddle,\n  confirmColor = Colors.red,\n  confirmDisableMs = 300,\n  resetToInitialMs = 30 * SECOND,\n  disabled,\n  children,\n  onConfirm,\n}) => {\n  const ref = React.useRef<HTMLButtonElement | null>(null)\n  const { confirming, onClick } = useConfirmWithTimeout({\n    confirmDisableMs,\n    resetToInitialMs,\n    onConfirm,\n    ref,\n  })\n\n  return (\n    <StyledSelectButton>\n      {confirming && selectNode}\n      <Sizer width={Spacing.OrderFlowMenuButtonWidth}>\n        <TouchButton\n          ref={ref}\n          onClick={onClick}\n          color={confirming ? confirmColor : initialColor}\n          className={cn({ 'flat-left': confirming })}\n          disabled={disabled}\n        >\n          {confirming ? confirmNode : children}\n        </TouchButton>\n      </Sizer>\n    </StyledSelectButton>\n  )\n}\n","import { idProp } from '@speedlo/tools'\nimport React from 'react'\nimport { Props } from 'react-select/lib/Select'\n\nimport { SelectControl } from '../../../atoms/SelectControl'\nimport { FPaymentMethodFragment as FPaymentMethod } from '../../../graph/generated'\n\ninterface IProps extends Props<FPaymentMethod> {\n  paymentMethods: RoA<FPaymentMethod>\n  selectedMethod: Maybe<FPaymentMethod>\n  onSelection: (method: Maybe<FPaymentMethod>) => void\n  inputStyles?: React.CSSProperties\n}\n\nexport const PaymentMethodDropdown: React.FC<IProps> = ({\n  paymentMethods,\n  selectedMethod,\n  onSelection,\n  inputStyles = {},\n  ...props\n}) => (\n  <SelectControl<FPaymentMethod>\n    value={selectedMethod}\n    options={paymentMethods}\n    getOptionValue={idProp}\n    isSearchable={false}\n    formatOptionLabel={method => method.description || method.paymentGate.code}\n    styles={{\n      control: base => ({\n        ...base,\n        height: '100%',\n        margin: 0,\n        ...inputStyles,\n      }),\n    }}\n    onChange={selection => {\n      onSelection((selection as FPaymentMethod) || null)\n    }}\n    {...props}\n  />\n)\n","import { Trans } from '@lingui/macro'\nimport { RM } from '@speedlo/tools'\nimport React from 'react'\n\nimport {\n  FPaymentMethodFragment as FPaymentMethod,\n  useMChangePaymentMethod,\n} from '../../../graph/generated'\nimport { useCanMutate } from '../../../hooks/useAccessGuard'\nimport { SelectButton } from '../../../molecules/SelectButton'\nimport { Radiuses } from '../../../styling'\nimport { PaymentMethodDropdown } from './PaymentMethodDropdown'\n\ninterface IProps {\n  orderId: ID\n  paymentMethods: RoA<FPaymentMethod>\n}\n\nexport const OrderPaymentMethod: React.FC<IProps> = ({\n  orderId,\n  paymentMethods,\n}) => {\n  const hasSomeMethod = paymentMethods.length > 0\n  const [changePaymentMethod] = useMChangePaymentMethod()\n  const canChangePaymentMethod = useCanMutate('updateOrderPaymentMethod')\n  const [selectedMethod, setSelectedMethod] = React.useState<\n    Maybe<FPaymentMethod>\n  >(null)\n\n  React.useEffect(() => {\n    setSelectedMethod(() => (hasSomeMethod ? RM.head(paymentMethods)! : null))\n  }, [hasSomeMethod, paymentMethods])\n\n  const onChangePaymentMethod = () => {\n    if (selectedMethod) {\n      changePaymentMethod({ orderId, paymentMethodId: selectedMethod.id })\n    }\n  }\n\n  if (!canChangePaymentMethod || !hasSomeMethod) {\n    return null\n  }\n\n  return (\n    <SelectButton\n      confirmNode={<Trans>Change</Trans>}\n      onConfirm={onChangePaymentMethod}\n      selectNode={\n        <PaymentMethodDropdown\n          paymentMethods={paymentMethods}\n          selectedMethod={selectedMethod}\n          onSelection={setSelectedMethod}\n          inputStyles={{\n            borderRadius: Radiuses.Button,\n            borderTopRightRadius: 0,\n            borderBottomRightRadius: 0,\n          }}\n        />\n      }\n    >\n      <Trans>Change payment method</Trans>\n    </SelectButton>\n  )\n}\n","import { Star } from '@material-ui/icons'\nimport React from 'react'\n\nimport { CanMutate } from '../../../atoms/CanMutate'\nimport { SizerButton } from '../../../atoms/SizerButton'\nimport { useMSetPriorityOrder } from '../../../graph/generated'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors } from '../../../styling'\n\ninterface IProps {\n  orderId: ID\n  isPriority: boolean\n}\n\nexport const OrderStarButton: React.FC<IProps> = ({ orderId, isPriority }) => {\n  const [setPriorityOrder] = useMSetPriorityOrder()\n\n  return (\n    <CanMutate mutationName=\"setPriorityOrder\">\n      <SizerButton>\n        <TouchButton\n          icon={Star}\n          iconColor={isPriority ? Colors.orange : Colors.white}\n          onClick={() => setPriorityOrder({ orderId, isPriority: !isPriority })}\n        />\n        >\n      </SizerButton>\n    </CanMutate>\n  )\n}\n","import { i18nMark } from '@lingui/core'\nimport React from 'react'\n\nimport { CanMutate } from '../../../atoms/CanMutate'\nimport { OrderStateEnum, useMOrderState } from '../../../graph/generated'\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors, Spacing } from '../../../styling'\n\ninterface IProps {\n  orderId: ID\n  nextState: OrderStateEnum\n}\n\nconst stateLabels = {\n  [OrderStateEnum.Accepted]: i18nMark('Accept order'),\n  [OrderStateEnum.ReadyToDeliver]: i18nMark('Ready to deliver'),\n  [OrderStateEnum.Finished]: i18nMark('Finish order'),\n}\n\nexport const OrderStateButton: React.FC<IProps> = ({ orderId, nextState }) => {\n  const [updateOrderState] = useMOrderState()\n\n  return (\n    <CanMutate mutationName=\"addOrderState\">\n      <TouchButton\n        text={i18n._(stateLabels[nextState])}\n        color={\n          nextState === OrderStateEnum.ReadyToDeliver\n            ? Colors.greyMiddle\n            : Colors.green\n        }\n        width={`${Spacing.OrderFlowMenuButtonWidth}rem`}\n        onClick={() => {\n          updateOrderState({ orderId, state: nextState })\n        }}\n      />\n    </CanMutate>\n  )\n}\n","import { DirectionsCar } from '@material-ui/icons'\nimport React from 'react'\nimport { components } from 'react-select'\nimport { StylesConfig } from 'react-select/lib/styles'\nimport styled from 'styled-components/macro'\n\nimport { Icon } from '../../../atoms/Icon'\nimport { SelectControl } from '../../../atoms/SelectControl'\nimport { FDriverFragment } from '../../../graph/generated'\nimport { RM } from '../../../helpers/ramda'\nimport { i18n } from '../../../i18n'\nimport { Colors, Radiuses, Spacing } from '../../../styling'\n\ntype TDriver = FDriverFragment\n\ninterface IProps {\n  drivers: RoA<TDriver>\n  selectedDriver: Maybe<TDriver>\n  isLoading: boolean\n  onSelect(driver: TDriver): void\n  onClear(): void\n  onReload(): void\n}\n\nconst StyledDriverName = styled.div`\n  margin: 0.1rem 0 0rem 0.2rem;\n  display: inline-block;\n  vertical-align: top;\n  font-size: 1.25rem;\n`\n\nconst StyledValueContainer = styled.div`\n  margin: 0 0 0 0.7rem;\n  display: flex;\n  pointer-events: none;\n  width: 80%;\n`\n\nconst textColor = { color: Colors.white }\n\nconst styles: StylesConfig = {\n  control: base => ({\n    ...base,\n    ...textColor,\n    background: Colors.green,\n    height: Spacing.ButtonHeight + Spacing.DefaultSizeUnit,\n    border: 'none',\n    borderWidth: 0,\n    borderRadius: Radiuses.Button,\n    margin: 0,\n  }),\n  menu: base => ({\n    ...base,\n  }),\n  valueContainer: base => ({\n    ...base,\n    ...textColor,\n  }),\n  singleValue: base => ({\n    ...base,\n    ...textColor,\n  }),\n  placeholder: base => ({\n    ...base,\n    ...textColor,\n    fontSize: '1.2rem',\n  }),\n  clearIndicator: base => ({\n    ...base,\n    color: Colors.white,\n  }),\n  indicatorSeparator: base => ({\n    ...base,\n    display: 'none',\n  }),\n}\n\nexport const OrderDriverSelect: React.FC<IProps> = ({\n  drivers,\n  selectedDriver,\n  isLoading,\n  onSelect,\n  onClear,\n  onReload,\n}) => (\n  <SelectControl<TDriver>\n    options={drivers as TDriver[]}\n    value={selectedDriver}\n    getOptionValue={RM.prop('id')}\n    isLoading={isLoading}\n    isSearchable={false}\n    isClearable={true}\n    placeholder=\"Deliver order\"\n    width={16}\n    styles={styles}\n    noOptionsMessage={() => i18n.t`No drivers available`}\n    onChange={driver => {\n      if (driver === null) {\n        onClear()\n      } else {\n        onSelect(driver as TDriver)\n      }\n    }}\n    onMenuOpen={onReload}\n    components={{\n      ValueContainer: props => (\n        <StyledValueContainer>\n          <Icon icon={DirectionsCar} fontSize={2} color={Colors.white} />\n          <components.ValueContainer {...props} />\n        </StyledValueContainer>\n      ),\n      DropdownIndicator: () => null,\n    }}\n    formatOptionLabel={driver => (\n      <StyledDriverName>{`${driver.firstName} ${driver.lastName}`}</StyledDriverName>\n    )}\n    theme={theme => ({\n      ...theme,\n      blurInputOnSelect: false,\n      colors: {\n        ...theme.colors,\n        primary: Colors.greyMiddle,\n        primary25: Colors.greyLight,\n      },\n    })}\n  />\n)\n","import React from 'react'\n\nimport { CanMutate } from '../../../atoms/CanMutate'\nimport {\n  OrderStateCategoryEnum,\n  OrderStateEnum,\n  useMOrderState,\n  useMRemoveOrderDriver,\n  useMSelectOrderDriver,\n  useQOrderDrivers,\n} from '../../../graph/generated'\nimport { useCanQuery } from '../../../hooks/useAccessGuard'\nimport { OrderDriverSelect } from '../atoms/OrderDriverSelect'\n\ninterface IProps {\n  branchId: ID\n  orderId: ID\n  orderStateCategory: OrderStateCategoryEnum\n}\n\nexport const OrderStateDeliver: React.FC<IProps> = ({\n  branchId,\n  orderId,\n  orderStateCategory,\n}) => {\n  const canRead = useCanQuery('drivers')\n\n  const [deliverOrder] = useMOrderState()\n  const [selectDriver] = useMSelectOrderDriver()\n  const [removeDriver] = useMRemoveOrderDriver()\n\n  const { data, loading, refetch } = useQOrderDrivers(\n    {\n      branchId: [branchId],\n      orderId,\n    },\n    {\n      skip: !canRead,\n    },\n  )\n  return (\n    <CanMutate mutationName=\"createUserDeliveringOrder\">\n      <OrderDriverSelect\n        drivers={loading || !canRead ? [] : data.drivers}\n        selectedDriver={\n          loading ? null : data.order.driver && data.order.driver.user\n        }\n        isLoading={loading}\n        onReload={refetch}\n        onClear={() => {\n          const orderDriver = data.order.driver\n          if (orderDriver) {\n            removeDriver({ orderDriverId: orderDriver.id })\n          }\n        }}\n        onSelect={driver => {\n          selectDriver({ orderId, driverId: driver.id })\n          if (orderStateCategory !== OrderStateCategoryEnum.OnWay) {\n            deliverOrder({ orderId, state: OrderStateEnum.OnWay })\n          }\n        }}\n      />\n    </CanMutate>\n  )\n}\n","import React, { Children } from 'react'\nimport styled from 'styled-components/macro'\n\nimport { Spacing } from '../../../styling'\n\ninterface IProps {}\n\nconst StyledOrderStateFlowContainer = styled.div`\n  margin: 0 0 0 auto;\n  padding-left: ${Spacing.ButtonHeight + Spacing.DefaultSizeUnit};\n  text-align: right;\n\n  & .menu-item {\n    margin: 0 0 0 ${Spacing.Middle};\n    display: inline-block;\n    vertical-align: bottom;\n    text-align: left;\n    height: 100%;\n  }\n`\n\nexport const OrderStateFlowContainer: React.FC<IProps> = ({ children }) => (\n  <StyledOrderStateFlowContainer>\n    {Children.map(children, (child, idx) => (\n      <div className=\"menu-item\" key={idx}>\n        {child}\n      </div>\n    ))}\n  </StyledOrderStateFlowContainer>\n)\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), React.createElement(\"path\", {\n  d: \"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\"\n})), 'Schedule');","import { Schedule } from '@material-ui/icons'\nimport React from 'react'\n\nimport { CanMutate } from '../../../atoms/CanMutate'\nimport {\n  DeliveryTypeEnum,\n  useMOrderTimeNotification,\n} from '../../../graph/generated'\nimport { useSnackBar } from '../../../hooks/useSnackBar'\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { useTimeSelectionDialog } from '../hooks/useTimeSelectionDialog'\n\ninterface IProps {\n  orderId: ID\n  isDelivery: boolean\n}\n\nexport const OrderStateTimeNotification: React.FC<IProps> = ({\n  orderId,\n  isDelivery,\n}) => {\n  const [sendTimeNotification] = useMOrderTimeNotification()\n  const { enqueueSuccess } = useSnackBar()\n\n  const [dialog, { open }] = useTimeSelectionDialog({\n    deliveryType: isDelivery\n      ? DeliveryTypeEnum.Messenger\n      : DeliveryTypeEnum.Pickup,\n    title: isDelivery\n      ? i18n.t`Send expected time of delivery to customer (in minutes)`\n      : i18n.t`Send expected time of pickup to customer (in minutes)`,\n    async onConfirm(minutes, onSuccess) {\n      const result = await sendTimeNotification({ orderId, minutes })\n      if (result) {\n        onSuccess()\n        enqueueSuccess(\n          isDelivery\n            ? i18n.t`Expected time of delivery was set`\n            : i18n.t`Expected time of pickup was set`,\n        )\n      }\n    },\n  })\n\n  return (\n    <CanMutate mutationName=\"orderNotifyCustomer\">\n      <TouchButton icon={Schedule} onClick={open} />\n      {dialog}\n    </CanMutate>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { Sizer } from '../../../atoms/Sizer'\nimport { useMTransferOrder } from '../../../graph/generated'\nimport { useCanMutate } from '../../../hooks/useAccessGuard'\nimport { CompanyBranchDropdown } from '../../../molecules/CompanyBranchDropdown'\nimport { SelectButton } from '../../../molecules/SelectButton'\n\ntype TProps = NoChildren & {\n  orderId: ID\n}\n\nexport const OrderTransferToBranch: React.FC<TProps> = ({ orderId }) => {\n  const { user } = useRoot()\n  const [transferOrder] = useMTransferOrder()\n  const canTransferOrder = useCanMutate('transferOrder')\n  const [selectedBranch, setSelectedBranch] = React.useState<Maybe<ID>>(null)\n\n  const onTransferOrder = () => {\n    if (selectedBranch) {\n      transferOrder({ orderId, branchId: selectedBranch })\n    }\n  }\n\n  if (!canTransferOrder) {\n    return null\n  }\n\n  return (\n    <SelectButton\n      confirmNode={<Trans>Transfer</Trans>}\n      onConfirm={onTransferOrder}\n      selectNode={\n        <Sizer width={14}>\n          <CompanyBranchDropdown\n            branches={user.branches}\n            onSingleSelection={branch => branch && setSelectedBranch(branch.id)}\n          />\n        </Sizer>\n      }\n    >\n      <Trans>Transfer to branch</Trans>\n    </SelectButton>\n  )\n}\n","import React from 'react'\n\nimport { CardDock } from '../../../atoms/CardDock'\nimport {\n  DeliveryTypeEnum,\n  FPaymentMethodFragment as FPaymentMethod,\n  OrderStateCategoryEnum,\n  OrderStateEnum,\n  useQOrderState,\n} from '../../../graph/generated'\nimport { HamburgerMenu } from '../../../molecules/HamburgerMenu'\nimport { OrderCancelButton } from '../molecules/OrderCancelButton'\nimport { OrderDeliveryToPickup } from '../molecules/OrderDeliveryToPickup'\nimport { OrderPaymentMethod } from '../molecules/OrderPaymentMethod'\nimport { OrderStarButton } from '../molecules/OrderStarButton'\nimport { OrderStateButton } from '../molecules/OrderStateButton'\nimport { OrderStateDeliver } from '../molecules/OrderStateDeliver'\nimport { OrderStateFlowContainer } from '../molecules/OrderStateFlowContainer'\nimport { OrderStateTimeNotification } from '../molecules/OrderStateTimeNotification'\nimport { OrderTransferToBranch } from '../molecules/OrderTransferToBranch'\n\ninterface IProps {\n  orderId: ID\n  branchId: ID\n}\n\ninterface IStateProps extends IProps {\n  orderStateCategory: OrderStateCategoryEnum\n  paymentMethods: RoA<FPaymentMethod>\n  canCancel: boolean\n  canDeliver: boolean\n  isDelivery: boolean\n  isPriority: boolean\n}\n\nconst HamburgerMenuAtLeft: React.FC = ({ children }) => {\n  return (\n    <CardDock position=\"BottomLeft\">\n      <HamburgerMenu>{children}</HamburgerMenu>\n    </CardDock>\n  )\n}\n\nconst OrderStateNewOrder: React.FC<IStateProps> = props => (\n  <OrderStateFlowContainer>\n    <HamburgerMenuAtLeft>\n      {props.canCancel && <OrderCancelButton {...props} />}\n      <OrderDeliveryToPickup {...props} />\n      <OrderPaymentMethod {...props} />\n      <OrderTransferToBranch orderId={props.orderId} />\n    </HamburgerMenuAtLeft>\n    <OrderStateTimeNotification {...props} />\n    <OrderStateButton nextState={OrderStateEnum.Accepted} {...props} />\n  </OrderStateFlowContainer>\n)\n\nconst OrderStateAcceptedOrder: React.FC<IStateProps> = props => (\n  <OrderStateFlowContainer>\n    <HamburgerMenuAtLeft>\n      {props.canCancel && <OrderCancelButton {...props} />}\n      <OrderDeliveryToPickup {...props} />\n      <OrderPaymentMethod {...props} />\n      <OrderTransferToBranch orderId={props.orderId} />\n    </HamburgerMenuAtLeft>\n\n    <OrderStarButton {...props} />\n    <OrderStateTimeNotification {...props} />\n    {props.canDeliver && (\n      <OrderStateButton nextState={OrderStateEnum.ReadyToDeliver} {...props} />\n    )}\n    {props.canDeliver ? (\n      <OrderStateDeliver {...props} />\n    ) : (\n      <OrderStateButton nextState={OrderStateEnum.Finished} {...props} />\n    )}\n  </OrderStateFlowContainer>\n)\n\nconst OrderStateReadyToDeliverOrder: React.FC<IStateProps> = props => (\n  <OrderStateFlowContainer>\n    <HamburgerMenuAtLeft>\n      {props.canCancel && <OrderCancelButton {...props} />}\n      <OrderPaymentMethod {...props} />\n    </HamburgerMenuAtLeft>\n    <OrderStarButton {...props} />\n    {props.isDelivery ? (\n      <OrderStateDeliver {...props} />\n    ) : (\n      <OrderStateButton nextState={OrderStateEnum.Finished} {...props} />\n    )}\n  </OrderStateFlowContainer>\n)\n\nconst OrderStateOnWayOrder: React.FC<IStateProps> = props => (\n  <OrderStateFlowContainer>\n    <HamburgerMenuAtLeft>\n      {props.canCancel && <OrderCancelButton {...props} />}\n      <OrderPaymentMethod {...props} />\n    </HamburgerMenuAtLeft>\n    <OrderStateTimeNotification {...props} />\n    <OrderStateDeliver {...props} />\n    <OrderStateButton nextState={OrderStateEnum.Finished} {...props} />\n  </OrderStateFlowContainer>\n)\n\nconst OrderStateFinishedOrder: React.FC<IStateProps> = props => (\n  <OrderStateFlowContainer>\n    <HamburgerMenuAtLeft>\n      {props.canCancel && <OrderCancelButton {...props} />}\n      <OrderPaymentMethod {...props} />\n    </HamburgerMenuAtLeft>\n  </OrderStateFlowContainer>\n)\n\nexport const OrderStateFlow: React.FC<IProps> = ({ orderId, branchId }) => {\n  const { data, loading } = useQOrderState({\n    orderId,\n    branchId,\n  })\n\n  if (loading) {\n    return null\n  }\n\n  const {\n    order,\n    companyBranch: { allowedCategories },\n  } = data\n\n  const isDelivery =\n    order.deliveryType !== null &&\n    order.deliveryType.enum !== DeliveryTypeEnum.Pickup\n\n  const canDeliver =\n    isDelivery &&\n    (allowedCategories.includes(OrderStateCategoryEnum.OnWay) ||\n      allowedCategories.includes(OrderStateCategoryEnum.ReadyToDeliver))\n\n  const canCancel = order.isCancelable\n\n  const isPriority = order.isPriority\n\n  const stateProps: IStateProps = {\n    orderId,\n    branchId,\n    orderStateCategory: order.orderStateCategory,\n    paymentMethods: order.paymentMethods,\n    canCancel,\n    canDeliver,\n    isDelivery,\n    isPriority,\n  }\n  switch (order.orderStateCategory) {\n    case OrderStateCategoryEnum.NewOrders:\n      return <OrderStateNewOrder {...stateProps} />\n    case OrderStateCategoryEnum.Preparing:\n      return <OrderStateAcceptedOrder {...stateProps} />\n    case OrderStateCategoryEnum.ReadyToDeliver:\n      return <OrderStateReadyToDeliverOrder {...stateProps} />\n    case OrderStateCategoryEnum.OnWay:\n      return <OrderStateOnWayOrder {...stateProps} />\n    case OrderStateCategoryEnum.Finished:\n      return <OrderStateFinishedOrder {...stateProps} />\n    default:\n      return null\n  }\n}\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { HorizontalSeparator } from '../../../atoms/HorizontalSeparator'\nimport { Loading } from '../../../atoms/Loading'\nimport { useQOrderDetail } from '../../../graph/generated'\nimport { ContactLines } from '../molecules/ContactLines'\nimport { NoteLine } from '../molecules/NoteLine'\nimport { OrderCountLine } from '../molecules/OrderCountLine'\nimport { OrderDetailTotals } from '../molecules/OrderDetailTotals'\nimport { OrderIdLine } from '../molecules/OrderIdLine'\nimport { OrderRuleLines } from '../molecules/OrderRuleLines'\nimport { OrderStats } from '../molecules/OrderStats'\nimport { OrderTimeLine } from '../molecules/OrderTimeLine'\nimport { OrderWareList } from '../molecules/OrderWareList'\nimport { OrderStateFlow } from './OrderStateFlow'\n\ninterface IProps {\n  orderId: string\n}\n\nconst StyledOrderDetail = styled.div`\n  padding: 0 0.5rem 0.5rem 1.1rem;\n`\n\nexport const OrderDetail = React.memo<IProps>(({ orderId }) => {\n  const { data, loading } = useQOrderDetail({\n    orderId,\n  })\n\n  if (loading) {\n    return <Loading />\n  }\n\n  const { order } = data\n\n  return (\n    <>\n      <StyledOrderDetail>\n        <HorizontalSeparator />\n        <OrderWareList orderWares={order.items} />\n        <OrderDetailTotals totals={order} />\n        <OrderRuleLines rules={order.allAppliedRules}>\n          <OrderCountLine\n            current={order.customerOrdersCountCurrent}\n            total={order.customerOrdersCountTotal}\n          />\n        </OrderRuleLines>\n        <ContactLines\n          phones={order.customer.phones}\n          emails={order.customer.emails}\n        />\n        <NoteLine note={order.note} />\n        <HorizontalSeparator />\n        <OrderIdLine displayedId={order.id} orderOrigin={order.orderOrigin} />\n        <HorizontalSeparator />\n        <OrderTimeLine orderTiming={order.orderTiming} />\n        <OrderStats order={order} />\n      </StyledOrderDetail>\n      <OrderStateFlow orderId={orderId} branchId={order.companyBranch.id} />\n    </>\n  )\n})\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { FOrderTickerFragment } from '../../../graph/generated'\nimport { Colors, Radiuses } from '../../../styling'\nimport { useOrderListModel } from '../hooks/useOrderListModel'\nimport { OrderTicker } from '../molecules/OrderTicker'\nimport { OrderDetail } from '../organisms/OrderDetail'\n\ninterface IProps {\n  order: FOrderTickerFragment\n  showBranch: boolean\n  isCancelled: boolean\n  onToggleDetail?(): void\n}\n\nexport const OrderBoxStyled = styled.div`\n  background-color: ${Colors.white};\n  color: ${Colors.greyDarkest};\n  border-radius: ${Radiuses.Card};\n  margin-bottom: 0.5rem;\n  position: relative;\n`\n\nexport const OrderBox = observer<IProps>(\n  ({ order, showBranch, isCancelled, onToggleDetail }) => {\n    const orderListModel = useOrderListModel()\n\n    const orderId = order.id\n\n    const onClick = React.useCallback(() => {\n      orderListModel.toggleOrderDetail(orderId)\n      if (onToggleDetail) {\n        onToggleDetail()\n      }\n    }, [onToggleDetail, orderId, orderListModel])\n\n    const isDetailOpen = orderListModel.isOrderDetailOpen(orderId)\n\n    return (\n      <OrderBoxStyled id={`order-${orderId}`}>\n        <OrderTicker\n          order={order}\n          showBranch={showBranch}\n          isCancelled={isCancelled}\n          onClick={onClick}\n        />\n        {isDetailOpen && <OrderDetail orderId={orderId} />}\n      </OrderBoxStyled>\n    )\n  },\n)\n","import { i18n } from '@lingui/core'\nimport { DatePicker, DatePickerProps } from '@material-ui/pickers'\nimport React from 'react'\n\nimport { DateTimeFormatProvider } from './DateTimeFormatProvider'\n\nexport const InputDate: React.FC<DatePickerProps & NoChildren> = props => {\n  return (\n    <DateTimeFormatProvider>\n      <DatePicker\n        variant=\"inline\"\n        format=\"ll\"\n        maxDateMessage={i18n.t`Date is too much in the future`}\n        minDateMessage={i18n.t`Date is too much in the past`}\n        {...props}\n      />\n    </DateTimeFormatProvider>\n  )\n}\n","import { DatePickerProps } from '@material-ui/pickers'\nimport { useXFieldForInput, useXFormState, XFieldName } from '@speedlo/xform'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { InputDate } from '../../atoms/InputDate'\n\ntype TProps = NoChildren &\n  Omit<DatePickerProps, 'value' | 'onChange'> & {\n    fieldName: XFieldName\n  }\n\nexport const FormInputDate = React.memo<TProps>(\n  ({ fieldName, ...pickerProps }) => {\n    const [field, getProps] = useXFieldForInput(fieldName)\n    const formState = useXFormState()\n    return useObserver(() => (\n      <InputDate\n        {...getProps()}\n        onChange={field.setValue}\n        onOpen={field.setTouched}\n        disabled={formState.isSubmitting}\n        {...pickerProps}\n      />\n    ))\n  },\n)\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), React.createElement(\"path\", {\n  d: \"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\"\n})), 'AccessTime');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  d: \"M22 10l-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5l5.5 5.5H15V5.5z\"\n}), React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n})), 'Note');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  d: \"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"\n}), React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n})), 'Star');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n}), React.createElement(\"path\", {\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n})), 'ErrorOutline');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z\"\n}), 'Phone');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z\"\n}), 'MailOutline');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z\"\n}), 'DirectionsCar');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z\"\n}), 'Assignment');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(React.Fragment, null, React.createElement(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0V0z\"\n}), React.createElement(\"path\", {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 6h-4c0 1.62-1.38 3-3 3s-3-1.38-3-3H5V5h14v4zm-4 7h6v3c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3z\"\n})), 'AllInbox');","// Based on https://github.com/react-bootstrap/dom-helpers/blob/master/src/util/inDOM.js\nvar inDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nvar cachedType;\nexport function _setScrollType(type) {\n  cachedType = type;\n} // Based on the jquery plugin https://github.com/othree/jquery.rtl-scroll-type\n\nexport function detectScrollType() {\n  if (cachedType) {\n    return cachedType;\n  }\n\n  if (!inDOM || !window.document.body) {\n    return 'indeterminate';\n  }\n\n  var dummy = window.document.createElement('div');\n  dummy.appendChild(document.createTextNode('ABCD'));\n  dummy.dir = 'rtl';\n  dummy.style.fontSize = '14px';\n  dummy.style.width = '4px';\n  dummy.style.height = '1px';\n  dummy.style.position = 'absolute';\n  dummy.style.top = '-1000px';\n  dummy.style.overflow = 'scroll';\n  document.body.appendChild(dummy);\n  cachedType = 'reverse';\n\n  if (dummy.scrollLeft > 0) {\n    cachedType = 'default';\n  } else {\n    dummy.scrollLeft = 1;\n\n    if (dummy.scrollLeft === 0) {\n      cachedType = 'negative';\n    }\n  }\n\n  document.body.removeChild(dummy);\n  return cachedType;\n} // Based on https://stackoverflow.com/a/24394376\n\nexport function getNormalizedScrollLeft(element, direction) {\n  var scrollLeft = element.scrollLeft; // Perform the calculations only when direction is rtl to avoid messing up the ltr bahavior\n\n  if (direction !== 'rtl') {\n    return scrollLeft;\n  }\n\n  var type = detectScrollType();\n\n  if (type === 'indeterminate') {\n    return Number.NaN;\n  }\n\n  switch (type) {\n    case 'negative':\n      return element.scrollWidth - element.clientWidth + scrollLeft;\n\n    case 'reverse':\n      return element.scrollWidth - element.clientWidth - scrollLeft;\n  }\n\n  return scrollLeft;\n}\nexport function setNormalizedScrollLeft(element, scrollLeft, direction) {\n  // Perform the calculations only when direction is rtl to avoid messing up the ltr bahavior\n  if (direction !== 'rtl') {\n    element.scrollLeft = scrollLeft;\n    return;\n  }\n\n  var type = detectScrollType();\n\n  if (type === 'indeterminate') {\n    return;\n  }\n\n  switch (type) {\n    case 'negative':\n      element.scrollLeft = element.clientWidth - element.scrollWidth + scrollLeft;\n      break;\n\n    case 'reverse':\n      element.scrollLeft = element.scrollWidth - element.clientWidth - scrollLeft;\n      break;\n\n    default:\n      element.scrollLeft = scrollLeft;\n      break;\n  }\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport { capitalize } from '../utils/helpers';\nimport unsupportedProp from '../utils/unsupportedProp';\nexport var styles = function styles(theme) {\n  var _extends2;\n\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, (_extends2 = {\n      maxWidth: 264,\n      minWidth: 72,\n      position: 'relative',\n      boxSizing: 'border-box',\n      minHeight: 48,\n      flexShrink: 0,\n      padding: '6px 12px'\n    }, _defineProperty(_extends2, theme.breakpoints.up('md'), {\n      padding: '6px 24px'\n    }), _defineProperty(_extends2, \"overflow\", 'hidden'), _defineProperty(_extends2, \"whiteSpace\", 'normal'), _defineProperty(_extends2, \"textAlign\", 'center'), _defineProperty(_extends2, theme.breakpoints.up('md'), {\n      fontSize: theme.typography.pxToRem(13),\n      minWidth: 160\n    }), _extends2)),\n\n    /* Styles applied to the root element if both `icon` and `label` are provided. */\n    labelIcon: {\n      minHeight: 72,\n      paddingTop: 9,\n      '& $wrapper > *:first-child': {\n        marginBottom: 6\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"inherit\"`. */\n    textColorInherit: {\n      color: 'inherit',\n      opacity: 0.7,\n      '&$selected': {\n        opacity: 1\n      },\n      '&$disabled': {\n        opacity: 0.4\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"primary\"`. */\n    textColorPrimary: {\n      color: theme.palette.text.secondary,\n      '&$selected': {\n        color: theme.palette.primary.main\n      },\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    },\n\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"secondary\"`. */\n    textColorSecondary: {\n      color: theme.palette.text.secondary,\n      '&$selected': {\n        color: theme.palette.secondary.main\n      },\n      '&$disabled': {\n        color: theme.palette.text.disabled\n      }\n    },\n\n    /* Pseudo-class applied to the root element if `selected={true}` (controlled by the Tabs component). */\n    selected: {},\n\n    /* Pseudo-class applied to the root element if `disabled={true}` (controlled by the Tabs component). */\n    disabled: {},\n\n    /* Styles applied to the root element if `fullWidth={true}` (controlled by the Tabs component). */\n    fullWidth: {\n      flexShrink: 1,\n      flexGrow: 1,\n      flexBasis: 0,\n      maxWidth: 'none'\n    },\n\n    /* Styles applied to the root element if `wrapped={true}`. */\n    wrapped: {\n      fontSize: theme.typography.pxToRem(12),\n      lineHeight: 1.5\n    },\n\n    /* Styles applied to the `icon` and `label`'s wrapper element. */\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'column'\n    }\n  };\n};\nvar Tab = React.forwardRef(function Tab(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      fullWidth = props.fullWidth,\n      icon = props.icon,\n      indicator = props.indicator,\n      label = props.label,\n      onChange = props.onChange,\n      onClick = props.onClick,\n      selected = props.selected,\n      _props$textColor = props.textColor,\n      textColor = _props$textColor === void 0 ? 'inherit' : _props$textColor,\n      value = props.value,\n      _props$wrapped = props.wrapped,\n      wrapped = _props$wrapped === void 0 ? false : _props$wrapped,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"disabled\", \"disableFocusRipple\", \"fullWidth\", \"icon\", \"indicator\", \"label\", \"onChange\", \"onClick\", \"selected\", \"textColor\", \"value\", \"wrapped\"]);\n\n  var handleChange = function handleChange(event) {\n    if (onChange) {\n      onChange(event, value);\n    }\n\n    if (onClick) {\n      onClick(event);\n    }\n  };\n\n  return React.createElement(ButtonBase, _extends({\n    focusRipple: !disableFocusRipple,\n    className: clsx(classes.root, classes[\"textColor\".concat(capitalize(textColor))], className, disabled && classes.disabled, selected && classes.selected, label && icon && classes.labelIcon, fullWidth && classes.fullWidth, wrapped && classes.wrapped),\n    ref: ref,\n    role: \"tab\",\n    \"aria-selected\": selected,\n    disabled: disabled,\n    onClick: handleChange\n  }, other), React.createElement(\"span\", {\n    className: classes.wrapper\n  }, icon, label), indicator);\n});\nprocess.env.NODE_ENV !== \"production\" ? Tab.propTypes = {\n  /**\n   * This prop isn't supported.\n   * Use the `component` prop if you need to change the children structure.\n   */\n  children: unsupportedProp,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the tab will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   * `disableRipple` must also be true.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  fullWidth: PropTypes.bool,\n\n  /**\n   * The icon element.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * @ignore\n   * For server-side rendering consideration, we let the selected tab\n   * render the indicator.\n   */\n  indicator: PropTypes.node,\n\n  /**\n   * The label element.\n   */\n  label: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  textColor: PropTypes.oneOf(['secondary', 'primary', 'inherit']),\n\n  /**\n   * You can provide your own value. Otherwise, we fallback to the child position index.\n   */\n  value: PropTypes.any,\n\n  /**\n   * Tab labels appear in a single row.\n   * They can use a second line if needed.\n   */\n  wrapped: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTab'\n})(Tab);","function easeInOutSin(time) {\n  return (1 + Math.sin(Math.PI * time - Math.PI / 2)) / 2;\n}\n\nexport default function animate(property, element, to) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var cb = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n  var _options$ease = options.ease,\n      ease = _options$ease === void 0 ? easeInOutSin : _options$ease,\n      _options$duration = options.duration,\n      duration = _options$duration === void 0 ? 300 : _options$duration;\n  var start = null;\n  var from = element[property];\n  var cancelled = false;\n\n  var cancel = function cancel() {\n    cancelled = true;\n  };\n\n  var step = function step(timestamp) {\n    if (cancelled) {\n      cb(new Error('Animation cancelled'));\n      return;\n    }\n\n    if (start === null) {\n      start = timestamp;\n    }\n\n    var time = Math.min(1, (timestamp - start) / duration);\n    element[property] = ease(time) * (to - from) + from;\n\n    if (time >= 1) {\n      requestAnimationFrame(function () {\n        cb(null);\n      });\n      return;\n    }\n\n    requestAnimationFrame(step);\n  };\n\n  if (from === to) {\n    cb(new Error('Element already at target position'));\n    return cancel;\n  }\n\n  requestAnimationFrame(step);\n  return cancel;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from '../utils/debounce';\nvar styles = {\n  width: 99,\n  height: 99,\n  position: 'absolute',\n  top: -9999,\n  overflow: 'scroll'\n};\n/**\n * @ignore - internal component.\n * The component is originates from https://github.com/STORIS/react-scrollbar-size.\n * It has been moved into the core in order to minimize the bundle size.\n */\n\nexport default function ScrollbarSize(props) {\n  var onChange = props.onChange,\n      other = _objectWithoutProperties(props, [\"onChange\"]);\n\n  var scrollbarHeight = React.useRef();\n  var nodeRef = React.useRef(null);\n\n  var setMeasurements = function setMeasurements() {\n    scrollbarHeight.current = nodeRef.current.offsetHeight - nodeRef.current.clientHeight;\n  };\n\n  React.useEffect(function () {\n    var handleResize = debounce(function () {\n      var prevHeight = scrollbarHeight.current;\n      setMeasurements();\n\n      if (prevHeight !== scrollbarHeight.current) {\n        onChange(scrollbarHeight.current);\n      }\n    });\n    window.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [onChange]);\n  React.useEffect(function () {\n    setMeasurements();\n    onChange(scrollbarHeight.current);\n  }, [onChange]);\n  return React.createElement(\"div\", _extends({\n    style: styles,\n    ref: nodeRef\n  }, other));\n}\nprocess.env.NODE_ENV !== \"production\" ? ScrollbarSize.propTypes = {\n  onChange: PropTypes.func.isRequired\n} : void 0;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport { capitalize } from '../utils/helpers';\nexport var styles = function styles(theme) {\n  return {\n    root: {\n      position: 'absolute',\n      height: 2,\n      bottom: 0,\n      width: '100%',\n      transition: theme.transitions.create()\n    },\n    colorPrimary: {\n      backgroundColor: theme.palette.primary.main\n    },\n    colorSecondary: {\n      backgroundColor: theme.palette.secondary.main\n    },\n    vertical: {\n      height: '100%',\n      width: 2,\n      right: 0\n    }\n  };\n};\n/**\n * @ignore - internal component.\n */\n\nvar TabIndicator = React.forwardRef(function TabIndicator(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      color = props.color,\n      orientation = props.orientation,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"orientation\"]);\n\n  return React.createElement(\"span\", _extends({\n    className: clsx(classes.root, classes[\"color\".concat(capitalize(color))], className, {\n      vertical: classes.vertical\n    }[orientation]),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? TabIndicator.propTypes = {\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   * The color of the tab indicator.\n   */\n  color: PropTypes.oneOf(['primary', 'secondary']).isRequired,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateTabIndicator'\n})(TabIndicator);","import React from 'react';\nimport createSvgIcon from './createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z\"\n}), 'KeyboardArrowLeft');","import React from 'react';\nimport createSvgIcon from './createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z\"\n}), 'KeyboardArrowRight');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n/* eslint-disable jsx-a11y/aria-role */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport KeyboardArrowLeft from '../internal/svg-icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '../internal/svg-icons/KeyboardArrowRight';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nexport var styles = {\n  root: {\n    width: 40,\n    flexShrink: 0\n  },\n  vertical: {\n    width: '100%',\n    height: 40,\n    '& svg': {\n      transform: 'rotate(90deg)'\n    }\n  }\n};\n/**\n * @ignore - internal component.\n */\n\nvar _ref = React.createElement(KeyboardArrowLeft, {\n  fontSize: \"small\"\n});\n\nvar _ref2 = React.createElement(KeyboardArrowRight, {\n  fontSize: \"small\"\n});\n\nvar TabScrollButton = React.forwardRef(function TabScrollButton(props, ref) {\n  var classes = props.classes,\n      classNameProp = props.className,\n      direction = props.direction,\n      orientation = props.orientation,\n      visible = props.visible,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"direction\", \"orientation\", \"visible\"]);\n\n  var className = clsx(classes.root, classNameProp, {\n    vertical: classes.vertical\n  }[orientation]);\n\n  if (!visible) {\n    return React.createElement(\"div\", {\n      className: className\n    });\n  }\n\n  return React.createElement(ButtonBase, _extends({\n    component: \"div\",\n    className: className,\n    ref: ref,\n    role: null,\n    tabIndex: null\n  }, other), direction === 'left' ? _ref : _ref2);\n});\nprocess.env.NODE_ENV !== \"production\" ? TabScrollButton.propTypes = {\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Which direction should the button indicate?\n   */\n  direction: PropTypes.oneOf(['left', 'right']).isRequired,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']).isRequired,\n\n  /**\n   * Should the button be present or just consume space.\n   */\n  visible: PropTypes.bool.isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'PrivateTabScrollButton'\n})(TabScrollButton);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n/* eslint-disable no-restricted-globals */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport warning from 'warning';\nimport clsx from 'clsx';\nimport debounce from '../utils/debounce';\nimport ownerWindow from '../utils/ownerWindow';\nimport { getNormalizedScrollLeft, detectScrollType } from 'normalize-scroll-left';\nimport animate from '../internal/animate';\nimport ScrollbarSize from './ScrollbarSize';\nimport withStyles from '../styles/withStyles';\nimport TabIndicator from './TabIndicator';\nimport TabScrollButton from './TabScrollButton';\nimport useEventCallback from '../utils/useEventCallback';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      overflow: 'hidden',\n      minHeight: 48,\n      WebkitOverflowScrolling: 'touch',\n      // Add iOS momentum scrolling.\n      display: 'flex'\n    },\n\n    /* Styles applied to the root element if `orientation=\"vertical\"`. */\n    vertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the flex container element. */\n    flexContainer: {\n      display: 'flex'\n    },\n\n    /* Styles applied to the flex container element if `orientation=\"vertical\"`. */\n    flexContainerVertical: {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the flex container element if `centered={true}` & `!variant=\"scrollable\"`. */\n    centered: {\n      justifyContent: 'center'\n    },\n\n    /* Styles applied to the tablist element. */\n    scroller: {\n      position: 'relative',\n      display: 'inline-block',\n      flex: '1 1 auto',\n      whiteSpace: 'nowrap'\n    },\n\n    /* Styles applied to the tablist element if `!variant=\"scrollable\"`\b\b\b. */\n    fixed: {\n      overflowX: 'hidden',\n      width: '100%'\n    },\n\n    /* Styles applied to the tablist element if `variant=\"scrollable\"`. */\n    scrollable: {\n      overflowX: 'scroll',\n      // Hide dimensionless scrollbar on MacOS\n      scrollbarWidth: 'none',\n      // Firefox\n      '&::-webkit-scrollbar': {\n        display: 'none' // Safari + Chrome\n\n      }\n    },\n\n    /* Styles applied to the `ScrollButtonComponent` component. */\n    scrollButtons: {},\n\n    /* Styles applied to the `ScrollButtonComponent` component if `scrollButtons=\"auto\"` or scrollButtons=\"desktop\"`. */\n    scrollButtonsDesktop: _defineProperty({}, theme.breakpoints.down('xs'), {\n      display: 'none'\n    }),\n\n    /* Styles applied to the `TabIndicator` component. */\n    indicator: {}\n  };\n};\nvar Tabs = React.forwardRef(function Tabs(props, ref) {\n  var action = props.action,\n      _props$centered = props.centered,\n      centered = _props$centered === void 0 ? false : _props$centered,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$indicatorColor = props.indicatorColor,\n      indicatorColor = _props$indicatorColor === void 0 ? 'secondary' : _props$indicatorColor,\n      onChange = props.onChange,\n      _props$orientation = props.orientation,\n      orientation = _props$orientation === void 0 ? 'horizontal' : _props$orientation,\n      _props$ScrollButtonCo = props.ScrollButtonComponent,\n      ScrollButtonComponent = _props$ScrollButtonCo === void 0 ? TabScrollButton : _props$ScrollButtonCo,\n      _props$scrollButtons = props.scrollButtons,\n      scrollButtons = _props$scrollButtons === void 0 ? 'auto' : _props$scrollButtons,\n      _props$TabIndicatorPr = props.TabIndicatorProps,\n      TabIndicatorProps = _props$TabIndicatorPr === void 0 ? {} : _props$TabIndicatorPr,\n      _props$textColor = props.textColor,\n      textColor = _props$textColor === void 0 ? 'inherit' : _props$textColor,\n      value = props.value,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"action\", \"centered\", \"children\", \"classes\", \"className\", \"component\", \"indicatorColor\", \"onChange\", \"orientation\", \"ScrollButtonComponent\", \"scrollButtons\", \"TabIndicatorProps\", \"textColor\", \"value\", \"variant\"]);\n\n  var theme = useTheme();\n  var scrollable = variant === 'scrollable';\n  var isRtl = theme.direction === 'rtl';\n  var vertical = orientation === 'vertical';\n  var scrollStart = vertical ? 'scrollTop' : 'scrollLeft';\n  var start = vertical ? 'top' : 'left';\n  var end = vertical ? 'bottom' : 'right';\n  var clientSize = vertical ? 'clientHeight' : 'clientWidth';\n  var size = vertical ? 'height' : 'width';\n  process.env.NODE_ENV !== \"production\" ? warning(!centered || !scrollable, 'Material-UI: you can not use the `centered={true}` and `variant=\"scrollable\"` properties ' + 'at the same time on a `Tabs` component.') : void 0;\n\n  var _React$useState = React.useState(false),\n      mounted = _React$useState[0],\n      setMounted = _React$useState[1];\n\n  var _React$useState2 = React.useState({}),\n      indicatorStyle = _React$useState2[0],\n      setIndicatorStyle = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    start: false,\n    end: false\n  }),\n      displayScroll = _React$useState3[0],\n      setDisplayScroll = _React$useState3[1];\n\n  var _React$useState4 = React.useState({\n    overflow: 'hidden',\n    marginBottom: null\n  }),\n      scrollerStyle = _React$useState4[0],\n      setScrollerStyle = _React$useState4[1];\n\n  var valueToIndex = new Map();\n  var tabsRef = React.useRef(null);\n  var childrenWrapperRef = React.useRef(null);\n\n  var getTabsMeta = function getTabsMeta() {\n    var tabsNode = tabsRef.current;\n    var tabsMeta;\n\n    if (tabsNode) {\n      var rect = tabsNode.getBoundingClientRect(); // create a new object with ClientRect class props + scrollLeft\n\n      tabsMeta = {\n        clientWidth: tabsNode.clientWidth,\n        scrollLeft: tabsNode.scrollLeft,\n        scrollTop: tabsNode.scrollTop,\n        scrollLeftNormalized: getNormalizedScrollLeft(tabsNode, theme.direction),\n        scrollWidth: tabsNode.scrollWidth,\n        top: rect.top,\n        bottom: rect.bottom,\n        left: rect.left,\n        right: rect.right\n      };\n    }\n\n    var tabMeta;\n\n    if (tabsNode && value !== false) {\n      var _children = childrenWrapperRef.current.children;\n\n      if (_children.length > 0) {\n        var tab = _children[valueToIndex.get(value)];\n\n        process.env.NODE_ENV !== \"production\" ? warning(tab, [\"Material-UI: the value provided `\".concat(value, \"` to the Tabs component is invalid.\"), 'None of the Tabs children have this value.', valueToIndex.keys ? \"You can provide one of the following values: \".concat(Array.from(valueToIndex.keys()).join(', '), \".\") : null].join('\\n')) : void 0;\n        tabMeta = tab ? tab.getBoundingClientRect() : null;\n      }\n    }\n\n    return {\n      tabsMeta: tabsMeta,\n      tabMeta: tabMeta\n    };\n  };\n\n  var updateIndicatorState = useEventCallback(function () {\n    var _newIndicatorStyle;\n\n    var _getTabsMeta = getTabsMeta(),\n        tabsMeta = _getTabsMeta.tabsMeta,\n        tabMeta = _getTabsMeta.tabMeta;\n\n    var startValue = 0;\n\n    if (tabMeta && tabsMeta) {\n      if (vertical) {\n        startValue = tabMeta.top - tabsMeta.top + tabsMeta.scrollTop;\n      } else {\n        var correction = isRtl ? tabsMeta.scrollLeftNormalized + tabsMeta.clientWidth - tabsMeta.scrollWidth : tabsMeta.scrollLeft;\n        startValue = tabMeta.left - tabsMeta.left + correction;\n      }\n    }\n\n    var newIndicatorStyle = (_newIndicatorStyle = {}, _defineProperty(_newIndicatorStyle, start, startValue), _defineProperty(_newIndicatorStyle, size, tabMeta ? tabMeta[size] : 0), _newIndicatorStyle);\n\n    if (isNaN(indicatorStyle[start]) || isNaN(indicatorStyle[size])) {\n      setIndicatorStyle(newIndicatorStyle);\n    } else {\n      var dStart = Math.abs(indicatorStyle[start] - newIndicatorStyle[start]);\n      var dSize = Math.abs(indicatorStyle[size] - newIndicatorStyle[size]);\n\n      if (dStart >= 1 || dSize >= 1) {\n        setIndicatorStyle(newIndicatorStyle);\n      }\n    }\n  });\n\n  var scroll = function scroll(scrollValue) {\n    animate(scrollStart, tabsRef.current, scrollValue);\n  };\n\n  var moveTabsScroll = function moveTabsScroll(delta) {\n    var scrollValue = tabsRef.current[scrollStart];\n\n    if (vertical) {\n      scrollValue += delta;\n    } else {\n      scrollValue += delta * (isRtl ? -1 : 1); // Fix for Edge\n\n      scrollValue *= isRtl && detectScrollType() === 'reverse' ? -1 : 1;\n    }\n\n    scroll(scrollValue);\n  };\n\n  var handleStartScrollClick = function handleStartScrollClick() {\n    moveTabsScroll(-tabsRef.current[clientSize]);\n  };\n\n  var handleEndScrollClick = function handleEndScrollClick() {\n    moveTabsScroll(tabsRef.current[clientSize]);\n  };\n\n  var handleScrollbarSizeChange = React.useCallback(function (scrollbarHeight) {\n    setScrollerStyle({\n      overflow: null,\n      marginBottom: -scrollbarHeight\n    });\n  }, []);\n\n  var getConditionalElements = function getConditionalElements() {\n    var conditionalElements = {};\n    conditionalElements.scrollbarSizeListener = scrollable ? React.createElement(ScrollbarSize, {\n      className: classes.scrollable,\n      onChange: handleScrollbarSizeChange\n    }) : null;\n    var scrollButtonsActive = displayScroll.start || displayScroll.end;\n    var showScrollButtons = scrollable && (scrollButtons === 'auto' && scrollButtonsActive || scrollButtons === 'desktop' || scrollButtons === 'on');\n    conditionalElements.scrollButtonStart = showScrollButtons ? React.createElement(ScrollButtonComponent, {\n      orientation: orientation,\n      direction: isRtl ? 'right' : 'left',\n      onClick: handleStartScrollClick,\n      visible: displayScroll.start,\n      className: clsx(classes.scrollButtons, scrollButtons !== 'on' && classes.scrollButtonsDesktop)\n    }) : null;\n    conditionalElements.scrollButtonEnd = showScrollButtons ? React.createElement(ScrollButtonComponent, {\n      orientation: orientation,\n      direction: isRtl ? 'left' : 'right',\n      onClick: handleEndScrollClick,\n      visible: displayScroll.end,\n      className: clsx(classes.scrollButtons, scrollButtons !== 'on' && classes.scrollButtonsDesktop)\n    }) : null;\n    return conditionalElements;\n  };\n\n  var scrollSelectedIntoView = useEventCallback(function () {\n    var _getTabsMeta2 = getTabsMeta(),\n        tabsMeta = _getTabsMeta2.tabsMeta,\n        tabMeta = _getTabsMeta2.tabMeta;\n\n    if (!tabMeta || !tabsMeta) {\n      return;\n    }\n\n    if (tabMeta[start] < tabsMeta[start]) {\n      // left side of button is out of view\n      var nextScrollStart = tabsMeta[scrollStart] + (tabMeta[start] - tabsMeta[start]);\n      scroll(nextScrollStart);\n    } else if (tabMeta[end] > tabsMeta[end]) {\n      // right side of button is out of view\n      var _nextScrollStart = tabsMeta[scrollStart] + (tabMeta[end] - tabsMeta[end]);\n\n      scroll(_nextScrollStart);\n    }\n  });\n  var updateScrollButtonState = useEventCallback(function () {\n    if (scrollable && scrollButtons !== 'off') {\n      var _tabsRef$current = tabsRef.current,\n          scrollTop = _tabsRef$current.scrollTop,\n          scrollHeight = _tabsRef$current.scrollHeight,\n          clientHeight = _tabsRef$current.clientHeight,\n          scrollWidth = _tabsRef$current.scrollWidth,\n          clientWidth = _tabsRef$current.clientWidth;\n      var showStartScroll;\n      var showEndScroll;\n\n      if (vertical) {\n        showStartScroll = scrollTop > 1;\n        showEndScroll = scrollTop < scrollHeight - clientHeight - 1;\n      } else {\n        var scrollLeft = getNormalizedScrollLeft(tabsRef.current, theme.direction); // use 1 for the potential rounding error with browser zooms.\n\n        showStartScroll = isRtl ? scrollLeft < scrollWidth - clientWidth - 1 : scrollLeft > 1;\n        showEndScroll = !isRtl ? scrollLeft < scrollWidth - clientWidth - 1 : scrollLeft > 1;\n      }\n\n      if (showStartScroll !== displayScroll.start || showEndScroll !== displayScroll.end) {\n        setDisplayScroll({\n          start: showStartScroll,\n          end: showEndScroll\n        });\n      }\n    }\n  });\n  React.useEffect(function () {\n    var handleResize = debounce(function () {\n      updateIndicatorState();\n      updateScrollButtonState();\n    });\n    var win = ownerWindow(tabsRef.current);\n    win.addEventListener('resize', handleResize);\n    return function () {\n      handleResize.clear();\n      win.removeEventListener('resize', handleResize);\n    };\n  }, [updateIndicatorState, updateScrollButtonState]);\n  var handleTabsScroll = React.useCallback(debounce(function () {\n    updateScrollButtonState();\n  }));\n  React.useEffect(function () {\n    return function () {\n      handleTabsScroll.clear();\n    };\n  }, [handleTabsScroll]);\n  React.useEffect(function () {\n    setMounted(true);\n  }, []);\n  React.useEffect(function () {\n    updateIndicatorState();\n    updateScrollButtonState();\n  });\n  React.useEffect(function () {\n    scrollSelectedIntoView();\n  }, [scrollSelectedIntoView, indicatorStyle]);\n  React.useImperativeHandle(action, function () {\n    return {\n      updateIndicator: updateIndicatorState\n    };\n  }, [updateIndicatorState]);\n  var indicator = React.createElement(TabIndicator, _extends({\n    className: classes.indicator,\n    orientation: orientation,\n    color: indicatorColor\n  }, TabIndicatorProps, {\n    style: _extends({}, indicatorStyle, {}, TabIndicatorProps.style)\n  }));\n  var childIndex = 0;\n  var children = React.Children.map(childrenProp, function (child) {\n    if (!React.isValidElement(child)) {\n      return null;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(child.type !== React.Fragment, [\"Material-UI: the Tabs component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n')) : void 0;\n    var childValue = child.props.value === undefined ? childIndex : child.props.value;\n    valueToIndex.set(childValue, childIndex);\n    var selected = childValue === value;\n    childIndex += 1;\n    return React.cloneElement(child, {\n      fullWidth: variant === 'fullWidth',\n      indicator: selected && !mounted && indicator,\n      selected: selected,\n      onChange: onChange,\n      textColor: textColor,\n      value: childValue\n    });\n  });\n  var conditionalElements = getConditionalElements();\n  return React.createElement(Component, _extends({\n    className: clsx(classes.root, className, vertical && classes.vertical),\n    ref: ref\n  }, other), conditionalElements.scrollButtonStart, conditionalElements.scrollbarSizeListener, React.createElement(\"div\", {\n    className: clsx(classes.scroller, scrollable ? classes.scrollable : classes.fixed),\n    style: scrollerStyle,\n    ref: tabsRef,\n    onScroll: handleTabsScroll\n  }, React.createElement(\"div\", {\n    className: clsx(classes.flexContainer, vertical && classes.flexContainerVertical, centered && !scrollable && classes.centered),\n    ref: childrenWrapperRef,\n    role: \"tablist\"\n  }, children), mounted && indicator), conditionalElements.scrollButtonEnd);\n});\nprocess.env.NODE_ENV !== \"production\" ? Tabs.propTypes = {\n  /**\n   * Callback fired when the component mounts.\n   * This is useful when you want to trigger an action programmatically.\n   * It currently only supports `updateIndicator()` action.\n   *\n   * @param {object} actions This object contains all possible actions\n   * that can be triggered programmatically.\n   */\n  action: PropTypes.func,\n\n  /**\n   * If `true`, the tabs will be centered.\n   * This property is intended for large views.\n   */\n  centered: PropTypes.bool,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Determines the color of the indicator.\n   */\n  indicatorColor: PropTypes.oneOf(['secondary', 'primary']),\n\n  /**\n   * Callback fired when the value changes.\n   *\n   * @param {object} event The event source of the callback\n   * @param {any} value We default to the index of the child (number)\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * The tabs orientation (layout flow direction).\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * The component used to render the scroll buttons.\n   */\n  ScrollButtonComponent: PropTypes.elementType,\n\n  /**\n   * Determine behavior of scroll buttons when tabs are set to scroll:\n   *\n   * - `auto` will only present them when not all the items are visible.\n   * - `desktop` will only present them on medium and larger viewports.\n   * - `on` will always present them.\n   * - `off` will never present them.\n   */\n  scrollButtons: PropTypes.oneOf(['auto', 'desktop', 'on', 'off']),\n\n  /**\n   * Props applied to the tab indicator element.\n   */\n  TabIndicatorProps: PropTypes.object,\n\n  /**\n   * Determines the color of the `Tab`.\n   */\n  textColor: PropTypes.oneOf(['secondary', 'primary', 'inherit']),\n\n  /**\n   * The value of the currently selected `Tab`.\n   * If you don't want any selected `Tab`, you can set this property to `false`.\n   */\n  value: PropTypes.any,\n\n  /**\n   *  Determines additional display behavior of the tabs:\n   *\n   *  - `scrollable` will invoke scrolling properties and allow for horizontally\n   *  scrolling (or swiping) of the tab bar.\n   *  -`fullWidth` will make the tabs grow to use all the available space,\n   *  which should be used for small views, like on mobile.\n   *  - `standard` will render the default state.\n   */\n  variant: PropTypes.oneOf(['standard', 'scrollable', 'fullWidth'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiTabs'\n})(Tabs);","import * as React from 'react';\nimport Tab from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport Paper from '@material-ui/core/Paper';\nimport { TimeIcon } from '../_shared/icons/TimeIcon';\nimport { DateRangeIcon } from '../_shared/icons/DateRangeIcon';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nvar viewToTabIndex = function viewToTabIndex(openView) {\n  if (openView === 'date' || openView === 'year') {\n    return 'date';\n  }\n\n  return 'time';\n};\n\nvar tabIndexToView = function tabIndexToView(tab) {\n  if (tab === 'date') {\n    return 'date';\n  }\n\n  return 'hours';\n};\n\nexport var useStyles = makeStyles(function (theme) {\n  // prettier-ignore\n  var tabsBackground = theme.palette.type === 'light' ? theme.palette.primary.main : theme.palette.background[\"default\"];\n  return {\n    tabs: {\n      color: theme.palette.getContrastText(tabsBackground),\n      backgroundColor: tabsBackground\n    }\n  };\n}, {\n  name: 'MuiPickerDTTabs'\n});\nexport var DateTimePickerTabs = function DateTimePickerTabs(_ref) {\n  var view = _ref.view,\n      onChange = _ref.onChange,\n      dateRangeIcon = _ref.dateRangeIcon,\n      timeIcon = _ref.timeIcon;\n  var classes = useStyles();\n  var theme = useTheme();\n  var indicatorColor = theme.palette.type === 'light' ? 'secondary' : 'primary';\n\n  var handleChange = function handleChange(e, value) {\n    if (value !== viewToTabIndex(view)) {\n      onChange(tabIndexToView(value));\n    }\n  };\n\n  return React.createElement(Paper, null, React.createElement(Tabs, {\n    variant: \"fullWidth\",\n    value: viewToTabIndex(view),\n    onChange: handleChange,\n    className: classes.tabs,\n    indicatorColor: indicatorColor\n  }, React.createElement(Tab, {\n    value: \"date\",\n    icon: React.createElement(React.Fragment, null, dateRangeIcon)\n  }), React.createElement(Tab, {\n    value: \"time\",\n    icon: React.createElement(React.Fragment, null, timeIcon)\n  })));\n};\nDateTimePickerTabs.defaultProps = {\n  dateRangeIcon: React.createElement(DateRangeIcon, null),\n  timeIcon: React.createElement(TimeIcon, null)\n};\nexport default DateTimePickerTabs;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nexport var DateRangeIcon = function DateRangeIcon(props) {\n  return React.createElement(SvgIcon, props, React.createElement(\"path\", {\n    d: \"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z\"\n  }), React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0z\"\n  }));\n};","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nexport var TimeIcon = function TimeIcon(props) {\n  return React.createElement(SvgIcon, props, React.createElement(\"path\", {\n    d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n  }), React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0z\"\n  }), React.createElement(\"path\", {\n    d: \"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\"\n  }));\n};","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\"; // A grid component using the following libs as inspiration.\n//\n// For the implementation:\n// - https://getbootstrap.com/docs/4.3/layout/grid/\n// - https://github.com/kristoferjoseph/flexboxgrid/blob/master/src/css/flexboxgrid.css\n// - https://github.com/roylee0704/react-flexbox-grid\n// - https://material.angularjs.org/latest/layout/introduction\n//\n// Follow this flexbox Guide to better understand the underlying model:\n// - https://css-tricks.com/snippets/css/a-guide-to-flexbox/\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport requirePropFactory from '../utils/requirePropFactory';\nvar SPACINGS = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nvar GRID_SIZES = ['auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n\nfunction generateGrid(globalStyles, theme, breakpoint) {\n  var styles = {};\n  GRID_SIZES.forEach(function (size) {\n    var key = \"grid-\".concat(breakpoint, \"-\").concat(size);\n\n    if (size === true) {\n      // For the auto layouting\n      styles[key] = {\n        flexBasis: 0,\n        flexGrow: 1,\n        maxWidth: '100%'\n      };\n      return;\n    }\n\n    if (size === 'auto') {\n      styles[key] = {\n        flexBasis: 'auto',\n        flexGrow: 0,\n        maxWidth: 'none'\n      };\n      return;\n    } // Keep 7 significant numbers.\n\n\n    var width = \"\".concat(Math.round(size / 12 * 10e7) / 10e5, \"%\"); // Close to the bootstrap implementation:\n    // https://github.com/twbs/bootstrap/blob/8fccaa2439e97ec72a4b7dc42ccc1f649790adb0/scss/mixins/_grid.scss#L41\n\n    styles[key] = {\n      flexBasis: width,\n      flexGrow: 0,\n      maxWidth: width\n    };\n  }); // No need for a media query for the first size.\n\n  if (breakpoint === 'xs') {\n    _extends(globalStyles, styles);\n  } else {\n    globalStyles[theme.breakpoints.up(breakpoint)] = styles;\n  }\n}\n\nfunction getOffset(val) {\n  var div = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var parse = parseFloat(val);\n  return \"\".concat(parse / div).concat(String(val).replace(String(parse), '') || 'px');\n}\n\nfunction generateGutter(theme, breakpoint) {\n  var styles = {};\n  SPACINGS.forEach(function (spacing) {\n    var themeSpacing = theme.spacing(spacing);\n\n    if (themeSpacing === 0) {\n      return;\n    }\n\n    styles[\"spacing-\".concat(breakpoint, \"-\").concat(spacing)] = {\n      margin: \"-\".concat(getOffset(themeSpacing, 2)),\n      width: \"calc(100% + \".concat(getOffset(themeSpacing), \")\"),\n      '& > $item': {\n        padding: getOffset(themeSpacing, 2)\n      }\n    };\n  });\n  return styles;\n} // Default CSS values\n// flex: '0 1 auto',\n// flexDirection: 'row',\n// alignItems: 'flex-start',\n// flexWrap: 'nowrap',\n// justifyContent: 'flex-start',\n\n\nexport var styles = function styles(theme) {\n  return _extends({\n    /* Styles applied to the root element */\n    root: {},\n\n    /* Styles applied to the root element if `container={true}`. */\n    container: {\n      boxSizing: 'border-box',\n      display: 'flex',\n      flexWrap: 'wrap',\n      width: '100%'\n    },\n\n    /* Styles applied to the root element if `item={true}`. */\n    item: {\n      boxSizing: 'border-box',\n      margin: '0' // For instance, it's useful when used with a `figure` element.\n\n    },\n\n    /* Styles applied to the root element if `zeroMinWidth={true}`. */\n    zeroMinWidth: {\n      minWidth: 0\n    },\n\n    /* Styles applied to the root element if `direction=\"column\"`. */\n    'direction-xs-column': {\n      flexDirection: 'column'\n    },\n\n    /* Styles applied to the root element if `direction=\"column-reverse\"`. */\n    'direction-xs-column-reverse': {\n      flexDirection: 'column-reverse'\n    },\n\n    /* Styles applied to the root element if `direction=\"rwo-reverse\"`. */\n    'direction-xs-row-reverse': {\n      flexDirection: 'row-reverse'\n    },\n\n    /* Styles applied to the root element if `wrap=\"nowrap\"`. */\n    'wrap-xs-nowrap': {\n      flexWrap: 'nowrap'\n    },\n\n    /* Styles applied to the root element if `wrap=\"reverse\"`. */\n    'wrap-xs-wrap-reverse': {\n      flexWrap: 'wrap-reverse'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"center\"`. */\n    'align-items-xs-center': {\n      alignItems: 'center'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"flex-start\"`. */\n    'align-items-xs-flex-start': {\n      alignItems: 'flex-start'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"flex-end\"`. */\n    'align-items-xs-flex-end': {\n      alignItems: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `alignItems=\"baseline\"`. */\n    'align-items-xs-baseline': {\n      alignItems: 'baseline'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"center\"`. */\n    'align-content-xs-center': {\n      alignContent: 'center'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"flex-start\"`. */\n    'align-content-xs-flex-start': {\n      alignContent: 'flex-start'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"flex-end\"`. */\n    'align-content-xs-flex-end': {\n      alignContent: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"space-between\"`. */\n    'align-content-xs-space-between': {\n      alignContent: 'space-between'\n    },\n\n    /* Styles applied to the root element if `alignContent=\"space-around\"`. */\n    'align-content-xs-space-around': {\n      alignContent: 'space-around'\n    },\n\n    /* Styles applied to the root element if `justify=\"center\"`. */\n    'justify-xs-center': {\n      justifyContent: 'center'\n    },\n\n    /* Styles applied to the root element if `justify=\"flex-end\"`. */\n    'justify-xs-flex-end': {\n      justifyContent: 'flex-end'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-between\"`. */\n    'justify-xs-space-between': {\n      justifyContent: 'space-between'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-around\"`. */\n    'justify-xs-space-around': {\n      justifyContent: 'space-around'\n    },\n\n    /* Styles applied to the root element if `justify=\"space-evenly\"`. */\n    'justify-xs-space-evenly': {\n      justifyContent: 'space-evenly'\n    }\n  }, generateGutter(theme, 'xs'), {}, theme.breakpoints.keys.reduce(function (accumulator, key) {\n    // Use side effect over immutability for better performance.\n    generateGrid(accumulator, theme, key);\n    return accumulator;\n  }, {}));\n};\nvar Grid = React.forwardRef(function (props, ref) {\n  var _props$alignContent = props.alignContent,\n      alignContent = _props$alignContent === void 0 ? 'stretch' : _props$alignContent,\n      _props$alignItems = props.alignItems,\n      alignItems = _props$alignItems === void 0 ? 'stretch' : _props$alignItems,\n      classes = props.classes,\n      classNameProp = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      _props$container = props.container,\n      container = _props$container === void 0 ? false : _props$container,\n      _props$direction = props.direction,\n      direction = _props$direction === void 0 ? 'row' : _props$direction,\n      _props$item = props.item,\n      item = _props$item === void 0 ? false : _props$item,\n      _props$justify = props.justify,\n      justify = _props$justify === void 0 ? 'flex-start' : _props$justify,\n      _props$lg = props.lg,\n      lg = _props$lg === void 0 ? false : _props$lg,\n      _props$md = props.md,\n      md = _props$md === void 0 ? false : _props$md,\n      _props$sm = props.sm,\n      sm = _props$sm === void 0 ? false : _props$sm,\n      _props$spacing = props.spacing,\n      spacing = _props$spacing === void 0 ? 0 : _props$spacing,\n      _props$wrap = props.wrap,\n      wrap = _props$wrap === void 0 ? 'wrap' : _props$wrap,\n      _props$xl = props.xl,\n      xl = _props$xl === void 0 ? false : _props$xl,\n      _props$xs = props.xs,\n      xs = _props$xs === void 0 ? false : _props$xs,\n      _props$zeroMinWidth = props.zeroMinWidth,\n      zeroMinWidth = _props$zeroMinWidth === void 0 ? false : _props$zeroMinWidth,\n      other = _objectWithoutProperties(props, [\"alignContent\", \"alignItems\", \"classes\", \"className\", \"component\", \"container\", \"direction\", \"item\", \"justify\", \"lg\", \"md\", \"sm\", \"spacing\", \"wrap\", \"xl\", \"xs\", \"zeroMinWidth\"]);\n\n  var className = clsx(classes.root, classNameProp, container && [classes.container, spacing !== 0 && classes[\"spacing-xs-\".concat(String(spacing))]], item && classes.item, zeroMinWidth && classes.zeroMinWidth, direction !== 'row' && classes[\"direction-xs-\".concat(String(direction))], wrap !== 'wrap' && classes[\"wrap-xs-\".concat(String(wrap))], alignItems !== 'stretch' && classes[\"align-items-xs-\".concat(String(alignItems))], alignContent !== 'stretch' && classes[\"align-content-xs-\".concat(String(alignContent))], justify !== 'flex-start' && classes[\"justify-xs-\".concat(String(justify))], xs !== false && classes[\"grid-xs-\".concat(String(xs))], sm !== false && classes[\"grid-sm-\".concat(String(sm))], md !== false && classes[\"grid-md-\".concat(String(md))], lg !== false && classes[\"grid-lg-\".concat(String(lg))], xl !== false && classes[\"grid-xl-\".concat(String(xl))]);\n  return React.createElement(Component, _extends({\n    className: className,\n    ref: ref\n  }, other));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  // can't use named function expression since the function body references `Grid`\n  // which would point to the render function instead of the actual component\n  Grid.displayName = 'ForwardRef(Grid)';\n}\n\nprocess.env.NODE_ENV !== \"production\" ? Grid.propTypes = {\n  /**\n   * Defines the `align-content` style property.\n   * It's applied for all screen sizes.\n   */\n  alignContent: PropTypes.oneOf(['stretch', 'center', 'flex-start', 'flex-end', 'space-between', 'space-around']),\n\n  /**\n   * Defines the `align-items` style property.\n   * It's applied for all screen sizes.\n   */\n  alignItems: PropTypes.oneOf(['flex-start', 'center', 'flex-end', 'stretch', 'baseline']),\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the component will have the flex *container* behavior.\n   * You should be wrapping *items* with a *container*.\n   */\n  container: PropTypes.bool,\n\n  /**\n   * Defines the `flex-direction` style property.\n   * It is applied for all screen sizes.\n   */\n  direction: PropTypes.oneOf(['row', 'row-reverse', 'column', 'column-reverse']),\n\n  /**\n   * If `true`, the component will have the flex *item* behavior.\n   * You should be wrapping *items* with a *container*.\n   */\n  item: PropTypes.bool,\n\n  /**\n   * Defines the `justify-content` style property.\n   * It is applied for all screen sizes.\n   */\n  justify: PropTypes.oneOf(['flex-start', 'center', 'flex-end', 'space-between', 'space-around', 'space-evenly']),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `lg` breakpoint and wider screens if not overridden.\n   */\n  lg: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `md` breakpoint and wider screens if not overridden.\n   */\n  md: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `sm` breakpoint and wider screens if not overridden.\n   */\n  sm: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the space between the type `item` component.\n   * It can only be used on a type `container` component.\n   */\n  spacing: PropTypes.oneOf(SPACINGS),\n\n  /**\n   * Defines the `flex-wrap` style property.\n   * It's applied for all screen sizes.\n   */\n  wrap: PropTypes.oneOf(['nowrap', 'wrap', 'wrap-reverse']),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for the `xl` breakpoint and wider screens.\n   */\n  xl: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * Defines the number of grids the component is going to use.\n   * It's applied for all the screen sizes with the lowest priority.\n   */\n  xs: PropTypes.oneOf([false, 'auto', true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]),\n\n  /**\n   * If `true`, it sets `min-width: 0` on the item.\n   * Refer to the limitations section of the documentation to better understand the use case.\n   */\n  zeroMinWidth: PropTypes.bool\n} : void 0;\nvar StyledGrid = withStyles(styles, {\n  name: 'MuiGrid'\n})(Grid);\n\nif (process.env.NODE_ENV !== 'production') {\n  var requireProp = requirePropFactory('Grid');\n  StyledGrid.propTypes = _extends({}, StyledGrid.propTypes, {\n    alignContent: requireProp('container'),\n    alignItems: requireProp('container'),\n    direction: requireProp('container'),\n    justify: requireProp('container'),\n    lg: requireProp('item'),\n    md: requireProp('item'),\n    sm: requireProp('item'),\n    spacing: requireProp('container'),\n    wrap: requireProp('container'),\n    xs: requireProp('item'),\n    zeroMinWidth: requireProp('item')\n  });\n}\n\nexport default StyledGrid;","import * as React from 'react';\nimport ToolbarText from '../_shared/ToolbarText';\nimport PickerToolbar from '../_shared/PickerToolbar';\nimport ToolbarButton from '../_shared/ToolbarButton';\nimport DateTimePickerTabs from './DateTimePickerTabs';\nimport { Grid } from '@material-ui/core';\nimport { useUtils } from '../_shared/hooks/useUtils';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { useMeridiemMode } from '../TimePicker/TimePickerToolbar';\nexport var useStyles = makeStyles(function (_) {\n  return {\n    toolbar: {\n      paddingLeft: 16,\n      paddingRight: 16,\n      justifyContent: 'space-around'\n    },\n    separator: {\n      margin: '0 4px 0 2px',\n      cursor: 'default'\n    }\n  };\n}, {\n  name: 'MuiPickerDTToolbar'\n});\nexport var DateTimePickerToolbar = function DateTimePickerToolbar(_ref) {\n  var date = _ref.date,\n      openView = _ref.openView,\n      setOpenView = _ref.setOpenView,\n      ampm = _ref.ampm,\n      hideTabs = _ref.hideTabs,\n      dateRangeIcon = _ref.dateRangeIcon,\n      timeIcon = _ref.timeIcon,\n      onChange = _ref.onChange;\n  var utils = useUtils();\n  var classes = useStyles();\n  var showTabs = !hideTabs && typeof window !== 'undefined' && window.innerHeight > 667;\n\n  var _useMeridiemMode = useMeridiemMode(date, ampm, onChange),\n      meridiemMode = _useMeridiemMode.meridiemMode,\n      handleMeridiemChange = _useMeridiemMode.handleMeridiemChange;\n\n  var theme = useTheme();\n  var rtl = theme.direction === 'rtl';\n  return React.createElement(React.Fragment, null, React.createElement(PickerToolbar, {\n    isLandscape: false,\n    className: classes.toolbar\n  }, React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    wrap: \"nowrap\"\n  }, React.createElement(Grid, {\n    item: true,\n    container: true,\n    xs: 5,\n    justify: \"flex-start\",\n    direction: \"column\"\n  }, React.createElement(\"div\", null, React.createElement(ToolbarButton, {\n    variant: \"subtitle1\",\n    onClick: function onClick() {\n      return setOpenView('year');\n    },\n    selected: openView === 'year',\n    label: utils.getYearText(date)\n  })), React.createElement(\"div\", null, React.createElement(ToolbarButton, {\n    variant: \"h4\",\n    onClick: function onClick() {\n      return setOpenView('date');\n    },\n    selected: openView === 'date',\n    label: utils.getDateTimePickerHeaderText(date)\n  }))), React.createElement(Grid, {\n    item: true,\n    container: true,\n    xs: 6,\n    justify: \"center\",\n    alignItems: \"flex-end\",\n    direction: rtl ? 'row-reverse' : 'row'\n  }, React.createElement(ToolbarButton, {\n    variant: \"h3\",\n    onClick: function onClick() {\n      return setOpenView('hours');\n    },\n    selected: openView === 'hours',\n    label: utils.getHourText(date, ampm)\n  }), React.createElement(ToolbarText, {\n    variant: \"h3\",\n    label: \":\",\n    className: classes.separator\n  }), React.createElement(ToolbarButton, {\n    variant: \"h3\",\n    onClick: function onClick() {\n      return setOpenView('minutes');\n    },\n    selected: openView === 'minutes',\n    label: utils.getMinuteText(date)\n  })), ampm && React.createElement(Grid, {\n    item: true,\n    container: true,\n    xs: 1,\n    direction: \"column\",\n    justify: \"flex-end\"\n  }, React.createElement(ToolbarButton, {\n    variant: \"subtitle1\",\n    selected: meridiemMode === 'am',\n    label: utils.getMeridiemText('am'),\n    onClick: function onClick() {\n      return handleMeridiemChange('am');\n    }\n  }), React.createElement(ToolbarButton, {\n    variant: \"subtitle1\",\n    selected: meridiemMode === 'pm',\n    label: utils.getMeridiemText('pm'),\n    onClick: function onClick() {\n      return handleMeridiemChange('pm');\n    }\n  })))), showTabs && React.createElement(DateTimePickerTabs, {\n    dateRangeIcon: dateRangeIcon,\n    timeIcon: timeIcon,\n    view: openView,\n    onChange: setOpenView\n  }));\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { useUtils } from '../_shared/hooks/useUtils';\nimport { DateTimePickerToolbar } from './DateTimePickerToolbar';\nimport { pick12hOr24hFormat } from '../_helpers/text-field-helper';\nimport { dateTimePickerDefaultProps } from '../constants/prop-types';\nimport { makePurePicker } from '../Picker/WrappedPurePicker';\nimport { makeKeyboardPicker } from '../Picker/WrappedKeyboardPicker';\n\nvar defaultProps = _extends({}, dateTimePickerDefaultProps, {\n  wider: true,\n  orientation: 'portrait',\n  openTo: 'date',\n  views: ['year', 'date', 'hours', 'minutes']\n});\n\nfunction useOptions(props) {\n  var utils = useUtils();\n\n  if (props.orientation !== 'portrait') {\n    throw new Error('We are not supporting custom orientation for DateTimePicker yet :(');\n  }\n\n  return {\n    getDefaultFormat: function getDefaultFormat() {\n      return pick12hOr24hFormat(props.format, props.ampm, {\n        '12h': utils.dateTime12hFormat,\n        '24h': utils.dateTime24hFormat\n      });\n    }\n  };\n}\n\nexport var DateTimePicker = makePurePicker({\n  useOptions: useOptions,\n  DefaultToolbarComponent: DateTimePickerToolbar\n});\nexport var KeyboardDateTimePicker = makeKeyboardPicker({\n  useOptions: useOptions,\n  DefaultToolbarComponent: DateTimePickerToolbar,\n  getCustomProps: function getCustomProps(props) {\n    return {\n      refuse: props.ampm ? /[^\\dap]+/gi : /[^\\d]+/gi\n    };\n  }\n});\nDateTimePicker.defaultProps = defaultProps;\nKeyboardDateTimePicker.defaultProps = defaultProps;","import * as React from 'react';\nimport clsx from 'clsx';\nimport ToolbarButton from '../_shared/ToolbarButton';\nimport PickerToolbar from '../_shared/PickerToolbar';\nimport { useUtils } from '../_shared/hooks/useUtils';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { isYearAndMonthViews, isYearOnlyView } from '../_helpers/date-utils';\nexport var useStyles = makeStyles({\n  toolbar: {\n    flexDirection: 'column',\n    alignItems: 'flex-start'\n  },\n  toolbarLandscape: {\n    padding: 16\n  },\n  dateLandscape: {\n    marginRight: 16\n  }\n}, {\n  name: 'MuiPickersDatePickerRoot'\n});\nexport var DatePickerToolbar = function DatePickerToolbar(_ref) {\n  var date = _ref.date,\n      views = _ref.views,\n      setOpenView = _ref.setOpenView,\n      isLandscape = _ref.isLandscape,\n      openView = _ref.openView;\n  var utils = useUtils();\n  var classes = useStyles();\n  var isYearOnly = React.useMemo(function () {\n    return isYearOnlyView(views);\n  }, [views]);\n  var isYearAndMonth = React.useMemo(function () {\n    return isYearAndMonthViews(views);\n  }, [views]);\n  return React.createElement(PickerToolbar, {\n    isLandscape: isLandscape,\n    className: clsx(!isYearOnly && classes.toolbar, isLandscape && classes.toolbarLandscape)\n  }, React.createElement(ToolbarButton, {\n    variant: isYearOnly ? 'h3' : 'subtitle1',\n    onClick: function onClick() {\n      return setOpenView('year');\n    },\n    selected: openView === 'year',\n    label: utils.getYearText(date)\n  }), !isYearOnly && !isYearAndMonth && React.createElement(ToolbarButton, {\n    variant: \"h4\",\n    selected: openView === 'date',\n    onClick: function onClick() {\n      return setOpenView('date');\n    },\n    align: isLandscape ? 'left' : 'center',\n    label: utils.getDatePickerHeaderText(date),\n    className: clsx(isLandscape && classes.dateLandscape)\n  }), isYearAndMonth && React.createElement(ToolbarButton, {\n    variant: \"h4\",\n    onClick: function onClick() {\n      return setOpenView('month');\n    },\n    selected: openView === 'month',\n    label: utils.getMonthText(date)\n  }));\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { useUtils } from '../_shared/hooks/useUtils';\nimport { DatePickerToolbar } from './DatePickerToolbar';\nimport { getFormatByViews } from '../_helpers/date-utils';\nimport { datePickerDefaultProps } from '../constants/prop-types';\nimport { makePurePicker } from '../Picker/WrappedPurePicker';\nimport { makeKeyboardPicker } from '../Picker/WrappedKeyboardPicker';\n\nvar defaultProps = _extends({}, datePickerDefaultProps, {\n  openTo: 'date',\n  views: ['year', 'date']\n});\n\nfunction useOptions(props) {\n  var utils = useUtils();\n  return {\n    getDefaultFormat: function getDefaultFormat() {\n      return getFormatByViews(props.views, utils);\n    }\n  };\n}\n\nexport var DatePicker = makePurePicker({\n  useOptions: useOptions,\n  DefaultToolbarComponent: DatePickerToolbar\n});\nexport var KeyboardDatePicker = makeKeyboardPicker({\n  useOptions: useOptions,\n  DefaultToolbarComponent: DatePickerToolbar\n});\nDatePicker.defaultProps = defaultProps;\nKeyboardDatePicker.defaultProps = defaultProps;","import { Trans } from '@lingui/macro'\nimport React from 'react'\n\nimport { FlexColumn } from '../../../atoms/FlexColumn'\nimport { FlexRowSingle } from '../../../atoms/FlexRowSingle'\nimport { FormInputDate } from '../../../components/forms/FormInputDate'\nimport { FormSubmitButton } from '../../../components/forms/FormSubmitButton'\n\nexport const ClosureHistoryFilter = () => {\n  return (\n    <FlexRowSingle justify=\"flex-start\">\n      <FlexColumn fixedWidth={true} width=\"12rem\">\n        <FormInputDate\n          fieldName=\"dateFrom\"\n          label={<Trans>From date</Trans>}\n          autoOk={true}\n        />\n      </FlexColumn>\n      <FlexColumn fixedWidth={true} width=\"12rem\">\n        <FormInputDate\n          fieldName=\"dateTo\"\n          label={<Trans>To date</Trans>}\n          autoOk={true}\n        />\n      </FlexColumn>\n      <FlexColumn>\n        <FormSubmitButton width=\"15rem\">\n          <Trans>Show history for branch</Trans>\n        </FormSubmitButton>\n      </FlexColumn>\n    </FlexRowSingle>\n  )\n}\n","import {\n  ApolloOperationError,\n  useApolloClient,\n  useApolloDefender,\n} from '@speedlo/graphql'\nimport { useReaction } from '@speedlo/hooks'\nimport { ApolloError, QueryOptions } from 'apollo-client'\nimport { DocumentNode } from 'graphql'\nimport { runInAction } from 'mobx'\nimport { useObservable } from 'mobx-react-lite'\n\nexport interface IQueryResult<TData> {\n  data: Maybe<TData>\n  loading: boolean\n  error?: ApolloError\n  hasAnyError: boolean\n  wasExecuted: boolean\n}\n\nexport function useExecutableQuery<TData, TVariables>(\n  query: DocumentNode,\n  options: Partial<QueryOptions<TVariables>> = {},\n) {\n  const client = useApolloClient()\n  const { onError } = useApolloDefender()\n  const result: IQueryResult<TData> = useObservable({\n    data: null,\n    loading: false,\n    error: undefined,\n    wasExecuted: false,\n    get hasAnyError() {\n      return Boolean(result.error)\n    },\n  })\n  useReaction(\n    () => result.error,\n    error => {\n      if (error) {\n        onError(error)\n      }\n    },\n  )\n  const makeError = (err: ApolloError, variables: TVariables) => {\n    return new ApolloOperationError(err, query, { ...options, variables })\n  }\n  const execute = async (variables: TVariables) => {\n    result.loading = true\n    try {\n      const queryResult = await client.query<TData, TVariables>({\n        ...options,\n        query,\n        variables,\n      })\n      runInAction(() => {\n        result.wasExecuted = true\n        result.data = queryResult.data\n        result.loading = false\n        if (queryResult.errors && queryResult.errors.length > 0) {\n          result.error = makeError(\n            new ApolloError({ graphQLErrors: queryResult.errors }),\n            variables,\n          )\n        }\n      })\n    } catch (err) {\n      runInAction(() => {\n        result.error = makeError(err, variables)\n        result.loading = false\n      })\n    }\n    return result\n  }\n  const reset = () => {\n    runInAction(() => {\n      result.wasExecuted = false\n      result.data = null\n      result.error = undefined\n      result.loading = false\n    })\n  }\n  return { result, execute, reset }\n}\n","import { XForm } from '@speedlo/xform'\nimport { subDays } from 'date-fns'\nimport React, { createContext, useContext } from 'react'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport {\n  QClosureHistoryDocument,\n  QClosureHistoryHistory,\n  QClosureHistoryQuery,\n  QClosureHistoryVariables,\n} from '../../../graph/generated'\nimport { formatDateISO } from '../../../helpers/formats'\nimport {\n  IQueryResult,\n  useExecutableQuery,\n} from '../../../hooks/useExecutableQuery'\n\nexport type TReports = QClosureHistoryHistory\n\nconst context = createContext<IQueryResult<QClosureHistoryQuery> | null>(null)\n\nexport const useClosureHistory = () => useContext(context)!\n\nexport const ClosureHistoryLoader: React.FC<Required<SomeChildren>> = ({\n  children,\n}) => {\n  const { statistics } = useRoot()\n  const { result, execute } = useExecutableQuery<\n    QClosureHistoryQuery,\n    QClosureHistoryVariables\n  >(QClosureHistoryDocument)\n\n  return (\n    <XForm\n      onSubmit={(formValues: { dateFrom: Date; dateTo: Date }) => {\n        if (statistics.closureBranch) {\n          execute({\n            branchId: statistics.closureBranch,\n            dateFrom: formatDateISO(formValues.dateFrom),\n            dateTo: formatDateISO(formValues.dateTo),\n          })\n        }\n      }}\n      initialValues={{ dateFrom: subDays(new Date(), 1), dateTo: new Date() }}\n    >\n      <context.Provider value={result}>{children}</context.Provider>\n    </XForm>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport { Edit } from '@material-ui/icons'\nimport { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { FlexColumn } from '../../../atoms/FlexColumn'\nimport { FlexRow } from '../../../atoms/FlexRow'\nimport { Headline } from '../../../atoms/Headline'\nimport { Loading } from '../../../atoms/Loading'\nimport { RelativeLink } from '../../../atoms/RelativeLink'\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { SizerButton } from '../../../atoms/SizerButton'\nimport { formatDateISO } from '../../../helpers/formats'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { useClosureHistory } from '../organisms/ClosureHistoryLoader'\n\nexport const ClosureHistoryTable = observer(() => {\n  const { data, loading, wasExecuted } = useClosureHistory()\n  const { statistics } = useRoot()\n  if (!wasExecuted) {\n    return null\n  }\n  if (loading) {\n    return (\n      <Headline>\n        <Loading />\n      </Headline>\n    )\n  }\n  if (!statistics.closureBranch) {\n    return (\n      <Headline>\n        <Trans>Select a branch</Trans>\n      </Headline>\n    )\n  }\n  if (data && data.history.length === 0) {\n    return (\n      <Headline>\n        <Trans>No closures found</Trans>\n      </Headline>\n    )\n  }\n  return (\n    <>\n      {data &&\n        data.history.map(report => (\n          <FlexRow key={report.id}>\n            <FlexColumn fixedWidth={true}>\n              <RelativeLink to={`../${report.id}`}>\n                <SizerButton>\n                  <TouchButton icon={Edit} />\n                </SizerButton>\n              </RelativeLink>\n            </FlexColumn>\n            <FlexColumn widthGrowIndex={1}>\n              {`[${report.reportSequence}] ${formatDateISO(\n                report.reportDatetime,\n              )}`}\n            </FlexColumn>\n          </FlexRow>\n        ))}\n    </>\n  )\n})\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { CanQuery } from '../../../atoms/CanQuery'\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors, Spacing } from '../../../styling'\nimport { ROUTE_OVERVIEW_CLOSURE } from '../overview.routes'\n\ninterface IProps {}\n\nexport const ClosureCurrentButton: React.FC<IProps> = props => {\n  return (\n    <CanQuery queryName=\"lastFinancialReport\">\n      <Link to={ROUTE_OVERVIEW_CLOSURE}>\n        <TouchButton\n          text={i18n.t`Current closure`}\n          color={Colors.orange}\n          width=\"15rem\"\n          height={Spacing.ButtonHeight + Spacing.DefaultSizeUnit}\n        />\n      </Link>\n    </CanQuery>\n  )\n}\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { useAutorunWhenSingleBranch } from '../../../hooks/useAutorunWhenSingleBranch'\nimport { CompanyBranchPicker } from '../../../organisms/CompanyBranchPicker'\nimport { ClosureCurrentButton } from './ClosureCurrentButton'\n\nconst ButtonToRight = styled.div`\n  float: right;\n  margin: 0.5rem;\n`\n\ninterface IProps {\n  showCurrent: boolean\n}\n\nexport const ClosureStatisticsFilter = observer<IProps>(({ showCurrent }) => {\n  const { statistics } = useRoot()\n  useAutorunWhenSingleBranch(branch => {\n    statistics.setClosureBranch(branch.id)\n  })\n  return (\n    <>\n      <CompanyBranchPicker\n        selectedBranches={\n          statistics.closureBranch ? [statistics.closureBranch] : []\n        }\n        onSelectionChange={([branch]) => statistics.setClosureBranch(branch)}\n        onSelectionClear={() => statistics.setClosureBranch(null)}\n        isClearable={false}\n        hideWhenSingleBranch={true}\n      />\n      {showCurrent && (\n        <ButtonToRight>\n          <ClosureCurrentButton />\n        </ButtonToRight>\n      )}\n    </>\n  )\n})\n","import React from 'react'\n\nimport { Card } from '../../../atoms/Card'\nimport { i18n } from '../../../i18n'\nimport { FullPageLayout } from '../../../molecules/FullPageLayout'\nimport { ClosureHistoryFilter } from '../molecules/ClosureHistoryFilter'\nimport { ClosureHistoryTable } from '../molecules/ClosureHistoryTable'\nimport { ClosureStatisticsFilter } from '../molecules/ClosureStatisticsFilter'\nimport { ClosureHistoryLoader } from '../organisms/ClosureHistoryLoader'\n\ninterface IProps {}\n\nexport const ClosureHistoryPage: React.FC<IProps> = props => (\n  <ClosureHistoryLoader>\n    <FullPageLayout\n      pageTitle={i18n.t`Closure history`}\n      useBackButton={true}\n      backRoute=\"/overview\"\n    >\n      <Card>\n        <ClosureStatisticsFilter showCurrent={true} />\n        <ClosureHistoryFilter />\n      </Card>\n      <Card>\n        <ClosureHistoryTable />\n      </Card>\n    </FullPageLayout>\n  </ClosureHistoryLoader>\n)\n","import React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { mediaMobile } from '../app/Responsive'\n\ninterface IProps {\n  text: string\n  scrollable?: boolean\n}\n\nconst StyledMonospaceOutput = styled.p`\n  color: white;\n  font-family: Menlo, 'Lucida Console', monospace;\n  white-space: pre-wrap;\n  margin: 0.2rem 0.5rem 0.5rem 0;\n  line-height: 1.8rem;\n  ${mediaMobile`\n    width: max-content;\n  `};\n`\n\nexport const StyledScrollableContainer = styled.div`\n  padding: 1.4rem 4rem 0 0.5rem;\n  display: inline-block;\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n  width: 100%;\n\n  ${mediaMobile`\n  padding: 0;\n  `};\n`\n\nconst formatOutput = (output: string) =>\n  // eslint-disable-next-line no-control-regex\n  output.replace(new RegExp('\\t', 'g'), '\\u0009')\n\nconst renderContent = (text: string) => (\n  <StyledMonospaceOutput>{formatOutput(text)}</StyledMonospaceOutput>\n)\n\nexport const MonospaceOutput: React.FC<IProps> = ({\n  text,\n  scrollable = false,\n}) =>\n  scrollable ? (\n    <StyledScrollableContainer>{renderContent(text)}</StyledScrollableContainer>\n  ) : (\n    renderContent(text)\n  )\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { MonospaceOutput } from '../../../atoms/MonospaceOutput'\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { useQClosureReport } from '../../../graph/generated'\nimport { i18n } from '../../../i18n'\n\ninterface IProps {\n  reportId?: string\n}\n\nexport const ClosureStatisticsContent = observer<IProps>(\n  ({ reportId = '' }) => {\n    const { statistics } = useRoot()\n    const skip = !statistics.closureBranch\n    const { data, loading } = useQClosureReport(\n      {\n        branchId: statistics.closureBranch!,\n        reportId,\n        showReport: Boolean(reportId),\n      },\n      { skip },\n    )\n\n    if (skip) {\n      return <MonospaceOutput text={i18n.t`Select a branch`} />\n    }\n\n    if (loading) {\n      return <MonospaceOutput text={i18n.t`Computing`} />\n    }\n\n    return (\n      <MonospaceOutput\n        scrollable={true}\n        text={reportId ? data.report!.plainData : data.lastReport.plainData}\n      />\n    )\n  },\n)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { CanQuery } from '../../../atoms/CanQuery'\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors, Spacing } from '../../../styling'\nimport { ROUTE_OVERVIEW_CLOSURE_HISTORY } from '../overview.routes'\n\ninterface IProps {}\n\nexport const ClosureHistoryButton: React.FC<IProps> = props => {\n  return (\n    <CanQuery queryName=\"financialReports\">\n      <Link to={ROUTE_OVERVIEW_CLOSURE_HISTORY}>\n        <TouchButton\n          text={i18n.t`Closure history`}\n          color={Colors.greyDark}\n          width=\"15rem\"\n          height={Spacing.ButtonHeight + Spacing.DefaultSizeUnit}\n        />\n      </Link>\n    </CanQuery>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\n\nimport { CanMutate } from '../../../atoms/CanMutate'\nimport { Sizer } from '../../../atoms/Sizer'\nimport { ConfirmButton } from '../../../molecules/ConfirmButton'\nimport { Colors } from '../../../styling'\n\nexport interface IProps {\n  onClick(): void\n  disabled: boolean\n}\n\nexport const ClosureSubmitButton: React.FC<IProps> = ({\n  onClick,\n  disabled,\n}) => (\n  <CanMutate mutationName=\"createFinancialReport\">\n    <Sizer width={12}>\n      <ConfirmButton\n        onConfirm={onClick}\n        initialColor={Colors.green}\n        confirmNode={<Trans>Are you sure?</Trans>}\n        confirmColor={Colors.orange}\n        disabled={disabled}\n      >\n        <Trans>Create closure</Trans>\n      </ConfirmButton>\n    </Sizer>\n  </CanMutate>\n)\n","import { useRouterContext } from '@speedlo/hooks'\nimport { useObserver } from 'mobx-react-lite'\nimport React, { useCallback } from 'react'\n\nimport { FlexRowSingle } from '../../../atoms/FlexRowSingle'\nimport { MarginBox } from '../../../atoms/MarginBox'\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { useMFinancialReportCreate } from '../../../graph/generated'\nimport { useSnackBar } from '../../../hooks/useSnackBar'\nimport { i18n } from '../../../i18n'\nimport { Spacing } from '../../../styling'\nimport { ClosureCurrentButton } from '../molecules/ClosureCurrentButton'\nimport { ClosureHistoryButton } from '../molecules/ClosureHistoryButton'\nimport { ClosureSubmitButton } from '../molecules/ClosureSubmitButton'\nimport { ROUTE_OVERVIEW_CLOSURE } from '../overview.routes'\n\ninterface IProps {\n  showCurrent: boolean\n}\n\nexport const ClosureStatisticsControl: React.FC<IProps> = ({ showCurrent }) => {\n  const { statistics } = useRoot()\n  const { enqueueSuccess } = useSnackBar()\n  const { history } = useRouterContext()\n\n  const [createClosure] = useMFinancialReportCreate()\n\n  const onSubmit = useCallback(async () => {\n    if (!statistics.closureBranch) {\n      return\n    }\n    const data = await createClosure({\n      branchId: statistics.closureBranch,\n    })\n    if (data) {\n      const { id } = data.result\n      history.push(`${ROUTE_OVERVIEW_CLOSURE}/${id}`)\n      enqueueSuccess(i18n.t`Closure has been created`)\n    }\n  }, [createClosure, enqueueSuccess, history, statistics])\n\n  return useObserver(() => (\n    <MarginBox margin={`${Spacing.Middle} 0 0 0`}>\n      <FlexRowSingle>\n        {showCurrent ? (\n          <ClosureCurrentButton />\n        ) : (\n          <ClosureSubmitButton\n            onClick={onSubmit}\n            disabled={!statistics.closureBranch}\n          />\n        )}\n        <ClosureHistoryButton />\n      </FlexRowSingle>\n    </MarginBox>\n  ))\n}\n","import React from 'react'\nimport { RouteComponentProps } from 'react-router-dom'\n\nimport { Card } from '../../../atoms/Card'\nimport { i18n } from '../../../i18n'\nimport { FullPageLayout } from '../../../molecules/FullPageLayout'\nimport { ClosureStatisticsContent } from '../molecules/ClosureStatisticsContent'\nimport { ClosureStatisticsFilter } from '../molecules/ClosureStatisticsFilter'\nimport { ClosureStatisticsControl } from '../organisms/ClosureStatisticsControl'\nimport { ROUTE_OVERVIEW_DASHBOARD } from '../overview.routes'\n\ninterface IRouteParams {\n  reportId?: string\n}\n\ninterface IProps extends RouteComponentProps<IRouteParams> {}\n\nexport const ClosurePage: React.FC<IProps> = ({ match }) => (\n  <FullPageLayout\n    pageTitle={i18n.t`Closure`}\n    useBackButton={true}\n    backRoute={ROUTE_OVERVIEW_DASHBOARD}\n  >\n    <Card>\n      <ClosureStatisticsFilter showCurrent={false} />\n      <ClosureStatisticsControl showCurrent={Boolean(match.params.reportId)} />\n    </Card>\n    <ClosureStatisticsContent reportId={match.params.reportId} />\n  </FullPageLayout>\n)\n","import { isoDate } from '@speedlo/graphql'\nimport { useXForm, XFormRender } from '@speedlo/xform'\nimport { startOfDay } from 'date-fns'\nimport { endOfDay } from 'date-fns/esm'\nimport React from 'react'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { InputStatisticCreate } from '../../../graph/generated'\n\nconst context = React.createContext<InputStatisticCreate | undefined>(undefined)\n\nexport const useStatsFilterCurrent = () => React.useContext(context)\n\ntype TFilter = 'driver' | 'cashbox' | 'cashier'\n\nexport function useStatsFilter(...enabledFilters: RoA<TFilter>) {\n  const { statistics } = useRoot()\n  const [filter, setFilter] = React.useState<InputStatisticCreate | undefined>(\n    undefined,\n  )\n\n  const initialValues = {\n    dateTimeFrom: startOfDay(new Date()),\n    dateTimeTo: endOfDay(new Date()),\n  }\n\n  const applyFilter = React.useCallback(\n    <T extends unknown[]>(name: TFilter, values: T) => {\n      return enabledFilters.includes(name) ? values : null\n    },\n    [enabledFilters],\n  )\n\n  const onSubmit = React.useCallback(\n    (values: typeof initialValues) => {\n      setFilter({\n        dateTimeFrom: isoDate(values.dateTimeFrom),\n        dateTimeTo: isoDate(values.dateTimeTo),\n        branches: [...statistics.branchesFilter],\n        drivers: applyFilter('driver', statistics.drivers),\n        cashBoxes: applyFilter('cashbox', statistics.cashboxes),\n        cashiers: applyFilter('cashier', statistics.cashiers),\n      })\n    },\n    [applyFilter, initialValues, statistics],\n  )\n\n  const xform = useXForm({\n    onSubmit: onSubmit,\n    initialValues,\n  })\n\n  const renderForm = React.useCallback(\n    (children: ReactNodes) => {\n      return (\n        <XFormRender xform={xform}>\n          <context.Provider value={filter}>{children}</context.Provider>\n        </XFormRender>\n      )\n    },\n    [filter, xform],\n  )\n\n  return {\n    filter,\n    executeFilter: xform.api.submitForm,\n    renderForm,\n  }\n}\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\nimport {\n  AutoSizer,\n  CellMeasurer,\n  CellMeasurerCache,\n  IndexRange,\n  InfiniteLoader,\n  List,\n} from 'react-virtualized'\n\nimport { Loading } from '../../../atoms/Loading'\nimport { useRoot } from '../../../atoms/RootProvider'\nimport {\n  OrderStateCategoryEnum,\n  QStatsOrdersListDocument,\n  QStatsOrdersListList,\n  QStatsOrdersListQuery,\n  QStatsOrdersListVariables,\n  useQStatsOrdersCounts,\n} from '../../../graph/generated'\nimport { useExecutableQuery } from '../../../hooks/useExecutableQuery'\nimport { OrderBox } from '../../order/atoms/OrderBox'\nimport { useStatsFilterCurrent } from '../hooks/useStatsFilter'\n\nexport const OrdersStatisticsList: React.FC = () => {\n  const { statistics } = useRoot()\n  const filter = useStatsFilterCurrent()\n\n  const orders = React.useRef(new Map<number, QStatsOrdersListList>())\n  const loaderRef = React.useRef<InfiniteLoader | null>(null)\n  const measureCache = React.useMemo(\n    () =>\n      new CellMeasurerCache({\n        fixedWidth: true,\n        defaultHeight: 55,\n        minHeight: 55,\n      }),\n    [],\n  )\n\n  const { data: countsData, loading: countsLoading } = useQStatsOrdersCounts(\n    { filter: filter! },\n    { skip: !filter },\n  )\n\n  React.useEffect(() => {\n    orders.current.clear()\n    measureCache.clearAll()\n    if (loaderRef.current) {\n      loaderRef.current.resetLoadMoreRowsCache(true)\n    }\n  }, [filter, measureCache])\n\n  const { execute: executeList } = useExecutableQuery<\n    QStatsOrdersListQuery,\n    QStatsOrdersListVariables\n  >(QStatsOrdersListDocument)\n\n  const queryMoreOrders = React.useCallback(\n    async ({ startIndex, stopIndex }: IndexRange) => {\n      if (filter) {\n        const result = await executeList({\n          filter,\n          pagination: {\n            fromIndex: startIndex,\n            toIndex: stopIndex,\n          },\n        })\n\n        if (result.data) {\n          const list = [...result.data.stats.orders.list]\n          for (let index = startIndex; index <= stopIndex; index++) {\n            const order = list.shift()\n            if (order) {\n              orders.current.set(index, order)\n            }\n          }\n        }\n      }\n    },\n    [executeList, filter],\n  )\n\n  const isRowLoaded = React.useCallback(\n    ({ index }) => orders.current.get(index) !== undefined,\n    [],\n  )\n\n  const rowRenderer = React.useCallback(\n    ({ index, key, style, parent }) => {\n      const order = orders.current.get(index)\n      if (order === undefined) {\n        return (\n          <div style={style} key={key}>\n            ...\n          </div>\n        )\n      }\n      return (\n        <CellMeasurer\n          key={key}\n          columnIndex={0}\n          rowIndex={index}\n          cache={measureCache}\n          parent={parent}\n        >\n          {({ measure }) => (\n            <div style={style}>\n              <OrderBox\n                order={order}\n                showBranch={statistics.branchesFilter.length > 1}\n                isCancelled={\n                  order.orderStateCategory === OrderStateCategoryEnum.Cancel\n                }\n                onToggleDetail={() => {\n                  setTimeout(measure, 500)\n                }}\n              />\n            </div>\n          )}\n        </CellMeasurer>\n      )\n    },\n    [measureCache, statistics.branchesFilter.length],\n  )\n\n  if (!filter) {\n    return null\n  }\n\n  if (countsLoading) {\n    return <Loading />\n  }\n\n  const { finished, cancelled } = countsData.stats.counts\n  const totalCount = finished + cancelled\n\n  if (totalCount === 0) {\n    return <Trans>No orders</Trans>\n  }\n\n  return (\n    <AutoSizer>\n      {({ width, height }) => (\n        <InfiniteLoader\n          rowCount={totalCount}\n          isRowLoaded={isRowLoaded}\n          loadMoreRows={queryMoreOrders}\n          ref={loaderRef}\n        >\n          {({ onRowsRendered, registerChild }) => (\n            <List\n              ref={registerChild}\n              onRowsRendered={onRowsRendered}\n              rowHeight={measureCache.rowHeight}\n              deferredMeasurementCache={measureCache}\n              rowCount={totalCount}\n              width={width}\n              height={height}\n              rowRenderer={rowRenderer}\n            />\n          )}\n        </InfiniteLoader>\n      )}\n    </AutoSizer>\n  )\n}\n","import { Trans } from '@lingui/macro'\nimport { observer } from 'mobx-react-lite'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { mediaDesktop, mediaMobile } from '../../../app/Responsive'\nimport { MonospaceOutput } from '../../../atoms/MonospaceOutput'\nimport { Price } from '../../../atoms/Price'\nimport { useQStatsOrders } from '../../../graph/generated'\nimport { i18n } from '../../../i18n'\nimport { useStatsFilterCurrent } from '../hooks/useStatsFilter'\n\nconst StyledStatPanel = styled.div`\n  display: inline-block;\n  ${mediaDesktop`\n  margin: 1.4rem 4rem 0 0.5rem;\n  `};\n  ${mediaMobile`\n    margin: 0rem 1rem 0 1rem;\n  `};\n`\n\nconst StyledStatLabel = styled.h1`\n  font-weight: normal;\n  margin: 0;\n  ${mediaDesktop`\n  font-size: 1.2rem;\n  `};\n  ${mediaMobile`\n    font-size: 0.9rem;\n  `};\n`\n\nconst StyledStatValue = styled.h2`\n  font-weight: normal;\n  margin: 0;\n  ${mediaDesktop`\n    font-size: 3.3rem;\n  `};\n  ${mediaMobile`\n    font-size: 1.7rem;\n  `};\n`\n\nexport const OrdersStatisticsSummary = observer(() => {\n  const filter = useStatsFilterCurrent()\n  const { data, loading } = useQStatsOrders(\n    { filter: filter! },\n    { skip: !filter },\n  )\n\n  if (!filter) {\n    return null\n  }\n\n  if (loading) {\n    return <MonospaceOutput text={i18n.t`Computing`} />\n  }\n\n  const stats = data.stats.finishedOrders\n\n  return (\n    <>\n      <StyledStatPanel>\n        <StyledStatLabel>\n          <Trans>Total turnover</Trans>\n        </StyledStatLabel>\n        <StyledStatValue>\n          <Price\n            price={stats.total.value}\n            currencyCode={stats.total.currency.code}\n          />\n        </StyledStatValue>\n      </StyledStatPanel>\n      <StyledStatPanel>\n        <StyledStatLabel>\n          <Trans>Online payments</Trans>\n        </StyledStatLabel>\n        <StyledStatValue>\n          <Price\n            price={stats.onlinePayments.value}\n            currencyCode={stats.onlinePayments.currency.code}\n          />\n        </StyledStatValue>\n      </StyledStatPanel>\n      <StyledStatPanel>\n        <StyledStatLabel>\n          <Trans>Orders count</Trans>\n        </StyledStatLabel>\n        <StyledStatValue>\n          {stats.finishedCount + stats.cancelledCount}\n        </StyledStatValue>\n      </StyledStatPanel>\n      <StyledStatPanel>\n        <StyledStatLabel>\n          <Trans>Total commissions</Trans>\n        </StyledStatLabel>\n        <StyledStatValue>\n          <Price\n            price={stats.fees.value}\n            currencyCode={stats.fees.currency.code}\n          />\n        </StyledStatValue>\n      </StyledStatPanel>\n\n      <MonospaceOutput\n        text={data.stats.orderStatisticsPlain}\n        scrollable={true}\n      />\n    </>\n  )\n})\n","import { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { useAutorunWhenSingleBranch } from '../../../hooks/useAutorunWhenSingleBranch'\nimport { CompanyBranchPicker } from '../../../organisms/CompanyBranchPicker'\n\ninterface IProps {}\n\nexport const StatisticsBranchFilter: React.FC<IProps> = () => {\n  const { statistics } = useRoot()\n  useAutorunWhenSingleBranch(branch => {\n    statistics.setBranchFilter([branch.id])\n  })\n  return useObserver(() => (\n    <CompanyBranchPicker\n      selectedBranches={Array.from(statistics.branches)}\n      onSelectionChange={statistics.setBranchFilter}\n      onSelectionClear={statistics.clearBranchFilter}\n      isMulti={true}\n      hideWhenSingleBranch={true}\n    />\n  ))\n}\n","import { idProp } from '@speedlo/tools'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { SelectControl } from '../../../atoms/SelectControl'\n\ntype TProps<TOption> = NoChildren & {\n  placeholder: string\n  options: RoA<TOption> | null\n  selected: RoA<ID>\n  onChange(selected: RoA<ID>): void\n  formatOptionLabel(option: TOption): string\n}\n\nconst NO_OPTIONS = []\n\nexport const StatisticsBaseMultiFilter = <TOption extends { id: ID }>({\n  selected,\n  options,\n  placeholder,\n  onChange,\n  formatOptionLabel,\n}: TProps<TOption>) => {\n  return useObserver(() => (\n    <SelectControl<TOption>\n      isMulti\n      isClearable\n      isSearchable\n      placeholder={placeholder}\n      isLoading={options === null}\n      options={options || NO_OPTIONS}\n      value={\n        options === null\n          ? NO_OPTIONS\n          : options.filter(option => selected.includes(option.id))\n      }\n      formatOptionLabel={formatOptionLabel}\n      filterOption={(option, rawInput) =>\n        rawInput.length === 0 ||\n        formatOptionLabel(option.data)\n          .toLocaleLowerCase()\n          .includes(rawInput.toLocaleLowerCase())\n      }\n      getOptionValue={idProp}\n      onChange={value => {\n        if (!value) {\n          onChange([])\n        } else {\n          onChange((value as TOption[]).map(idProp))\n        }\n      }}\n    />\n  ))\n}\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { FDriverFragment, useQAllDrivers } from '../../../graph/generated'\nimport { formatFullName } from '../../../helpers/formats'\nimport { useLoadingCache } from '../../../hooks/useLoadingCache'\nimport { i18n } from '../../../i18n'\nimport { StatisticsBaseMultiFilter } from './StatisticsBaseMultiFilter'\n\ntype TDriver = FDriverFragment\n\nexport const StatisticsDriversFilter = observer<NoChildren>(() => {\n  const { statistics } = useRoot()\n  const { data, loading } = useQAllDrivers({\n    branches: statistics.branchesFilter,\n  })\n  // ? Why this?\n  // React.useEffect(() => {\n  //   if (!loading) {\n  //     statistics.setDriversFilter(\n  //       RM.intersection(statistics.drivers, data.drivers.map(idProp)),\n  //     )\n  //   }\n  // }, [data, loading, statistics])\n  const getOptions = useLoadingCache<RoA<TDriver>>()\n  return (\n    <StatisticsBaseMultiFilter<TDriver>\n      placeholder={i18n.t`Filter by drivers`}\n      formatOptionLabel={formatFullName}\n      options={getOptions(loading, () => data.drivers)}\n      selected={statistics.drivers}\n      onChange={statistics.setDriversFilter}\n    />\n  )\n})\n","import { i18n } from '@lingui/core'\nimport { DateTimePicker, DateTimePickerProps } from '@material-ui/pickers'\nimport React from 'react'\n\nimport { DateTimeFormatProvider } from './DateTimeFormatProvider'\n\nexport const InputDateTime: React.FC<\n  DateTimePickerProps & NoChildren\n> = props => {\n  return (\n    <DateTimeFormatProvider>\n      <DateTimePicker\n        hideTabs\n        variant=\"inline\"\n        format=\"lll\"\n        maxDateMessage={i18n.t`Date is too much in the future`}\n        minDateMessage={i18n.t`Date is too much in the past`}\n        {...props}\n      />\n    </DateTimeFormatProvider>\n  )\n}\n","import { DateTimePickerProps } from '@material-ui/pickers'\nimport { useXFieldForInput, useXFormState, XFieldName } from '@speedlo/xform'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { InputDateTime } from '../../atoms/InputDateTime'\n\ntype TProps = NoChildren &\n  Omit<DateTimePickerProps, 'value' | 'onChange'> & {\n    fieldName: XFieldName\n  }\n\nexport const FormInputDateTime = React.memo<TProps>(\n  ({ fieldName, ...pickerProps }) => {\n    const [field, getProps] = useXFieldForInput(fieldName)\n    const formState = useXFormState()\n    return useObserver(() => (\n      <InputDateTime\n        {...getProps()}\n        onChange={field.setValue}\n        onOpen={field.setTouched}\n        disabled={formState.isSubmitting}\n        {...pickerProps}\n      />\n    ))\n  },\n)\n","import { Plural, Trans } from '@lingui/react'\nimport { useObserver } from 'mobx-react-lite'\nimport React from 'react'\nimport styled from 'styled-components/macro'\n\nimport { FlexColumn } from '../../../atoms/FlexColumn'\nimport { FlexRowSingle } from '../../../atoms/FlexRowSingle'\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { FormInputDateTime } from '../../../components/forms/FormInputDateTime'\nimport { FormSubmitButton } from '../../../components/forms/FormSubmitButton'\n\nconst StyledStatisticsFilter = styled(FlexRowSingle)`\n  flex-wrap: wrap;\n`\n\nexport const StatisticsFilter = () => {\n  const { statistics } = useRoot()\n  return useObserver(() => (\n    <StyledStatisticsFilter justify=\"flex-start\">\n      <FlexColumn fixedWidth={true} width=\"12rem\">\n        <FormInputDateTime\n          fieldName=\"dateTimeFrom\"\n          label={<Trans>From</Trans>}\n          autoOk={true}\n        />\n      </FlexColumn>\n      <FlexColumn fixedWidth={true} width=\"12rem\">\n        <FormInputDateTime\n          fieldName=\"dateTimeTo\"\n          label={<Trans>To</Trans>}\n          autoOk={true}\n        />\n      </FlexColumn>\n      <FlexColumn>\n        <FormSubmitButton width=\"15rem\">\n          <Plural\n            value={statistics.branchesFilter.length}\n            one=\"Show for one branch\"\n            few=\"Show for # branches\"\n            other=\"Show for # branches\"\n          />\n        </FormSubmitButton>\n      </FlexColumn>\n    </StyledStatisticsFilter>\n  ))\n}\n","import React from 'react'\n\nimport { useStatsFilter } from '../hooks/useStatsFilter'\n\ntype TProps = Required<SomeChildren> & {\n  autoFilter?: string\n}\n\nexport const OrdersStatisticsLoader: React.FC<TProps> = ({\n  children,\n  autoFilter,\n}) => {\n  const { executeFilter, renderForm } = useStatsFilter('driver')\n\n  React.useEffect(() => {\n    if (autoFilter) {\n      executeFilter()\n    }\n  }, [autoFilter, executeFilter])\n\n  return renderForm(children)\n}\n","import React from 'react'\nimport { RouteComponentProps } from 'react-router-dom'\n\nimport { Card } from '../../../atoms/Card'\nimport { AutoHeight } from '../../../atoms/FlexAutoHeight'\nimport { PageLayoutGridItem } from '../../../atoms/PageLayoutGridItem'\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { i18n } from '../../../i18n'\nimport { PageLayoutFullHeightItem } from '../../../molecules/PageLayoutFullHeightItem'\nimport { PageLayoutResponsive } from '../../../molecules/PageLayoutResponsive'\nimport { OrdersStatisticsList } from '../molecules/OrdersStatisticsList'\nimport { OrdersStatisticsSummary } from '../molecules/OrdersStatisticsSummary'\nimport { StatisticsBranchFilter } from '../molecules/StatisticsBranchFilter'\nimport { StatisticsDriversFilter } from '../molecules/StatisticsDriversFilter'\nimport { StatisticsFilter } from '../molecules/StatisticsPrimaryFilter'\nimport { OrdersStatisticsLoader } from '../organisms/OrdersStatisticsLoader'\n\ninterface IProps extends RouteComponentProps<{ filter?: string }> {}\n\nexport const OrdersStatisticsPage: React.FC<IProps> = ({ match }) => {\n  const { statistics } = useRoot()\n  if (match.params.filter === 'today') {\n    statistics.setTodayOrdersFilter()\n  }\n  return (\n    <OrdersStatisticsLoader autoFilter={match.params.filter}>\n      <PageLayoutResponsive\n        pageTitle={i18n.t`Orders statistics`}\n        showSoundControl={false}\n        useBackButton={true}\n      >\n        <PageLayoutGridItem gridColumn=\"1 / span 9\" gridRow=\"1\">\n          <Card>\n            <StatisticsBranchFilter />\n            <StatisticsDriversFilter />\n            <StatisticsFilter />\n          </Card>\n        </PageLayoutGridItem>\n\n        <PageLayoutGridItem gridColumn=\"1 / span 9\" gridRow=\"2\">\n          <OrdersStatisticsSummary />\n        </PageLayoutGridItem>\n\n        <PageLayoutFullHeightItem\n          withScrollArea={false}\n          row={1}\n          column={9}\n          widthInColumns={7}\n          forcePercentHeightInMobile={90}\n        >\n          <AutoHeight>\n            <OrdersStatisticsList />\n          </AutoHeight>\n        </PageLayoutFullHeightItem>\n      </PageLayoutResponsive>\n    </OrdersStatisticsLoader>\n  )\n}\n","import { AllInbox, Assignment } from '@material-ui/icons'\nimport React from 'react'\n\nimport { i18n } from '../../../i18n'\nimport { Colors } from '../../../styling'\nimport {\n  ROUTE_OVERVIEW_CLOSURE,\n  ROUTE_OVERVIEW_STATS_ORDERS,\n  ROUTE_OVERVIEW_STATS_SALES,\n} from '../../overview/overview.routes'\nimport { ROUTE_STOCK_STATS } from '../../stock/stock.routes'\nimport { DashboardButton } from '../atoms/DashboardButton'\nimport { DashboardPage } from '../molecules/DashboardPage'\n\ninterface IProps {}\n\nexport const OverviewPage: React.FC<IProps> = () => (\n  <DashboardPage>\n    <DashboardButton\n      row={1}\n      column={1}\n      canQuery=\"statistics\"\n      text={i18n.t`Orders statistics`}\n      icon={Assignment}\n      color={Colors.turquoise}\n      route={ROUTE_OVERVIEW_STATS_ORDERS}\n    />\n    <DashboardButton\n      row={1}\n      column={2}\n      canQuery=\"statistics\"\n      text={i18n.t`Sales statistics`}\n      icon={Assignment}\n      color={Colors.turquoise}\n      route={ROUTE_OVERVIEW_STATS_SALES}\n    />\n    <DashboardButton\n      row={1}\n      column={3}\n      canQuery=\"lastFinancialReport\"\n      text={i18n.t`Closure`}\n      icon={Assignment}\n      color={Colors.turquoise}\n      route={ROUTE_OVERVIEW_CLOSURE}\n    />\n    <DashboardButton\n      row={2}\n      column={1}\n      canQuery=\"stockItems\"\n      canAccessWithSingleBranch={false}\n      text={i18n.t`Stock statistics`}\n      icon={AllInbox}\n      color={Colors.turquoise}\n      route={ROUTE_STOCK_STATS}\n    />\n  </DashboardPage>\n)\n","import { Trans } from '@lingui/macro'\nimport React from 'react'\n\nimport { Headline } from '../../../atoms/Headline'\nimport { MonospaceOutput } from '../../../atoms/MonospaceOutput'\nimport { useQStatsSales } from '../../../graph/generated'\nimport { i18n } from '../../../i18n'\nimport { useStatsFilterCurrent } from '../hooks/useStatsFilter'\n\nconst StatsDisplay: React.FC<{ plain: string }> = ({ plain, children }) => {\n  return (\n    <>\n      <Headline light={true}>{children}</Headline>\n      <MonospaceOutput text={plain} scrollable={true} />\n    </>\n  )\n}\n\nexport const SalesStatisticsContent: React.FC = () => {\n  const filter = useStatsFilterCurrent()\n  const { data, loading } = useQStatsSales(\n    { filter: filter! },\n    { skip: !filter },\n  )\n\n  if (!filter) {\n    return null\n  }\n\n  if (loading) {\n    return <MonospaceOutput text={i18n.t`Computing`} />\n  }\n\n  const { sales } = data\n  return (\n    <>\n      <StatsDisplay plain={sales.daily}>\n        <Trans>Daily statistics</Trans>\n      </StatsDisplay>\n\n      <StatsDisplay plain={sales.vat}>\n        <Trans>VAT overview</Trans>\n      </StatsDisplay>\n\n      <StatsDisplay plain={sales.category}>\n        <Trans>By category</Trans>\n      </StatsDisplay>\n\n      <StatsDisplay plain={sales.delivery}>\n        <Trans>By type</Trans>\n      </StatsDisplay>\n\n      <StatsDisplay plain={sales.drivers}>\n        <Trans>By driver</Trans>\n      </StatsDisplay>\n    </>\n  )\n}\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport {\n  FStatsCashboxFragment,\n  useQStatsCashboxes,\n} from '../../../graph/generated'\nimport { useLoadingCache } from '../../../hooks/useLoadingCache'\nimport { i18n } from '../../../i18n'\nimport { StatisticsBaseMultiFilter } from './StatisticsBaseMultiFilter'\n\ntype TCashbox = FStatsCashboxFragment\n\nfunction formatCashboxName({ name, uuid }: TCashbox) {\n  return name || uuid\n}\n\nexport const StatisticsCashboxFilter = observer<NoChildren>(() => {\n  const { statistics } = useRoot()\n  const { data, loading } = useQStatsCashboxes({\n    branches: statistics.branchesFilter,\n  })\n  const getOptions = useLoadingCache<RoA<TCashbox>>()\n  return (\n    <StatisticsBaseMultiFilter<TCashbox>\n      placeholder={i18n.t`Filter by cashbox`}\n      options={getOptions(loading, () => data.cashBoxes)}\n      selected={statistics.cashboxes}\n      formatOptionLabel={formatCashboxName}\n      onChange={statistics.setCashboxFilter}\n    />\n  )\n})\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport {\n  FStatsCashierFragment,\n  useQStatsCashiers,\n} from '../../../graph/generated'\nimport { formatFullName } from '../../../helpers/formats'\nimport { useLoadingCache } from '../../../hooks/useLoadingCache'\nimport { i18n } from '../../../i18n'\nimport { StatisticsBaseMultiFilter } from './StatisticsBaseMultiFilter'\n\ntype TCashier = FStatsCashierFragment\n\nexport const StatisticsCashiersFilter = observer<NoChildren>(() => {\n  const { statistics } = useRoot()\n  const { data, loading } = useQStatsCashiers({\n    branches: statistics.branchesFilter,\n  })\n  const getOptions = useLoadingCache<RoA<TCashier>>()\n  return (\n    <StatisticsBaseMultiFilter<TCashier>\n      placeholder={i18n.t`Filter by cashier`}\n      options={getOptions(loading, () => data.cashiers)}\n      selected={statistics.cashiers}\n      formatOptionLabel={formatFullName}\n      onChange={statistics.setCashierFilter}\n    />\n  )\n})\n","import React from 'react'\n\nimport { useStatsFilter } from '../hooks/useStatsFilter'\n\nexport const SalesStatisticsLoader: React.FC<Required<SomeChildren>> = ({\n  children,\n}) => {\n  const { renderForm } = useStatsFilter('cashbox', 'cashier')\n  return renderForm(children)\n}\n","import React from 'react'\n\nimport { Card } from '../../../atoms/Card'\nimport { i18n } from '../../../i18n'\nimport { FullPageLayout } from '../../../molecules/FullPageLayout'\nimport { SalesStatisticsContent } from '../molecules/SalesStatisticsContent'\nimport { StatisticsBranchFilter } from '../molecules/StatisticsBranchFilter'\nimport { StatisticsCashboxFilter } from '../molecules/StatisticsCashboxFilter'\nimport { StatisticsCashiersFilter } from '../molecules/StatisticsCashiersFilter'\nimport { StatisticsFilter } from '../molecules/StatisticsPrimaryFilter'\nimport { SalesStatisticsLoader } from '../organisms/SalesStatisticsLoader'\n\nexport const SalesStatisticsPage: React.FC = () => (\n  <FullPageLayout pageTitle={i18n.t`Sales statistics`} useBackButton={true}>\n    <SalesStatisticsLoader>\n      <Card>\n        <StatisticsBranchFilter />\n        <StatisticsCashboxFilter />\n        <StatisticsCashiersFilter />\n        <StatisticsFilter />\n      </Card>\n      <SalesStatisticsContent />\n    </SalesStatisticsLoader>\n  </FullPageLayout>\n)\n","import React from 'react'\nimport { Route, Switch } from 'react-router-dom'\n\nimport { PageTitle } from '../../../atoms/PageTitle'\nimport { i18n } from '../../../i18n'\nimport { NotFoundPage } from '../../../pages/NotFoundPage'\nimport { SecureRoute } from '../../../routes/SecureRoute'\nimport {\n  ROUTE_OVERVIEW_CLOSURE,\n  ROUTE_OVERVIEW_CLOSURE_HISTORY,\n  ROUTE_OVERVIEW_DASHBOARD,\n  ROUTE_OVERVIEW_STATS_ORDERS,\n  ROUTE_OVERVIEW_STATS_SALES,\n} from '../overview.routes'\nimport { ClosureHistoryPage } from '../pages/ClosureHistoryPage'\nimport { ClosurePage } from '../pages/ClosurePage'\nimport { OrdersStatisticsPage } from '../pages/OrdersStatisticsPage'\nimport { OverviewPage } from '../../dashboard/pages/StatsDashboardPage'\nimport { SalesStatisticsPage } from '../pages/SalesStatisticsPage'\n\ninterface IProps {}\n\nexport const OverviewRouting: React.FC<IProps> = () => (\n  <>\n    <PageTitle title={i18n.t`Overview`} />\n    <Switch>\n      <SecureRoute\n        exact\n        path={ROUTE_OVERVIEW_DASHBOARD}\n        component={OverviewPage}\n      />\n      <SecureRoute\n        path={ROUTE_OVERVIEW_CLOSURE_HISTORY}\n        component={ClosureHistoryPage}\n      />\n      <SecureRoute\n        path={`${ROUTE_OVERVIEW_CLOSURE}/:reportId?`}\n        component={ClosurePage}\n      />\n      <SecureRoute\n        path={ROUTE_OVERVIEW_STATS_SALES}\n        component={SalesStatisticsPage}\n      />\n      <SecureRoute\n        path={`${ROUTE_OVERVIEW_STATS_ORDERS}/:filter?`}\n        component={OrdersStatisticsPage}\n      />\n      <Route component={NotFoundPage} />\n    </Switch>\n  </>\n)\n\nexport default OverviewRouting\n"],"sourceRoot":""}