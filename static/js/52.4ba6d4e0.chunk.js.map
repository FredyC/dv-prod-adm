{"version":3,"sources":["atoms/IconLine.tsx","atoms/CanMutate.tsx","atoms/Headline.tsx","atoms/SelectControl.tsx","molecules/PageLayoutFullHeightItem.tsx","atoms/NoAccess.tsx","atoms/CanQuery.tsx","atoms/HorizontalSeparator.tsx","atoms/FlexRowSingle.tsx","hooks/useRouterContext.ts","atoms/ScrollArea.tsx","atoms/Price.tsx","atoms/SelectControlFlat.tsx","atoms/FlexColumn.tsx","molecules/FormSubmit.tsx","helpers/form.ts","hooks/useEffectOnce.ts","hooks/useSnackBar.ts","atoms/CardListTitle.tsx","molecules/CompanyBranchFlatSelect.tsx","organisms/UserCompanyBranches.tsx","organisms/CompanyBranchPicker.tsx","hooks/useExecutableQuery.ts","atoms/CursorContainer.tsx","atoms/CompanyBranch.tsx","molecules/CompanyBranchDropdown.tsx","segments/order/molecules/OrderMapMarker.graphql.ts","segments/order/organisms/OrderListLoader.graphql.ts","segments/order/organisms/OrderListLoader.tsx","graph/buildSubscription.tsx","molecules/PageLayoutItem.tsx","atoms/LinkStyled.tsx","atoms/RelativeLink.tsx","segments/order/molecules/OrderTicker.graphql.ts","helpers/moment.ts","atoms/TimeBadge.tsx","hooks/useTimer.ts","hooks/useStateRef.ts","segments/order/atoms/DeliveryTimeBadge.tsx","hooks/useGuardedMutation.tsx","atoms/FormInputDate.tsx","atoms/FlexRow.tsx","../node_modules/react-content-loader/dist/react-content-loader.es.js","atoms/ObserverWhen.tsx","segments/order/atoms/CustomerIdentity.tsx","segments/order/molecules/OrderTicker.tsx","segments/order/molecules/ContactLines.tsx","segments/order/molecules/NoteLine.tsx","segments/order/molecules/OrderCountLine.tsx","segments/order/molecules/OrderWareLine.tsx","segments/order/molecules/OrderDetailTotals.tsx","segments/order/molecules/OrderRuleLines.tsx","segments/order/molecules/OrderStats.tsx","segments/order/molecules/OrderTimeLine.tsx","segments/order/molecules/OrderWareList.tsx","segments/order/organisms/OrderDetail.graphql.ts","segments/order/molecules/OrderStateButton.tsx","segments/order/atoms/OrderDriverSelect.tsx","segments/order/molecules/OrderStateDeliver.tsx","segments/order/molecules/OrderStateFlowContainer.tsx","segments/order/molecules/OrderStateTimeNotification.tsx","segments/order/organisms/OrderStateFlow.graphql.ts","segments/order/organisms/OrderStateFlow.tsx","segments/order/organisms/OrderDetail.tsx","segments/order/atoms/OrderBox.tsx","segments/overview/organisms/ClosureHistoryLoader.graphql.ts","segments/overview/organisms/ClosureHistoryLoader.tsx","segments/overview/molecules/ClosureHistoryTable.tsx","segments/overview/molecules/ClosureCurrentButton.tsx","segments/overview/molecules/ClosureStatisticsFilter.tsx","segments/overview/molecules/StatisticsDateRangeFilter.tsx","segments/overview/pages/ClosureHistoryPage.tsx","atoms/MonospaceOutput.tsx","segments/overview/organisms/ClosureStatisticsContent.graphql.ts","segments/overview/organisms/ClosureStatisticsContent.tsx","segments/overview/molecules/ClosureHistoryButton.tsx","segments/overview/molecules/ClosureSubmitButton.tsx","segments/overview/organisms/ClosureStatisticsControl.tsx","segments/overview/pages/ClosurePage.tsx","segments/overview/molecules/StatisticsBranchFilter.tsx","segments/overview/organisms/DailyStatisticsLoader.graphql.ts","segments/overview/organisms/DailyStatisticsLoader.tsx","segments/overview/organisms/DailyStatisticsContent.tsx","segments/overview/pages/DailyStatisticsPage.tsx","segments/overview/organisms/OrdersStatisticsLoader.graphql.ts","segments/overview/organisms/OrdersStatisticsLoader.tsx","segments/overview/organisms/OrdersStatisticsList.tsx","segments/overview/organisms/OrdersStatisticsSummary.tsx","segments/overview/pages/OrdersStatisticsPage.tsx","segments/overview/molecules/ClosureButton.tsx","segments/overview/molecules/DailyStatisticsButton.tsx","segments/overview/molecules/OrdersStatisticsButton.tsx","segments/overview/pages/OverviewPage.tsx","segments/overview/routes/OverviewRoutes.tsx"],"names":["IconLineWrap","styled_components__WEBPACK_IMPORTED_MODULE_1__","div","withConfig","displayName","DescriptionContainer","labelMargin","labelWidth","labelWidthUnits","_styling__WEBPACK_IMPORTED_MODULE_2__","DefaultSizeUnit","IconLineChildren","LabelStyled","IconLine","_a","icon","label","children","props","__rest","iconComponent","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","_Icon__WEBPACK_IMPORTED_MODULE_3__","iconName","color","greyDark","nativeColor","__webpack_require__","d","__webpack_exports__","CanMutate","react__WEBPACK_IMPORTED_MODULE_0__","n","_NoAccess__WEBPACK_IMPORTED_MODULE_1__","_RootProvider__WEBPACK_IMPORTED_MODULE_2__","mutationName","user","Object","canMutate","Fragment","Headline","styled_components__WEBPACK_IMPORTED_MODULE_0__","_styling__WEBPACK_IMPORTED_MODULE_1__","h2","light","greyLight","greyDarkest","margin","size","composeSelectControlStyles","outerStyles","assign","control","base","state","selectProps","width","minWidth","controlStyles","border","greyMiddle","MarginAroundFormComponents","undefined","menu","menuStyles","zIndex","black","SelectControl","react_select__WEBPACK_IMPORTED_MODULE_1__","_extends","styles","PageLayoutFullHeightItem","_atoms_ScrollArea__WEBPACK_IMPORTED_MODULE_2__","_styling__WEBPACK_IMPORTED_MODULE_3__","FullHeightDiv","widthInColumns","LayoutGridCellMargin","widthComputed","column","leftPos","row","topPos","FullHeightDivStyled","withScrollArea","scrollAreaId","id","NoAccess","CanQuery","queryName","canQuery","HorizontalSeparator","HorizontalSeparatorStyled","visible","FlexRowSingle","justify","useRouterContext","react_router__WEBPACK_IMPORTED_MODULE_1__","ScrollArea","Price","_helpers_formats__WEBPACK_IMPORTED_MODULE_1__","price","currencyCode","SelectControlFlat","_lingui_react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","styled_components__WEBPACK_IMPORTED_MODULE_2__","_helpers_ramda__WEBPACK_IMPORTED_MODULE_3__","ItemStyled","textColor","isSelected","SelectorStyled","isInvalid","Component","[object Object]","isMulti","selectedItem","selectedItems","this","Array","isArray","length","item","contains","equals","onSingleSelection","onMultiSelection","isItemSelected","without","concat","items","isClearable","formatItem","hasSelection","onClick","updateSelection","map","idx","key","defaultProps","prop","getItemValue","FlexColumn","fixedWidth","widthGrowIndex","padding","FormSubmit","react_form__WEBPACK_IMPORTED_MODULE_1__","form","_molecules_TouchButton__WEBPACK_IMPORTED_MODULE_3__","_styling__WEBPACK_IMPORTED_MODULE_4__","green","disabled","_helpers_form__WEBPACK_IMPORTED_MODULE_2__","submitting","e","preventDefault","submitForm","isFormValid","validateIsRequired","validator__WEBPACK_IMPORTED_MODULE_0__","_i18n__WEBPACK_IMPORTED_MODULE_1__","formState","errors","keys","fieldName","value","_","useEffectOnce","effect","useSnackBar","EVariant","notistack_build_SnackbarContext__WEBPACK_IMPORTED_MODULE_0__","successVariant","variant","success","errorVariant","error","warningVariant","warning","enqueueSnackbar","enqueueSuccess","errorMessage","enqueueError","enqueueWarning","CardListTitle","CompanyBranchFlatSelect","branches","selectedBranch","selectedBranches","styling","react_default","title","brand","name","UserCompanyBranches","index_module","render","RootProvider","CompanyBranchPicker","breakpoint","onSelectionChange","onSelectionClear","getDropdownProps","isLoading","branch","includes","find","filter","selected","ramda","CompanyBranchDropdown","CompanyBranchPicker_extends","createExecutableQuery","query","context","react__WEBPACK_IMPORTED_MODULE_4__","useExecutableQuery","client","_atoms_RootProvider__WEBPACK_IMPORTED_MODULE_5__","result","mobx_react_lite__WEBPACK_IMPORTED_MODULE_3__","data","loading","hasAnyError","Boolean","execute","variables","__awaiter","queryResult","mobx__WEBPACK_IMPORTED_MODULE_2__","err","apollo_client_errors_ApolloError__WEBPACK_IMPORTED_MODULE_0__","graphQLErrors","_helpers_sentry__WEBPACK_IMPORTED_MODULE_6__","apollo_utilities__WEBPACK_IMPORTED_MODULE_1__","CursorContainer","cursor","CompanyBranch","short","showBrand","node_modules_react_default","substr","ClearIndicator","getStyles","innerProps","ref","restInnerProps","style","react","placeholder","i18n","options","getOptionValue","formatOptionLabel","filterOption","rawInput","toLocaleLowerCase","closeMenuOnSelect","components","clearIndicator","onChange","selection","head","OrderMapMarkerFragment","src_default","fragments","OrderListQuery","OrderStateModel_graphql","OrderTicker_graphql","OrderListSubscription","QueryOrderList","buildQuery","SubscribeOrderList","buildSubscription","OrderListLoader","getOrderState","knownCategories","types","NEW_ORDERS","PREPARING","READY_TO_DELIVER","ON_WAY","FINISHED","includeOldFinished","WithRoot","root","order","list","hasBranchFilter","noFilter","branchesFilter","categories","fetchPolicy","refetchOnConnectionLost","renderLoading","orders","orderStateCategories","handleUpdate","handleSubscriptionUpdate","categorizedOrders","reduce","category","push","categorizeOrders","orderStateCategory","update","prev","updatedOrder","orderExists","reject","isOldFinishedOrder","o","unshift","esm","Date","createdAt","companyBranch","oldOrderThreshold","_hooks_useEffectOnce__WEBPACK_IMPORTED_MODULE_0__","subscription","subscribeToMore","document","updateQuery","subscriptionData","PageLayoutItem","route","component","layoutItem","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","to","_atoms_CanQuery__WEBPACK_IMPORTED_MODULE_3__","_atoms_CanMutate__WEBPACK_IMPORTED_MODULE_2__","LinkStyled","RelativeLink","from","linkProps","location","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","resolveLocation","pathname","resolve_pathname__WEBPACK_IMPORTED_MODULE_3__","resolved","OrderTickerFragment","graphql_tag__WEBPACK_IMPORTED_MODULE_0__","graphql_tag__WEBPACK_IMPORTED_MODULE_0___default","_graph_fragments__WEBPACK_IMPORTED_MODULE_1__","moment__WEBPACK_IMPORTED_MODULE_0__","moment__WEBPACK_IMPORTED_MODULE_0___default","cs","updateLocale","TimeBadgeStyled","styled_components_browser_esm","white","TimeBadgeUnknown","TimeBadgeInProgress","orange","TimeBadgeBigTime","TimeBadgeWarning","red","TimeBadgeCompleted","TimeBadgeCancelled","TimeBadge","minutes","isFinished","isCancelled","index_es","toString","container","Number","isNaN","useTimer","interval","enabled","getNow","now","nextTick","raf_default","cancelTick","cancel","getLastUpdate","setLastUpdate","initialState","setState","current","useStateRef","handleRef","onFrame","loop","onStop","DeliveryTimeBadge","deliverAt","deliveredAt","useGuardedMutation","mutation","defaultMessage","_i18n__WEBPACK_IMPORTED_MODULE_7__","_useSnackBar__WEBPACK_IMPORTED_MODULE_9__","handleUserErrors","react__WEBPACK_IMPORTED_MODULE_3__","userErrors","_helpers_ramda__WEBPACK_IMPORTED_MODULE_5__","propEq","forEach","handleError","apollo_client_errors_ApolloError__WEBPACK_IMPORTED_MODULE_1__","networkError","action","react__WEBPACK_IMPORTED_MODULE_3___default","ShowFeedbackButton","mutate","react_apollo_hooks__WEBPACK_IMPORTED_MODULE_4__","_molecules_TouchButton__WEBPACK_IMPORTED_MODULE_8__","raven_js__WEBPACK_IMPORTED_MODULE_2___default","showReportDialog","FormInputDateContainer","styled_components__WEBPACK_IMPORTED_MODULE_4__","FormInputDate","field","defaultValue","inputWidth","minDate","react_form__WEBPACK_IMPORTED_MODULE_3__","fieldApi","react_datepicker__WEBPACK_IMPORTED_MODULE_2__","_helpers_moment__WEBPACK_IMPORTED_MODULE_5__","date","setValue","FlexRow","BulletListStyle","uid","Math","random","substring","Wrap","idClip","uniquekey","idGradient","animationValues","rtl","viewBox","height","preserveAspectRatio","className","fill","clipPath","x","y","offset","stopColor","primaryColor","stopOpacity","primaryOpacity","animate","attributeName","values","dur","speed","repeatCount","secondaryColor","secondaryOpacity","target","i","arguments","source","prototype","hasOwnProperty","call","ContentLoader","cx","cy","r","rx","ry","InitialComponent","mergedProps","ObserverWhen","test","renderSuccess","renderFailure","CustomerIdentity","customer","lastName","firstName","defaultPhone","phone","OrderTickerStyled","modules","color_default","turquoise","alpha","string","OrderTickerMainContentStyled","DeliveryTimeBadgeContainerStyled","AddressDisplayContainerStyled","CustomerIdentityContainerStyled","PriceContainerStyled","PaidMarkStyled","PaidTextStyled","ToBranchContainerStyled","Card","OrderTicker","showBranch","CANCEL","formats","address","totalSum","isPaidWithCard","_lingui_react","ContactLines","phones","emails","renderContact","contact","description","isMail","href","replace","renderClickableLink","email","CurrentNoteStyled","span","PreviousNoteStyled","NoteLine","note","previousNote","OrderCountLine","total","OrderWareLineWrap","CodeContainerStyled","NameContainerStyled","OrderWareLine_PriceContainerStyled","OrderWareLine","code","OrderCartTotalsContainer","OrderDetailTotals","transportFee","coverPrice","totalDiscount","OrderRuleLines","rules","join","OrderStats","stats","driver","OrderTimeLine_LabelStyled","labelMap","OrderTimeLine","orderTiming","timing","OrderWareList","orderWares","orderWare","recipe","nameLabel","sidedishes","sidedish","QueryOrderDetail","OrderStateDeliver_graphql","stateLabels","ACCEPTED","OrderStateButton","orderId","nextState","stateModel","TouchButton","text","updateOrderState","DriverName","backgroundColor","background","ButtonHeight","borderWidth","borderRadius","Button","valueContainer","singleValue","fontSize","OrderDriverSelect","drivers","selectedDriver","onSelect","onClear","onReload","isSearchable","noOptionsMessage","onMenuOpen","ValueContainer","Icon","react_select_esm","DropdownIndicator","OrderStateDeliver","branchId","orderDriver","refetch","removeDriver","selectDriver","deliverOrder","OrderStateFlowContainerWrapper","Control","OrderStateFlowContainer","child","minutesOption","MinutesContainer","MinutesItem","OrderStateTimeNotification_OrderStateTimeNotification","dialogOpen","openDialog","closeDialog","core_index_es","open","onClose","sendTimeNotification","QueryOrderState","OrderStateNewOrder","OrderStateAcceptedOrder","canDeliver","OrderStateOnWayOrder","OrderStateFlow","observe","allowedCategories","sentry","verror","deliveryType","enum","PICKUP","stateProps","OrderDetailContainerStyled","OrderDetail","allAppliedRules","customerOrdersCountCurrent","customerOrdersCountTotal","OrderBox","OrderBoxStyled","listModel","toggleOrderDetail","isOrderDetailOpen","ClosureHistoryQuery","ClosureHistoryLoader_useExecutableQuery","ClosureHistoryLoader","statistics","es","onSubmit","closureBranch","dateFrom","dateTo","updateFilter","Provider","ClosureHistoryTable","useClosureHistory","Loading","financialReports","report","reportSequence","reportDatetime","ClosureCurrentButton","react_router_dom","ButtonToRight","ClosureStatisticsFilter","showCurrent","setClosureBranch","StatisticsDateRangeFilter","submitButton","0","ClosureHistoryPage","FullPageLayout","pageTitle","useBackButton","backRoute","MonospaceOutputStyled","p","MonospaceOutput","output","RegExp","formatOutput","FinancialReport","QueryFinancialReport","ClosureStatisticsContent","reportId","showReport","lastReport","plainData","ClosureHistoryButton","ClosureSubmitButton","ClosureStatisticsControl_ButtonToRight","ClosureStatisticsControl","history","createClosure","ClosureStatisticsControl_graphql","companyBranchId","ClosurePage","match","params","StatisticsBranchFilter","setBranchFilter","clearBranchFilter","DailyStatisticsQuery","DailyStatisticsLoader_useExecutableQuery","DailyStatisticsLoader","DailyStatisticsContent","useDailyStatistics","dailyStatisticsPlain","categoryStatisticsPlain","deliveryStatisticsPlain","driversStatisticsPlain","DailyStatisticsPage","OrdersStatisticsQuery","OrdersStatisticsLoader_useExecutableQuery","useOrderStatistics","OrdersStatisticsLoader","OrdersStatisticsList","orderModel","logger","react_content_loader_es","finishedOrders","StatPanel","StatLabel","h1","StatValue","OrdersStatisticsSummary","currency","onlinePayments","ordersCount","fees","OrdersStatisticsPage","PageLayout","layouts","w","h","showSoundControl","scrollPageTitle","ClosureButton","DailyStatisticsButton","OrdersStatisticsButton","OverviewPage","OverviewRoutes","PageTitle","react_router","SecureRoute","exact","path","NotFoundPage"],"mappings":"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","file":"static/js/52.4ba6d4e0.chunk.js","sourcesContent":["import { SvgIconProps } from '@material-ui/core/SvgIcon'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { Colors, Spacing } from '../styling'\nimport { Icon } from './Icon'\n\ninterface IProps {\n  icon?: string | React.ComponentType<SvgIconProps>\n  label?: string\n  labelWidth?: number\n  labelWidthUnits?: string\n  labelMargin?: string\n  className?: string\n}\n\nconst getLabelWidth = ({\n  labelWidth = 0,\n  labelWidthUnits = Spacing.DefaultSizeUnit,\n}: IProps) => {\n  return labelWidth + labelWidthUnits\n}\n\nconst getLabelMargin = ({ labelMargin = '0.5rem 0.2rem 0 auto' }: IProps) => {\n  return labelMargin\n}\n\nconst IconLineWrap = styled.div`\n  display: flex;\n`\nIconLineWrap.displayName = 'IconLineWrap'\n\nconst DescriptionContainer = styled.div`\n  margin: ${getLabelMargin};\n  min-width: ${getLabelWidth};\n  flex: 0 1 auto;\n  text-align: right;\n`\n\nconst IconLineChildren = styled.div`\n  margin-left: 0.5rem;\n  align-self: stretch;\n  flex: 1 0 auto;\n`\nconst LabelStyled = styled.div`\n  padding-top: 0.2rem;\n  display: inline-block;\n`\n\nIconLineChildren.displayName = 'IconLineChildren'\n\nexport const IconLine: React.SFC<IProps> = ({\n  icon,\n  label,\n  labelWidth,\n  labelWidthUnits,\n  labelMargin,\n  children,\n  ...props\n}) => {\n  let iconComponent\n  if (icon) {\n    if (typeof icon === 'string') {\n      iconComponent = <Icon iconName={icon} color={Colors.greyDark} />\n    } else {\n      iconComponent = React.createElement(icon, {\n        nativeColor: Colors.greyDark,\n      })\n    }\n  }\n\n  return (\n    <IconLineWrap {...props}>\n      <DescriptionContainer\n        labelWidth={labelWidth}\n        labelWidthUnits={labelWidthUnits}\n        labelMargin={labelMargin}\n      >\n        {iconComponent}\n        {label ? <LabelStyled>{label}</LabelStyled> : null}\n      </DescriptionContainer>\n      <IconLineChildren>{children}</IconLineChildren>\n    </IconLineWrap>\n  )\n}\n","import React from 'react'\n\nimport { NoAccess } from './NoAccess'\nimport { useRoot } from './RootProvider'\n\ninterface IProps {\n  mutationName: string\n}\n\nexport const CanMutate: React.SFC<IProps> = ({ mutationName, children }) => {\n  const { user } = useRoot()\n  return user.canMutate(mutationName) ? (\n    <>{children}</>\n  ) : (\n    <NoAccess>{`No access to mutation ${mutationName}`}</NoAccess>\n  )\n}\n","import styled from 'styled-components'\n\nimport { Colors } from '../styling'\n\ninterface IHeadlineProps {\n  margin?: string\n  size?: 'smaller'\n  light?: boolean\n}\n\nconst getMargin = ({ margin = '0 0.5rem 0 0.5rem' }: IHeadlineProps) => margin\n\nconst getFontSize = ({ size }: IHeadlineProps) => size === 'smaller' && '1rem'\n\nconst getColor = ({ light = false }: IHeadlineProps) =>\n  light ? Colors.greyLight : Colors.greyDarkest\n\nexport const Headline = styled.h2`\n  color: ${getColor};\n  font-weight: lighter;\n  margin: ${getMargin};\n  font-size: ${getFontSize};\n`\n","import React from 'react'\nimport Select from 'react-select'\nimport { Props } from 'react-select/lib/Select'\nimport { StylesConfig } from 'react-select/lib/styles'\n\nimport { Colors, Spacing } from '../styling'\n\nexport interface ISelectControlProps<OptionType = {}>\n  extends Props<OptionType> {\n  width?: number\n  minWidth?: number\n}\n\nexport const composeSelectControlStyles = (outerStyles: StylesConfig = {}) => ({\n  ...outerStyles,\n  control: (base, state) => {\n    const {\n      selectProps: { width, minWidth },\n    } = state\n    const controlStyles = {\n      ...base,\n      border: `1px solid ${Colors.greyMiddle}`,\n      margin: Spacing.MarginAroundFormComponents,\n      width: width !== undefined ? `${width}rem` : '100%',\n      minWidth: minWidth !== undefined ? `${minWidth}rem` : '8rem',\n    }\n    return outerStyles.control\n      ? outerStyles.control(controlStyles, state)\n      : controlStyles\n  },\n  menu: (base, state) => {\n    const {\n      selectProps: { width },\n    } = state\n    const menuStyles = {\n      ...base,\n      zIndex: 20,\n      color: Colors.black,\n      width: width !== undefined ? `${width}rem` : '100%',\n    }\n    return outerStyles.menu ? outerStyles.menu(menuStyles, state) : menuStyles\n  },\n})\n\nexport function SelectControl<OptionType>(\n  props: ISelectControlProps<OptionType>,\n) {\n  return <Select {...props} styles={composeSelectControlStyles(props.styles)} />\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { ScrollArea } from '../atoms/ScrollArea'\nimport { Spacing } from '../styling'\n\ninterface IPageLayoutFullHeightItemProps {\n  row?: number\n  column?: number\n  widthInColumns?: number\n  withScrollArea?: boolean\n  scrollAreaId?: string\n}\n\nconst gridColumnWidth: string = '6.22vw'\nconst gridColumnHeigth: string = '3.9375rem'\n\nconst leftPos = () => (props: IPageLayoutFullHeightItemProps) => {\n  if (props.column !== undefined) {\n    return (\n      'calc((' +\n      props.column +\n      ' * ' +\n      gridColumnWidth +\n      ') + ' +\n      Spacing.LayoutGridCellMargin +\n      ')'\n    )\n  } else {\n    return Spacing.LayoutGridCellMargin\n  }\n}\nconst widthComputed = () => (props: IPageLayoutFullHeightItemProps) => {\n  if (props.widthInColumns !== undefined) {\n    return (\n      'calc((' +\n      props.widthInColumns +\n      ' * ' +\n      gridColumnWidth +\n      ') - ' +\n      Spacing.LayoutGridCellMargin +\n      ')'\n    )\n  } else {\n    return 'calc(100vh - (2 * ' + Spacing.LayoutGridCellMargin + '))'\n  }\n}\nconst topPos = () => (props: IPageLayoutFullHeightItemProps) => {\n  if (props.row !== undefined) {\n    return (\n      'calc((' +\n      props.row +\n      ' * ' +\n      gridColumnHeigth +\n      ') + ' +\n      Spacing.LayoutGridCellMargin +\n      ')'\n    )\n  } else {\n    return (\n      'calc(' + gridColumnHeigth + ' + ' + Spacing.LayoutGridCellMargin + ')'\n    )\n  }\n}\n\nconst FullHeightDiv = styled.div`\n  position: fixed;\n  bottom: 0.5rem;\n  width: ${widthComputed()};\n  left: ${leftPos()};\n  top: ${topPos()};\n`\n\nconst FullHeightDivStyled = styled.div`\n  height: 100%;\n`\n\nexport const PageLayoutFullHeightItem: React.SFC<\n  IPageLayoutFullHeightItemProps\n> = ({\n  children,\n  row = 1,\n  column = 0,\n  widthInColumns = 16,\n  withScrollArea = false,\n  scrollAreaId,\n}) => (\n  <FullHeightDiv\n    column={column}\n    row={row}\n    widthInColumns={widthInColumns}\n    withScrollArea={withScrollArea}\n  >\n    {withScrollArea ? (\n      <ScrollArea id={scrollAreaId}>{children}</ScrollArea>\n    ) : (\n      <FullHeightDivStyled>{children}</FullHeightDivStyled>\n    )}\n  </FullHeightDiv>\n)\n","import { Tooltip } from '@material-ui/core'\nimport { PanTool } from '@material-ui/icons'\nimport React from 'react'\n\ninterface IProps {\n  children: string\n}\n\nexport const NoAccess: React.SFC<IProps> = ({ children }) =>\n  process.env.REACT_APP_STAGE !== 'prod' ? (\n    <Tooltip title={children}>\n      <PanTool />\n    </Tooltip>\n  ) : null\n","import React from 'react'\n\nimport { NoAccess } from './NoAccess'\nimport { useRoot } from './RootProvider'\n\ninterface IProps {\n  queryName: string\n}\n\nexport const CanQuery: React.SFC<IProps> = ({ queryName, children }) => {\n  const { user } = useRoot()\n  return user.canQuery(queryName) ? (\n    <>{children}</>\n  ) : (\n    <NoAccess>{`No access to query ${queryName}`}</NoAccess>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Colors } from '../styling'\n\ninterface IProps {\n  visible?: boolean\n}\n\nconst HorizontalSeparatorStyled = styled.div`\n  border-top: 1px solid ${Colors.greyLight};\n  margin: 0.25rem 0rem;\n`\n\nexport const HorizontalSeparator: React.SFC<IProps> = ({ visible = true }) =>\n  visible ? <HorizontalSeparatorStyled /> : null\n","import styled from 'styled-components'\n\nexport const FlexRowSingle = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: ${({ justify = 'space-between' }: { justify?: string }) =>\n    justify};\n`\n","import { useContext } from 'react'\nimport * as Router from 'react-router'\n\nexport default function useRouterContext<\n  Params extends { [K in keyof Params]?: string } = {}\n>(): Router.RouteComponentProps<Params> {\n  // @ts-ignore\n  return useContext(Router.__RouterContext)\n}\n\n// export default function useRouter<\n// Params extends { [K in keyof Params]?: string } = {}\n// >(): Router.RouteComponentProps<Params> {\n//   // @ts-ignore\n//   let context = useContext(Router.__RouterContext);\n//   let location = options.location || context.location;\n//   let match = options.path\n//     ? matchPath(location.pathname, options)\n//     : context.match;\n\n//   return { ...context, location, match };\n\n// }\n\n// export default function useRouter(options = {}) {\n//   invariant(\n//     typeof useContext === \"function\",\n//     \"The useRouter hook requires React 16.7 or greater\"\n//   );\n\n//   let context = useContext(RouterContext);\n//   let location = options.location || context.location;\n//   let match = options.path\n//     ? matchPath(location.pathname, options)\n//     : context.match;\n\n//   return { ...context, location, match };\n// }\n","import styled from 'styled-components'\n\nexport const ScrollArea = styled.div`\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n  height: 100%;\n`\n","import React from 'react'\n\nimport { formatPrice } from '../helpers/formats'\n\ninterface IPriceProps {\n  price: number\n  currencyCode?: string\n}\n\nexport const Price: React.SFC<IPriceProps> = ({ price, currencyCode }) => (\n  <span>\n    {currencyCode\n      ? `${formatPrice(price)} ${currencyCode}`\n      : formatPrice(price)}\n  </span>\n)\n","import { Trans } from '@lingui/react'\nimport React from 'react'\nimport styled, { css } from 'styled-components'\n\nimport { RM } from '../helpers/ramda'\n\nexport interface ISelectControlFlatProps<ItemType = unknown> {\n  items: ReadonlyArray<ItemType>\n  selectedItem?: Maybe<ItemType>\n  onSingleSelection?(selected: Maybe<ItemType>): void\n  selectedItems?: ReadonlyArray<ItemType>\n  onMultiSelection?(selected: ReadonlyArray<ItemType>): void\n  formatItem?: (item: ItemType) => string | ReactNode\n  isMulti?: boolean\n  isClearable?: boolean\n  isInvalid?: boolean\n  textColor?: string\n}\n\ninterface IItemProps {\n  isSelected: boolean\n  textColor: string\n  onClick(): void\n}\n\nconst ItemStyled = styled.div`\n  margin: 0.5rem 0.6rem;\n  display: inline-block;\n  cursor: pointer;\n  color: ${({ textColor }: IItemProps) => textColor};\n  ${applySelectionStyle};\n`\n\nconst SelectorStyled = styled.div`\n  border: ${({ isInvalid }: { isInvalid: boolean }) =>\n    isInvalid === true ? '1px red solid' : 'auto'};\n`\n\nexport class SelectControlFlat<\n  ItemType = { id: ID; displayName: string }\n> extends React.Component<ISelectControlFlatProps<ItemType>> {\n  static defaultProps = {\n    formatItem: RM.prop('displayName'),\n    getItemValue: RM.prop('id'),\n  }\n  hasSelection() {\n    const { isMulti, selectedItem, selectedItems } = this.props\n    if (isMulti) {\n      return Array.isArray(selectedItems) && selectedItems.length > 0\n    }\n    return selectedItem != null\n  }\n  isItemSelected(item: ItemType) {\n    const { isMulti, selectedItem, selectedItems } = this.props\n    if (isMulti && Array.isArray(selectedItems)) {\n      return RM.contains(item, selectedItems)\n    }\n    return RM.equals(selectedItem, item)\n  }\n  updateSelection(item: Maybe<ItemType>) {\n    const {\n      isMulti,\n      selectedItems = [],\n      onSingleSelection,\n      onMultiSelection,\n    } = this.props\n    if (item === null) {\n      if (isMulti && onMultiSelection) {\n        onMultiSelection([])\n      } else if (onSingleSelection) {\n        onSingleSelection(null)\n      }\n    } else if (isMulti && onMultiSelection) {\n      if (this.isItemSelected(item)) {\n        onMultiSelection(\n          Array.isArray(selectedItems)\n            ? RM.without([item], selectedItems)\n            : [item],\n        )\n      } else {\n        onMultiSelection(\n          Array.isArray(selectedItems) ? RM.concat(selectedItems, [item]) : [],\n        )\n      }\n    } else if (onSingleSelection) {\n      onSingleSelection(item)\n    }\n  }\n  render() {\n    const {\n      items,\n      isClearable,\n      isInvalid = false,\n      textColor = 'inherit',\n      formatItem,\n    } = this.props\n    return (\n      <SelectorStyled isInvalid={isInvalid}>\n        {isClearable && (\n          <ItemStyled\n            isSelected={!this.hasSelection()}\n            textColor={textColor}\n            onClick={() => {\n              this.updateSelection(null)\n            }}\n          >\n            <Trans id=\"optionselector.clear-filter\">All</Trans>\n          </ItemStyled>\n        )}\n        {items.map((item, idx) => {\n          return (\n            <ItemStyled\n              key={idx}\n              isSelected={this.isItemSelected(item)}\n              textColor={textColor}\n              onClick={() => {\n                this.updateSelection(item)\n              }}\n            >\n              {formatItem!(item)}\n            </ItemStyled>\n          )\n        })}\n      </SelectorStyled>\n    )\n  }\n}\n\nfunction applySelectionStyle({ isSelected }: IItemProps) {\n  if (!isSelected) {\n    return ''\n  }\n  return css`\n    font-weight: bolder;\n    text-decoration: underline;\n  `\n}\n","import styled from 'styled-components'\n\ninterface IFlexColumnProps {\n  fixedWidth?: boolean\n  width?: string\n  widthGrowIndex?: number\n  padding?: string\n  margin?: string\n}\n\nexport const FlexColumn = styled.div`\n  flex: ${getFlexValue};\n  padding: ${getPadding};\n  margin: ${getMargin};\n`\n\nfunction getFlexValue({\n  fixedWidth = false,\n  width,\n  widthGrowIndex = 0,\n}: IFlexColumnProps) {\n  return fixedWidth ? (width ? `0 0 ${width}` : '0 0') : `${widthGrowIndex} 0`\n}\n\nfunction getPadding({ padding = '0.25rem' }: IFlexColumnProps) {\n  return padding\n}\n\nfunction getMargin({ margin = '' }: IFlexColumnProps) {\n  return margin\n}\n","import React from 'react'\nimport { FormApi } from 'react-form'\n\nimport { isFormValid } from '../helpers/form'\nimport { ITouchButtonProps, TouchButton } from '../molecules/TouchButton'\nimport { Colors } from '../styling'\n\ninterface IProps extends ITouchButtonProps {}\n\nexport const FormSubmit: React.SFC<IProps> = ({ children, ...props }) => (\n  <FormApi>\n    {form => (\n      <TouchButton\n        color={Colors.green}\n        disabled={!isFormValid(form) || form.submitting}\n        onClick={e => {\n          e.preventDefault()\n          form.submitForm(e)\n        }}\n        {...props}\n      >\n        {children}\n      </TouchButton>\n    )}\n  </FormApi>\n)\n","import { IFormState } from 'react-form'\nimport { isEmpty } from 'validator'\n\nimport { i18n } from '../i18n'\n\nexport function isFormValid(formState: IFormState) {\n  return !formState.errors || Object.keys(formState.errors).length === 0\n}\n\nexport function validateIsRequired(fieldName: string) {\n  return (value: string) =>\n    isEmpty(value + '') ? i18n.t`${fieldName} must be entered` : null\n}\n","import { useEffect, EffectCallback } from 'react'\n\nexport const useEffectOnce = (effect: EffectCallback) => {\n  return useEffect(effect, [])\n}\n","import { SnackbarContextNext } from 'notistack/build/SnackbarContext'\nimport { useCallback, useContext } from 'react'\n\nenum EVariant {\n  default = 'default',\n  error = 'error',\n  success = 'success',\n  warning = 'warning',\n  info = 'info',\n}\n\ninterface IEnqueueOptions {\n  /** Type of the snackbar */\n  variant: EVariant\n  /** Event fired when user clicks on action button (if any) */\n  onClickAction(): void\n  /**\n   * You can pass material-ui Snackbar props here, and they will be applied to this individual snackbar.\n   * for example, this particular snackbar will be dismissed after 1sec.\n   */\n  autoHideDuration: number\n  action: ReactNode[]\n}\n\ninterface IEnqueueSnackbar {\n  (message: string, options?: Partial<IEnqueueOptions>)\n}\n\nconst successVariant = { variant: EVariant.success }\nconst errorVariant = { variant: EVariant.error }\nconst warningVariant = { variant: EVariant.warning }\n\nexport function useSnackBar() {\n  const enqueueSnackbar: IEnqueueSnackbar = useContext(SnackbarContextNext)\n  const enqueueSuccess = useCallback(\n    (errorMessage: string) => enqueueSnackbar(errorMessage, successVariant),\n    [],\n  )\n  const enqueueError = useCallback(\n    (errorMessage: string) => enqueueSnackbar(errorMessage, errorVariant),\n    [],\n  )\n  const enqueueWarning = useCallback(\n    (errorMessage: string) => enqueueSnackbar(errorMessage, warningVariant),\n    [],\n  )\n  return { enqueueSnackbar, enqueueSuccess, enqueueError, enqueueWarning }\n}\n","import styled from 'styled-components'\n\nimport { Colors } from '../styling'\n\nexport const CardListTitle = styled.h2`\n  color: ${Colors.greyLight};\n  font-weight: lighter;\n  font-size: 1.2rem;\n  margin: 0.8rem 0 0.8rem 0.3rem;\n`\n","import React from 'react'\n\nimport { SelectControlFlat } from '../atoms/SelectControlFlat'\nimport { GCompanyBranch } from '../graph/types'\nimport { ICompanyBranchPickerImpl } from '../organisms/CompanyBranchPicker'\nimport { Colors } from '../styling'\n\nexport const CompanyBranchFlatSelect: React.SFC<ICompanyBranchPickerImpl> = ({\n  branches,\n  selectedBranch,\n  selectedBranches,\n  textColor = Colors.black,\n  ...props\n}) => (\n  <SelectControlFlat<GCompanyBranch.Fragment>\n    items={branches}\n    selectedItem={selectedBranch}\n    selectedItems={selectedBranches}\n    textColor={textColor}\n    formatItem={item => <span title={item.brand.name}>{item.name}</span>}\n    {...props}\n  />\n)\n","import { observer } from 'mobx-react-lite'\n\nimport { useRoot } from '../atoms/RootProvider'\nimport { GCompanyBranch } from '../graph/types'\n\ninterface IProps {\n  render(branches: GCompanyBranch.Fragment[], isLoading: boolean): ReactNode\n}\n\nexport const UserCompanyBranches = observer<IProps>(({ render }) => {\n  const { user } = useRoot()\n  return user.branches ? render(user.branches, false) : render([], true)\n})\n","import React from 'react'\n\nimport { GCompanyBranch } from '../graph/types'\nimport { RM } from '../helpers/ramda'\nimport {\n  CompanyBranchDropdown,\n  ICompanyBranchDropdownProps,\n} from '../molecules/CompanyBranchDropdown'\nimport { CompanyBranchFlatSelect } from '../molecules/CompanyBranchFlatSelect'\nimport { UserCompanyBranches } from '../organisms/UserCompanyBranches'\n\ntype TBranch = GCompanyBranch.Fragment\n\ninterface ICompanyBranchPickerProps {\n  selectedBranches?: ID[]\n  onSelectionChange?(branchIds: ID[], branches: TBranch[]): void\n  onSelectionClear?(): void\n  breakpoint?: number\n  isMulti?: boolean\n  isClearable?: boolean\n  textColor?: string\n  getDropdownProps?(): Partial<ICompanyBranchDropdownProps>\n}\n\nexport interface ICompanyBranchPickerImpl {\n  branches: TBranch[]\n  isMulti?: boolean\n  isClearable?: boolean\n  isLoading?: boolean\n  selectedBranch?: Maybe<TBranch>\n  onSingleSelection?(branch: Maybe<TBranch>): void\n  selectedBranches?: TBranch[]\n  onMultiSelection?(branches: TBranch[]): void\n  textColor?: string\n}\n\nexport const CompanyBranchPicker: React.SFC<ICompanyBranchPickerProps> = ({\n  breakpoint = 3,\n  selectedBranches = [],\n  isMulti = false,\n  isClearable = true,\n  textColor,\n  onSelectionChange,\n  onSelectionClear,\n  getDropdownProps = () => ({}),\n}) => (\n  <UserCompanyBranches\n    render={(branches, isLoading) => {\n      const isSelected = branch => selectedBranches.includes(branch.id)\n      const props: ICompanyBranchPickerImpl = {\n        textColor,\n        isClearable,\n        isMulti,\n        isLoading,\n        branches,\n        selectedBranch: isLoading ? null : branches.find(isSelected),\n        selectedBranches: isLoading ? [] : branches.filter(isSelected),\n        onSingleSelection(selected: TBranch) {\n          if (selected === null && onSelectionClear) {\n            onSelectionClear()\n          } else if (selected !== null && onSelectionChange) {\n            onSelectionChange([selected.id], [selected])\n          }\n        },\n        onMultiSelection(selected: TBranch[]) {\n          if (selected.length === 0 && onSelectionClear) {\n            onSelectionClear()\n          } else if (selected.length && onSelectionChange) {\n            onSelectionChange(selected.map(RM.prop('id')), selected)\n          }\n        },\n      }\n      if (branches.length < breakpoint) {\n        return <CompanyBranchFlatSelect {...props} />\n      }\n      return <CompanyBranchDropdown {...props} {...getDropdownProps()} />\n    }}\n  />\n)\n","import { ApolloError } from 'apollo-client'\nimport { isApolloError } from 'apollo-client/errors/ApolloError'\nimport { getOperationName } from 'apollo-utilities'\nimport { DocumentNode, GraphQLError } from 'graphql'\nimport { runInAction } from 'mobx'\nimport { useObservable } from 'mobx-react-lite'\nimport { createContext } from 'react'\n\nimport { useApolloClient } from '../atoms/RootProvider'\nimport { reportError, reportFailingQuery } from '../helpers/sentry'\n\nexport interface IQueryResult<TData> {\n  data: Maybe<TData>\n  loading: boolean\n  errors?: GraphQLError[]\n  error?: ApolloError\n  hasAnyError: boolean\n}\n\nexport function createExecutableQuery<TData, TVariables>(query: DocumentNode) {\n  const context = createContext<IQueryResult<TData> | null>(null)\n\n  function useExecutableQuery() {\n    const client = useApolloClient()\n    const result: IQueryResult<TData> = useObservable({\n      data: null,\n      loading: false,\n      get hasAnyError() {\n        return Boolean((result.errors && result.errors.length) || result.error)\n      },\n    })\n    const execute = async (variables: TVariables) => {\n      result.loading = true\n      try {\n        const queryResult = await client.query<TData, TVariables>({\n          query,\n          variables,\n        })\n        runInAction(() => {\n          result.data = queryResult.data\n          result.errors = queryResult.errors\n          result.loading = false\n        })\n      } catch (err) {\n        if (isApolloError(err)) {\n          runInAction(() => {\n            result.error = err\n            result.errors = err.graphQLErrors\n            result.loading = false\n          })\n        } else {\n          runInAction(() => {\n            result.error = err\n            result.loading = false\n          })\n          reportError(err)\n        }\n      }\n      if (result.errors) {\n        reportFailingQuery(result.errors, {\n          query: getOperationName(query),\n          variables,\n        })\n      }\n      return result\n    }\n    return { result, execute }\n  }\n\n  useExecutableQuery.context = context\n\n  return useExecutableQuery\n}\n","import styled from 'styled-components'\n\ntype TCursor = 'pointer' | 'arrow' | 'default'\n\nexport const CursorContainer = styled.div`\n  cursor: ${({ cursor = 'default' }: { cursor?: TCursor }) => cursor};\n`\n","import React from 'react'\n\nimport { CursorContainer } from '../atoms/CursorContainer'\nimport { GCompanyBranch } from '../graph/types'\n\ninterface ICompanyBranchProps {\n  branch: GCompanyBranch.Fragment\n  onClick?: () => void\n  short?: boolean\n  showBrand?: boolean\n}\n\nexport const CompanyBranch: React.SFC<ICompanyBranchProps> = ({\n  branch,\n  onClick,\n  short = false,\n  showBrand = true,\n}) => (\n  <CursorContainer cursor=\"pointer\" onClick={onClick}>\n    {short ? (\n      branch.name.substr(0, 8)\n    ) : (\n      <>\n        <span>{branch.name}</span>\n        {showBrand && <span>{` [${branch.brand.name}]`}</span>}\n      </>\n    )}\n  </CursorContainer>\n)\n","import { Trans } from '@lingui/react'\nimport React from 'react'\nimport { Props } from 'react-select/lib/Select'\n\nimport { CompanyBranch } from '../atoms/CompanyBranch'\nimport { ISelectControlProps, SelectControl } from '../atoms/SelectControl'\nimport { GCompanyBranch } from '../graph/types'\nimport { RM } from '../helpers/ramda'\nimport { i18n } from '../i18n'\nimport { ICompanyBranchPickerImpl } from '../organisms/CompanyBranchPicker'\n\ninterface IProps\n  extends ICompanyBranchPickerImpl,\n    Props<GCompanyBranch.Fragment> {}\n\nexport interface ICompanyBranchDropdownProps\n  extends Pick<ISelectControlProps, 'placeholder'> {}\n\nconst ClearIndicator = props => {\n  const {\n    getStyles,\n    innerProps: { ref, ...restInnerProps },\n  } = props\n  return (\n    <div\n      {...restInnerProps}\n      ref={ref}\n      style={getStyles('clearIndicator', props)}\n    >\n      <div style={{ padding: '0px 5px' }}>\n        <Trans>All</Trans>\n      </div>\n    </div>\n  )\n}\n\nexport const CompanyBranchDropdown: React.SFC<IProps> = ({\n  branches,\n  selectedBranch,\n  onSingleSelection,\n  selectedBranches,\n  onMultiSelection,\n  ...props\n}) => (\n  <SelectControl<GCompanyBranch.Fragment>\n    value={props.isMulti ? selectedBranches : selectedBranch}\n    placeholder={\n      props.isMulti ? i18n.t`Filter branches...` : i18n.t`Select a branch`\n    }\n    options={branches}\n    getOptionValue={RM.prop('id')}\n    formatOptionLabel={branch => <CompanyBranch branch={branch} />}\n    filterOption={(branch, rawInput) =>\n      branch.data.name\n        .toLocaleLowerCase()\n        .includes(rawInput.toLocaleLowerCase())\n    }\n    closeMenuOnSelect={!props.isMulti}\n    components={{\n      ClearIndicator,\n    }}\n    styles={{\n      clearIndicator: base => ({\n        ...base,\n        cursor: 'pointer',\n      }),\n    }}\n    onChange={selection => {\n      if (props.isMulti && onMultiSelection && Array.isArray(selection)) {\n        onMultiSelection(selection)\n      }\n      if (!props.isMulti && onSingleSelection) {\n        if (Array.isArray(selection)) {\n          onSingleSelection(RM.head(selection) || null)\n        } else {\n          onSingleSelection(selection || null)\n        }\n      }\n    }}\n    {...props}\n  />\n)\n","import gql from 'graphql-tag'\n\nimport { GeoPointFragment } from '../../../graph/fragments'\n\nexport const OrderMapMarkerFragment = gql`\n  fragment GOrderMapMarker on Order {\n    id\n    deliverAt\n    gps {\n      ...GGeoPoint\n    }\n  }\n  ${GeoPointFragment}\n`\n","import gql from 'graphql-tag'\n\nimport { buildQuery } from '../../../graph/buildQuery'\nimport { buildSubscription } from '../../../graph/buildSubscription'\nimport { GOrderList, SOrderList } from '../../../graph/types'\nimport { OrderStateCategoryFragment } from '../models/OrderStateModel.graphql'\nimport { OrderMapMarkerFragment } from '../molecules/OrderMapMarker.graphql'\nimport { OrderTickerFragment } from '../molecules/OrderTicker.graphql'\n\nconst OrderListQuery = gql`\n  query GOrderList(\n    $branches: [ID!]\n    $categories: [OrderStateCategoryEnum!]\n    $includeOldFinished: Boolean\n  ) {\n    orders(\n      order: {\n        companyBranches: $branches\n        orderStateCategoriesOR: $categories\n        includeOldFinished: $includeOldFinished\n      }\n    ) {\n      id\n      ...GOrderStateCategory\n      ...GOrderListTicker\n      ...GOrderMapMarker\n    }\n    orderStateCategories {\n      code\n      enum\n    }\n  }\n\n  ${OrderStateCategoryFragment}\n  ${OrderMapMarkerFragment}\n  ${OrderTickerFragment}\n`\n\nconst OrderListSubscription = gql`\n  subscription SOrderList(\n    $branches: [ID!]\n    $categories: [OrderStateCategoryEnum!]\n  ) {\n    updatedOrder(\n      companyBranches: $branches\n      orderStateCategoriesOR: $categories\n    ) {\n      order {\n        id\n        ...GOrderStateCategory\n        ...GOrderListTicker\n        ...GOrderMapMarker\n      }\n    }\n  }\n  ${OrderStateCategoryFragment}\n  ${OrderMapMarkerFragment}\n  ${OrderTickerFragment}\n`\n\nexport const QueryOrderList = buildQuery<\n  GOrderList.Query,\n  GOrderList.Variables\n>(OrderListQuery)\n\nexport const SubscribeOrderList = buildSubscription<\n  SOrderList.Subscription,\n  SOrderList.Variables,\n  GOrderList.Query\n>(OrderListSubscription)\n","import { differenceInHours } from 'date-fns'\nimport React from 'react'\n\nimport { WithRoot } from '../../../atoms/WithRoot'\nimport {\n  GOrderList,\n  OrderStateCategoryEnum,\n  SOrderList,\n} from '../../../graph/types'\nimport { RM } from '../../../helpers/ramda'\nimport { QueryOrderList, SubscribeOrderList } from './OrderListLoader.graphql'\n\nconst knownCategories = [\n  OrderStateCategoryEnum.NEW_ORDERS,\n  OrderStateCategoryEnum.PREPARING,\n  OrderStateCategoryEnum.READY_TO_DELIVER,\n  OrderStateCategoryEnum.ON_WAY,\n  OrderStateCategoryEnum.FINISHED,\n]\n\nexport type TOrder = GOrderList.Orders\n\nexport type TCategorizedOrders = { [state in OrderStateCategoryEnum]: TOrder[] }\n\nexport interface ILoaderProps {\n  isLoading: boolean\n  noFilter: boolean\n  orders?: TOrder[]\n  categorizedOrders?: TCategorizedOrders\n  categories?: GOrderList.OrderStateCategories[]\n}\n\ninterface IProps {\n  children(props: ILoaderProps): ReactNode\n  includeOldFinished?: boolean\n}\n\nexport const OrderListLoader: React.SFC<IProps> = ({\n  children,\n  includeOldFinished = false,\n}) => (\n  <WithRoot\n    render={root => {\n      if (!root.order.list.hasBranchFilter) {\n        return children({ isLoading: false, noFilter: true })\n      }\n      const variables: GOrderList.Variables = {\n        branches: root.order.list.branchesFilter,\n        categories: knownCategories,\n        includeOldFinished,\n      }\n      return (\n        <QueryOrderList\n          fetchPolicy=\"cache-and-network\"\n          refetchOnConnectionLost={true}\n          variables={variables}\n          renderLoading={false}\n          render={(\n            { orders = [], orderStateCategories: categories = [] },\n            result,\n          ) => {\n            return (\n              <SubscribeOrderList\n                queryResult={result}\n                variables={variables}\n                handleUpdate={handleSubscriptionUpdate}\n              >\n                {children({\n                  isLoading: result.loading,\n                  noFilter: false,\n                  orders,\n                  categorizedOrders: categorizeOrders(orders),\n                  categories,\n                })}\n              </SubscribeOrderList>\n            )\n          }}\n        />\n      )\n    }}\n  />\n)\n\nexport function getOrderState(order: {\n  orderStateCategory: OrderStateCategoryEnum\n}) {\n  return order.orderStateCategory\n}\n\nfunction categorizeOrders(orders: TOrder[]) {\n  return orders.reduce(\n    (result, order) => {\n      const category = getOrderState(order)\n      if (!result[category]) {\n        result[category] = [order]\n      } else {\n        result[category].push(order)\n      }\n      return result\n    },\n    {} as TCategorizedOrders,\n  )\n}\n\nfunction handleSubscriptionUpdate(\n  update: SOrderList.Subscription,\n  prev: GOrderList.Query,\n) {\n  const { order } = update.updatedOrder\n  if (!order) {\n    return prev\n  }\n  let orderExists = false\n  const orders = RM.reject(isOldFinishedOrder, prev.orders).map(o => {\n    if (o.id === order.id) {\n      orderExists = true\n      return order\n    }\n    return o\n  })\n  if (!orderExists) {\n    orders.unshift(order)\n  }\n  return { ...prev, orders }\n}\n\nfunction isOldFinishedOrder(order: GOrderList.Orders) {\n  return (\n    order.orderStateCategory === OrderStateCategoryEnum.FINISHED &&\n    differenceInHours(new Date(), order.createdAt) >\n      order.companyBranch.oldOrderThreshold\n  )\n}\n","import { DocumentNode } from 'graphql'\nimport { QueryResult } from 'react-apollo'\n\nimport { useEffectOnce } from '../hooks/useEffectOnce'\n\nexport function buildSubscription<TSubscription, TVariables, TQuery = {}>(\n  subscription: DocumentNode,\n) {\n  type TResult = QueryResult<TQuery, TVariables>\n  interface IProps {\n    children: ReactNode\n    queryResult: TResult\n    variables: TVariables\n    handleUpdate(updatedData: TSubscription, prevData: TQuery): TQuery | void\n  }\n  function GSubscription(props: IProps) {\n    useEffectOnce(() => {\n      const { queryResult, variables, handleUpdate } = props\n      return queryResult.subscribeToMore({\n        document: subscription,\n        variables,\n        updateQuery: (prev, { subscriptionData }) => {\n          if (!(subscriptionData && subscriptionData.data)) {\n            return prev\n          }\n          // @ts-ignore Bad typing of updateQuery using TQuery\n          return handleUpdate(subscriptionData.data, prev) || prev\n        },\n      })\n    })\n    return props.children\n  }\n  return GSubscription\n}\n","import React, { createElement, HTMLAttributes } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { CanMutate } from '../atoms/CanMutate'\nimport { CanQuery } from '../atoms/CanQuery'\n\ninterface IPageLayoutItemProps extends HTMLAttributes<HTMLElement> {\n  route?: string\n  component: React.ComponentType\n  canQuery?: string\n  canMutate?: string\n}\n\nexport const PageLayoutItem: React.SFC<IPageLayoutItemProps> = ({\n  route,\n  component,\n  canQuery,\n  canMutate,\n  ...props\n}) => {\n  let layoutItem = route ? (\n    <Link to={route}>{createElement(component)}</Link>\n  ) : (\n    createElement(component)\n  )\n\n  if (canQuery) {\n    layoutItem = <CanQuery queryName={canQuery}>{layoutItem}</CanQuery>\n  }\n  if (canMutate) {\n    layoutItem = <CanMutate mutationName={canMutate}>{layoutItem}</CanMutate>\n  }\n  return <div {...props}>{layoutItem}</div>\n}\n","import styled from 'styled-components'\n\nexport const LinkStyled = styled.a`\n  color: inherit;\n  text-decoration-color: rgba(0, 0, 0, 0.08);\n  &:hover {\n    text-decoration-color: rgba(0, 0, 0, 0.5);\n  }\n  &:visited {\n    text-decoration-color: rgba(0, 0, 0, 0.08);\n  }\n`\n","import { LocationDescriptor } from 'history'\nimport React from 'react'\nimport { Link, LinkProps, Route } from 'react-router-dom'\nimport resolvePathname from 'resolve-pathname'\n\ninterface IRelativeLinkProps extends LinkProps {\n  to: LocationDescriptor\n  from?: string\n}\n\nexport const RelativeLink: React.SFC<IRelativeLinkProps> = ({\n  to,\n  from,\n  ...linkProps\n}) => (\n  <Route\n    children={({ location }) => (\n      <Link\n        to={resolveLocation(to, from || `${location.pathname}/`)}\n        {...linkProps}\n      />\n    )}\n  />\n)\n\nexport function resolveLocation(to: LocationDescriptor, from: string) {\n  if (typeof to === 'string') {\n    return resolvePathname(to, from)\n  }\n  const resolved = resolvePathname(to.pathname || '', from)\n  return { ...to, pathname: resolved }\n}\n","import gql from 'graphql-tag'\n\nimport { AddressFragment, CustomerFragment } from '../../../graph/fragments'\n\nexport const OrderTickerFragment = gql`\n  fragment GOrderListTicker on Order {\n    id\n    createdAt\n    isPaidWithCard\n    deliverAt\n    deliverAtWorst\n    deliveredAt\n    companyBranch {\n      id\n      name\n      oldOrderThreshold\n    }\n    address {\n      ...GAddress\n    }\n    customer {\n      ...GCustomer\n    }\n    totalSum {\n      value\n    }\n  }\n  ${AddressFragment}\n  ${CustomerFragment}\n`\n","import moment from 'moment'\n\nconst cs = require('moment/locale/cs')\n\nmoment.updateLocale('cs', cs)\n\nexport default moment\n","import { CancelOutlined } from '@material-ui/icons'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { Colors } from '../styling'\n\ninterface ITimeBadgeProps {\n  minutes?: number\n  onClick?(): void\n  isFinished?: boolean\n  isCancelled?: boolean\n}\n\nconst TimeBadgeStyled = styled.div`\n  min-width: 1.5rem;\n  min-height: 1.5rem;\n  padding: 0.3rem;\n  border: 1px solid white;\n  border-radius: 4rem;\n  color: ${Colors.white};\n  background: ${Colors.greyMiddle};\n  text-align: center;\n  font-size: 1rem;\n  margin: 0;\n  vertical-align: middle;\n  font-family: 'Open Sans', sans-serif;\n`\n\nconst TimeBadgeUnknown = styled(TimeBadgeStyled)`\n  background: ${Colors.greyMiddle};\n  color: ${Colors.greyDarkest};\n`\nconst TimeBadgeInProgress = styled(TimeBadgeStyled)`\n  background: ${Colors.orange};\n`\nconst TimeBadgeBigTime = styled(TimeBadgeStyled)`\n  font-size: 0.8rem;\n  padding: 0.4rem 0.3rem 0.2rem 0.3rem;\n  background: ${Colors.orange};\n`\nconst TimeBadgeWarning = styled(TimeBadgeStyled)`\n  background: ${Colors.red};\n`\nconst TimeBadgeCompleted = styled(TimeBadgeStyled)`\n  background: ${Colors.green};\n`\nconst TimeBadgeCancelled = styled(TimeBadgeStyled)`\n  background: ${Colors.greyMiddle};\n  padding: 0.3rem 0.3rem 0 0.3rem;\n`\n\nexport const TimeBadge: React.SFC<ITimeBadgeProps> = ({\n  minutes = 0,\n  onClick,\n  isFinished = false,\n  isCancelled = false,\n}) => {\n  if (isCancelled) {\n    return (\n      <TimeBadgeCancelled onClick={onClick}>\n        <CancelOutlined />\n      </TimeBadgeCancelled>\n    )\n  }\n\n  let children = minutes.toString()\n  let container = TimeBadgeInProgress\n\n  if (Number.isNaN(minutes)) {\n    container = TimeBadgeUnknown\n    children = '?'\n  } else if (isFinished) {\n    if (minutes <= 0) {\n      container = TimeBadgeWarning\n    } else {\n      container = TimeBadgeCompleted\n    }\n  } else if (minutes <= 20) {\n    container = TimeBadgeWarning\n    if (minutes < -99) {\n      children = '-'\n    }\n  } else if (minutes > 99) {\n    container = TimeBadgeBigTime\n  }\n\n  return React.createElement(container, { children, onClick })\n}\n","import raf from 'raf'\nimport { useEffect, useRef } from 'react'\n\nimport { useStateRef } from './useStateRef'\n\ninterface IOptions {\n  interval: number\n  enabled: boolean\n  getNow?(): number\n  nextTick?(onTick: () => void): number\n  cancelTick?(handle: number): void\n}\n\nexport const useTimer = ({\n  interval,\n  enabled,\n  getNow = Date.now,\n  nextTick = raf,\n  cancelTick = raf.cancel,\n}: IOptions) => {\n  const [getLastUpdate, setLastUpdate] = useStateRef(getNow)\n  const handleRef = useRef<number | null>(null)\n\n  useEffect(\n    () => {\n      const onFrame = () => {\n        const now = getNow()\n        const last = getLastUpdate()\n        const delta = now - last\n        if (delta >= interval) {\n          setLastUpdate(now)\n        }\n        loop()\n      }\n\n      const onStart = () => {\n        loop()\n      }\n\n      const onStop = () => {\n        if (handleRef.current) {\n          cancelTick(handleRef.current)\n          handleRef.current = null\n        }\n      }\n\n      const loop = () => {\n        if (enabled) {\n          handleRef.current = nextTick(onFrame)\n        } else {\n          onStop()\n        }\n      }\n\n      onStart()\n      return onStop\n    },\n    [interval, enabled],\n  )\n\n  return getLastUpdate()\n}\n","import { useRef, useState } from 'react'\n\nexport function useStateRef<T>(initialState: T | (() => T)) {\n  const [state, setState] = useState(initialState)\n  const ref = useRef<T | null>(null)\n  ref.current = state\n  const getValue = () => ref.current\n  return [getValue, setState] as [(() => T), ((value: T) => void)]\n}\n","import { differenceInMinutes } from 'date-fns'\nimport React from 'react'\n\nimport { TimeBadge } from '../../../atoms/TimeBadge'\nimport { DateTime } from '../../../graph/types'\nimport { useTimer } from '../../../hooks/useTimer'\n\ninterface IDeliveryTimeBadgeProps {\n  deliverAt: DateTime\n  deliveredAt: DateTime | null\n  isCancelled?: boolean\n  onClick?(): void\n}\n\nconst MINUTE = 60 * 1000\n\nexport const DeliveryTimeBadge: React.SFC<IDeliveryTimeBadgeProps> = ({\n  deliverAt,\n  deliveredAt,\n  isCancelled = false,\n  onClick,\n}) => {\n  const now = useTimer({ interval: MINUTE, enabled: !deliveredAt })\n  const minutes = differenceInMinutes(deliverAt, deliveredAt || now)\n  return (\n    <TimeBadge\n      minutes={minutes}\n      onClick={onClick}\n      isFinished={Boolean(deliveredAt)}\n      isCancelled={isCancelled}\n    />\n  )\n}\n","import { Trans } from '@lingui/react'\nimport { isApolloError } from 'apollo-client/errors/ApolloError'\nimport { DocumentNode, GraphQLError } from 'graphql'\nimport Raven from 'raven-js'\nimport React, { useCallback } from 'react'\nimport { MutationHookOptions, useMutation } from 'react-apollo-hooks'\n\nimport { RM } from '../helpers/ramda'\nimport { reportError } from '../helpers/sentry'\nimport { i18n } from '../i18n'\nimport { TouchButton } from '../molecules/TouchButton'\nimport { useSnackBar } from './useSnackBar'\n\nexport function useGuardedMutation<TData, TVariables>(\n  mutation: DocumentNode,\n  options?: MutationHookOptions<TData, TVariables>,\n) {\n  const defaultMessage = i18n.t`Unexpected error occured while sending a request. Our team was notified about the issue.`\n\n  const { enqueueSnackbar, enqueueError, enqueueWarning } = useSnackBar()\n\n  const handleUserErrors = useCallback(\n    (errors: ReadonlyArray<GraphQLError>) => {\n      const userErrors = errors.filter(RM.propEq('showToUser', true))\n      if (userErrors.length === 0) {\n        enqueueError(defaultMessage)\n      } else {\n        userErrors.map(RM.prop('message')).forEach(enqueueWarning)\n      }\n    },\n    [],\n  )\n\n  const handleError = useCallback((err: Error) => {\n    if (isApolloError(err)) {\n      if (err.networkError) {\n        enqueueError(\n          i18n.t`Communication with server has failed. Please retry the operation in a moment again.`,\n        )\n        return\n      } else if (err.graphQLErrors) {\n        handleUserErrors(err.graphQLErrors)\n        return\n      }\n    }\n    reportError(err)\n    enqueueSnackbar(defaultMessage, {\n      action: [<ShowFeedbackButton key=\"feedback\" />],\n    })\n  }, [])\n\n  const mutate = useMutation(mutation, options)\n  return async (variables: TVariables) => {\n    try {\n      const result = await mutate({ variables })\n      if (result.errors) {\n        handleUserErrors(result.errors)\n      }\n      return (result.data as TData) || null\n    } catch (err) {\n      handleError(err)\n      return null\n    }\n  }\n}\n\nfunction ShowFeedbackButton() {\n  return (\n    <TouchButton onClick={() => Raven.showReportDialog()}>\n      <Trans> Submit feedback </Trans>\n    </TouchButton>\n  )\n}\n","import 'react-datepicker/dist/react-datepicker.css'\n\nimport React from 'react'\nimport DatePicker, { ReactDatePickerProps } from 'react-datepicker'\nimport { Field, FieldType } from 'react-form'\nimport styled from 'styled-components'\n\nimport moment from '../helpers/moment'\n\ninterface IProps\n  extends Omit<ReactDatePickerProps, 'onChange' | 'selected' | 'minDate'> {\n  field: FieldType\n  defaultValue?: Date\n  inputWidth?: string\n  minDate?: Date\n}\n\nconst FormInputDateContainer = styled.div`\n  & .react-datepicker-wrapper,\n  .react-datepicker__input-container,\n  .react-datepicker__input-container input {\n    width: ${({ width = '6rem' }: { width?: string }) => width};\n  }\n`\nFormInputDateContainer.displayName = 'FormInputDateContainer'\n\nexport const FormInputDate: React.SFC<IProps> = ({\n  field,\n  defaultValue,\n  inputWidth,\n  minDate,\n  ...props\n}) => (\n  <FormInputDateContainer width={inputWidth}>\n    <Field\n      field={field}\n      defaultValue={defaultValue}\n      render={fieldApi => (\n        <DatePicker\n          selected={moment(fieldApi.value || new Date())}\n          onChange={date => fieldApi.setValue(date)}\n          minDate={minDate === undefined ? undefined : moment(minDate)}\n          {...props}\n        />\n      )}\n    />\n  </FormInputDateContainer>\n)\n","import styled from 'styled-components'\n\nimport { Colors } from '../styling'\n\nexport const FlexRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-bottom: 1px solid ${Colors.greyMiddle};\n  padding: 0.1rem 0 0.1rem 0;\n`\n","import { createElement } from 'react';\n\nvar uid = function uid() {\n  return Math.random().toString(36).substring(2);\n};\n\nvar Wrap = function Wrap(props) {\n  var idClip = props.uniquekey ? props.uniquekey + \"-idClip\" : uid();\n  var idGradient = props.uniquekey ? props.uniquekey + \"-idGradient\" : uid();\n  var defautlAnimation = [\"-3; 1\", \"-2; 2\", \"-1; 3\"];\n  var rtlAnimation = [\"1; -3\", \"2; -2\", \"3; -1\"];\n  var animationValues = props.rtl ? rtlAnimation : defautlAnimation;\n  return createElement(\"svg\", {\n    viewBox: \"0 0 \" + props.width + \" \" + props.height,\n    style: props.style,\n    preserveAspectRatio: props.preserveAspectRatio,\n    className: props.className\n  }, createElement(\"rect\", {\n    style: {\n      fill: \"url(#\" + idGradient + \")\"\n    },\n    clipPath: \"url(#\" + idClip + \")\",\n    x: \"0\",\n    y: \"0\",\n    width: props.width,\n    height: props.height\n  }), createElement(\"defs\", null, createElement(\"clipPath\", {\n    id: idClip\n  }, props.children), createElement(\"linearGradient\", {\n    id: idGradient\n  }, createElement(\"stop\", {\n    offset: \"0%\",\n    stopColor: props.primaryColor,\n    stopOpacity: props.primaryOpacity\n  }, props.animate && createElement(\"animate\", {\n    attributeName: \"offset\",\n    values: animationValues[0],\n    dur: props.speed + \"s\",\n    repeatCount: \"indefinite\"\n  })), createElement(\"stop\", {\n    offset: \"50%\",\n    stopColor: props.secondaryColor,\n    stopOpacity: props.secondaryOpacity\n  }, props.animate && createElement(\"animate\", {\n    attributeName: \"offset\",\n    values: animationValues[1],\n    dur: props.speed + \"s\",\n    repeatCount: \"indefinite\"\n  })), createElement(\"stop\", {\n    offset: \"100%\",\n    stopColor: props.primaryColor,\n    stopOpacity: props.primaryOpacity\n  }, props.animate && createElement(\"animate\", {\n    attributeName: \"offset\",\n    values: animationValues[2],\n    dur: props.speed + \"s\",\n    repeatCount: \"indefinite\"\n  })))));\n};\n\nvar FacebookStyle = function FacebookStyle(props) {\n  return createElement(ContentLoader, props, createElement(\"rect\", {\n    x: \"70\",\n    y: \"15\",\n    rx: \"4\",\n    ry: \"4\",\n    width: \"117\",\n    height: \"6.4\"\n  }), createElement(\"rect\", {\n    x: \"70\",\n    y: \"35\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"85\",\n    height: \"6.4\"\n  }), createElement(\"rect\", {\n    x: \"0\",\n    y: \"80\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"350\",\n    height: \"6.4\"\n  }), createElement(\"rect\", {\n    x: \"0\",\n    y: \"100\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"380\",\n    height: \"6.4\"\n  }), createElement(\"rect\", {\n    x: \"0\",\n    y: \"120\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"201\",\n    height: \"6.4\"\n  }), createElement(\"circle\", {\n    cx: \"30\",\n    cy: \"30\",\n    r: \"30\"\n  }));\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar InstagramStyle = function InstagramStyle(props) {\n  return createElement(ContentLoader, _extends({}, props, {\n    height: 480\n  }), createElement(\"circle\", {\n    cx: \"30\",\n    cy: \"30\",\n    r: \"30\"\n  }), createElement(\"rect\", {\n    x: \"75\",\n    y: \"13\",\n    rx: \"4\",\n    ry: \"4\",\n    width: \"100\",\n    height: \"13\"\n  }), createElement(\"rect\", {\n    x: \"75\",\n    y: \"37\",\n    rx: \"4\",\n    ry: \"4\",\n    width: \"50\",\n    height: \"8\"\n  }), createElement(\"rect\", {\n    x: \"0\",\n    y: \"70\",\n    rx: \"5\",\n    ry: \"5\",\n    width: \"400\",\n    height: \"400\"\n  }));\n};\n\nvar CodeStyle = function CodeStyle(props) {\n  return createElement(ContentLoader, props, createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"70\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"80\",\n    y: \"0\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"100\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"190\",\n    y: \"0\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"10\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"15\",\n    y: \"20\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"130\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"155\",\n    y: \"20\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"130\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"15\",\n    y: \"40\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"90\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"115\",\n    y: \"40\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"60\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"185\",\n    y: \"40\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"60\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"0\",\n    y: \"60\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"30\",\n    height: \"10\"\n  }));\n};\n\nvar ListStyle = function ListStyle(props) {\n  return createElement(ContentLoader, props, createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"250\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"20\",\n    y: \"20\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"220\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"20\",\n    y: \"40\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"170\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"0\",\n    y: \"60\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"250\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"20\",\n    y: \"80\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"200\",\n    height: \"10\"\n  }), createElement(\"rect\", {\n    x: \"20\",\n    y: \"100\",\n    rx: \"3\",\n    ry: \"3\",\n    width: \"80\",\n    height: \"10\"\n  }));\n};\n\nvar BulletListStyle = function BulletListStyle(props) {\n  return createElement(ContentLoader, props, createElement(\"circle\", {\n    cx: \"10\",\n    cy: \"20\",\n    r: \"8\"\n  }), createElement(\"rect\", {\n    x: \"25\",\n    y: \"15\",\n    rx: \"5\",\n    ry: \"5\",\n    width: \"220\",\n    height: \"10\"\n  }), createElement(\"circle\", {\n    cx: \"10\",\n    cy: \"50\",\n    r: \"8\"\n  }), createElement(\"rect\", {\n    x: \"25\",\n    y: \"45\",\n    rx: \"5\",\n    ry: \"5\",\n    width: \"220\",\n    height: \"10\"\n  }), createElement(\"circle\", {\n    cx: \"10\",\n    cy: \"80\",\n    r: \"8\"\n  }), createElement(\"rect\", {\n    x: \"25\",\n    y: \"75\",\n    rx: \"5\",\n    ry: \"5\",\n    width: \"220\",\n    height: \"10\"\n  }), createElement(\"circle\", {\n    cx: \"10\",\n    cy: \"110\",\n    r: \"8\"\n  }), createElement(\"rect\", {\n    x: \"25\",\n    y: \"105\",\n    rx: \"5\",\n    ry: \"5\",\n    width: \"220\",\n    height: \"10\"\n  }));\n};\n\nvar defaultProps = {\n  animate: true,\n  height: 130,\n  preserveAspectRatio: \"xMidYMid meet\",\n  primaryColor: \"#f0f0f0\",\n  primaryOpacity: 1,\n  rtl: false,\n  secondaryColor: \"#e0e0e0\",\n  secondaryOpacity: 1,\n  speed: 2,\n  width: 400\n};\n\nvar InitialComponent = function InitialComponent(props) {\n  return createElement(\"rect\", {\n    x: \"0\",\n    y: \"0\",\n    rx: \"5\",\n    ry: \"5\",\n    width: props.width,\n    height: props.height\n  });\n};\n\nvar ContentLoader = function ContentLoader(props) {\n  var mergedProps = _extends({}, defaultProps, props);\n\n  var children = props.children ? props.children : createElement(InitialComponent, mergedProps);\n  return createElement(Wrap, mergedProps, children);\n};\n\nexport { defaultProps, FacebookStyle as Facebook, InstagramStyle as Instagram, CodeStyle as Code, ListStyle as List, BulletListStyle as BulletList };\nexport default ContentLoader;","import { Observer } from 'mobx-react'\nimport React from 'react'\n\ninterface IObserverWhenProps {\n  test(): boolean\n  renderSuccess(): ReactNode\n  renderFailure?(): ReactNode\n}\n\nexport const ObserverWhen: React.SFC<IObserverWhenProps> = ({\n  test,\n  renderSuccess,\n  renderFailure,\n}) => (\n  <Observer\n    render={() =>\n      test() ? renderSuccess() : renderFailure ? renderFailure() : null\n    }\n  />\n)\n","import React from 'react'\n\nimport { GCustomer } from '../../../graph/types'\n\ninterface ICustomerNameProps {\n  customer: GCustomer.Fragment | null\n}\n\nexport const CustomerIdentity: React.SFC<ICustomerNameProps> = ({ customer }) =>\n  customer ? (\n    <span>{`${\n      customer.lastName\n        ? `${customer.firstName} ${customer.lastName}`\n        : customer.defaultPhone\n          ? customer.defaultPhone.phone\n          : ``\n    }`}</span>\n  ) : (\n    <i>unknown</i>\n  )\n","import { Trans } from '@lingui/react'\nimport Color from 'color'\nimport React from 'react'\nimport { Element } from 'react-scroll'\nimport styled from 'styled-components'\n\nimport { Price } from '../../../atoms/Price'\nimport { GOrderList, OrderStateCategoryEnum } from '../../../graph/types'\nimport { formatAddress } from '../../../helpers/formats'\nimport { Colors, Radiuses } from '../../../styling'\nimport { CustomerIdentity } from '../atoms/CustomerIdentity'\nimport { DeliveryTimeBadge } from '../atoms/DeliveryTimeBadge'\n\ninterface IOrderTickerProps {\n  onClick(): void\n  order: GOrderList.Orders\n  showBranch: boolean\n}\n\nconst OrderTickerStyled = styled(Element)`\n  text-align: left;\n  cursor: pointer;\n  &:hover {\n    background-color: ${Color(Colors.turquoise)\n      .alpha(0.05)\n      .string()};\n  }\n  &:active {\n    background-color: ${Color(Colors.turquoise)\n      .alpha(0.2)\n      .string()};\n  }\n`\n\nconst OrderTickerMainContentStyled = styled.div`\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  padding: 0.4rem;\n`\n\nconst DeliveryTimeBadgeContainerStyled = styled.div`\n  flex: 0 0 2rem;\n`\nconst AddressDisplayContainerStyled = styled.div`\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n`\nconst CustomerIdentityContainerStyled = styled.div`\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n`\nconst PriceContainerStyled = styled.div`\n  flex: 0 0 3.5rem;\n  text-align: right;\n  position: relative;\n`\nconst PaidMarkStyled = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0.1rem;\n    right: -0.3rem;\n    left: 0.9rem;\n    bottom: 0.3rem;\n    border-top: 2px solid ${Colors.orange};\n    transform: rotate(13deg);\n    transform-origin: 0% 0%;\n    opacity: 0.7;\n  }\n`\nconst PaidTextStyled = styled.div`\n  color: ${Colors.orange};\n`\n\nconst ToBranchContainerStyled = styled.div`\n  padding: 0.3rem 0.6rem;\n  display: inline-block;\n  border-top-left-radius: ${Radiuses.Card};\n  background-color: ${Colors.green};\n  color: ${Colors.white};\n`\n\nexport const OrderTicker: React.SFC<IOrderTickerProps> = ({\n  order,\n  showBranch,\n  onClick,\n}) => (\n  <OrderTickerStyled onClick={onClick} name={`order-${order.id}`}>\n    {showBranch && (\n      <ToBranchContainerStyled>\n        {order.companyBranch.name}\n      </ToBranchContainerStyled>\n    )}\n\n    <OrderTickerMainContentStyled>\n      <DeliveryTimeBadgeContainerStyled>\n        <DeliveryTimeBadge\n          deliverAt={order.deliverAt}\n          deliveredAt={order.deliveredAt}\n          isCancelled={\n            order.orderStateCategory === OrderStateCategoryEnum.CANCEL\n          }\n        />\n      </DeliveryTimeBadgeContainerStyled>\n\n      <AddressDisplayContainerStyled>\n        {formatAddress(order.address)}\n      </AddressDisplayContainerStyled>\n\n      <CustomerIdentityContainerStyled>\n        <CustomerIdentity customer={order.customer} />\n      </CustomerIdentityContainerStyled>\n\n      <PriceContainerStyled>\n        <Price price={order.totalSum.value} />\n        {order.isPaidWithCard && (\n          <>\n            <PaidMarkStyled />\n            <PaidTextStyled>\n              <Trans>Paid</Trans>\n            </PaidTextStyled>\n          </>\n        )}\n      </PriceContainerStyled>\n    </OrderTickerMainContentStyled>\n  </OrderTickerStyled>\n)\n","import React from 'react'\n\nimport { HorizontalSeparator } from '../../../atoms/HorizontalSeparator'\nimport { IconLine } from '../../../atoms/IconLine'\nimport { LinkStyled } from '../../../atoms/LinkStyled'\nimport { GEmail, GPhone } from '../../../graph/types'\n\ninterface IContactLinesProps {\n  phones: GPhone.Fragment[]\n  emails: GEmail.Fragment[]\n}\n\ntype Contact = {\n  icon: string\n  isMail: boolean\n  value: string\n} & (GPhone.Fragment | GEmail.Fragment)\n\nexport const ContactLines: React.SFC<IContactLinesProps> = ({\n  phones,\n  emails,\n}) => {\n  const renderClickableLink = (contact: Contact) =>\n    contact.isMail ? (\n      <LinkStyled href={`mailto:${contact.value}`}>{contact.value}</LinkStyled>\n    ) : (\n      <LinkStyled href={`tel:${contact.value.replace('/ /g', '')}`}>\n        {contact.value}\n      </LinkStyled>\n    )\n\n  const renderContact = (contact: Contact) => (\n    <IconLine icon={contact.icon} key={contact.value} labelMargin=\"0\">\n      <div title={contact.description || ''}>\n        {renderClickableLink(contact)}\n      </div>\n    </IconLine>\n  )\n  return (\n    <>\n      {(phones.length > 0 || emails.length > 0) && <HorizontalSeparator />}\n      {phones.map(phone =>\n        renderContact({\n          icon: 'phone',\n          isMail: false,\n          value: phone.phone,\n          ...phone,\n        }),\n      )}\n      {emails.map(email =>\n        renderContact({\n          icon: 'mail_outline',\n          isMail: true,\n          value: email.email,\n          ...email,\n        }),\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { HorizontalSeparator } from '../../../atoms/HorizontalSeparator'\nimport { IconLine } from '../../../atoms/IconLine'\nimport { i18n } from '../../../i18n'\nimport { Colors } from '../../../styling'\n\ninterface INoteLineProps {\n  note?: string | null\n  previousNote?: string | null\n}\n\nconst CurrentNoteStyled = styled.span`\n  color: ${Colors.orange};\n`\nconst PreviousNoteStyled = styled.span`\n  color: ${Colors.greyDark};\n  margin-left: 0.5rem;\n`\n\nexport const NoteLine: React.SFC<INoteLineProps> = ({ note, previousNote }) =>\n  note || previousNote ? (\n    <>\n      <HorizontalSeparator />\n      <IconLine icon=\"note\" labelMargin=\"0\">\n        <CurrentNoteStyled>\n          {note || i18n.t`Without note`.toLocaleLowerCase()}\n        </CurrentNoteStyled>\n        <PreviousNoteStyled>{previousNote}</PreviousNoteStyled>\n      </IconLine>\n    </>\n  ) : null\n","import { Plural, SelectOrdinal, Trans } from '@lingui/react'\nimport React from 'react'\n\ninterface IProps {\n  current: number\n  total: number\n}\n\nexport const OrderCountLine: React.SFC<IProps> = ({ current, total }) => (\n  <Trans>\n    It's customer's{' '}\n    <SelectOrdinal value={current} one=\"#st\" two=\"#nd\" few=\"#rd\" other=\"#th\" />{' '}\n    order <Plural value={total} one=\"\" other=\"from total of # orders\" />\n  </Trans>\n)\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Price } from '../../../atoms/Price'\nimport { Colors } from '../../../styling'\n\ninterface IOrderWareLineProps {\n  code?: string\n  label: string\n  price: number\n}\n\nconst OrderWareLineWrap = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding-left: 3rem;\n`\nconst CodeContainerStyled = styled.div`\n  flex: 0 0 5rem;\n`\nconst NameContainerStyled = styled.div`\n  flex: 1 0;\n  color: ${Colors.greyMiddle};\n`\nconst PriceContainerStyled = styled.div`\n  flex: 0 0 4.5rem;\n  text-align: right;\n  color: ${Colors.greyMiddle};\n`\n\nexport const OrderWareLine: React.SFC<IOrderWareLineProps> = ({\n  code,\n  label,\n  price,\n}) => (\n  <OrderWareLineWrap>\n    <CodeContainerStyled>{code}</CodeContainerStyled>\n\n    <NameContainerStyled>{label}</NameContainerStyled>\n    <PriceContainerStyled>\n      <Price price={price} />\n    </PriceContainerStyled>\n  </OrderWareLineWrap>\n)\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { GOrderDetail } from '../../../graph/types'\nimport { i18n } from '../../../i18n'\nimport { OrderWareLine } from './OrderWareLine'\n\ninterface IProps {\n  order: GOrderDetail.Order\n}\n\nconst OrderCartTotalsContainer = styled.div`\n  margin: 0 0 0 auto;\n  width: 20rem;\n  text-align: right;\n`\n\nexport const OrderDetailTotals: React.SFC<IProps> = ({ order }) => (\n  <OrderCartTotalsContainer>\n    <OrderWareLine\n      label={i18n.t`Transport fee`}\n      price={order.transportFee.value}\n    />\n    <OrderWareLine\n      label={i18n.t`Covers price`}\n      price={order.coverPrice.value}\n    />\n    <OrderWareLine\n      label={i18n.t`Discount total`}\n      price={order.totalDiscount.value * -1}\n    />\n    <b>\n      <OrderWareLine label={i18n.t`Total price`} price={order.totalSum.value} />\n    </b>\n  </OrderCartTotalsContainer>\n)\n","import React from 'react'\n\nimport { HorizontalSeparator } from '../../../atoms/HorizontalSeparator'\nimport { IconLine } from '../../../atoms/IconLine'\n\ninterface IOrderRuleLinesProps {\n  rules: string[]\n}\n\nexport const OrderRuleLines: React.SFC<IOrderRuleLinesProps> = ({\n  rules,\n  children,\n}) =>\n  rules.length > 0 || children ? (\n    <>\n      <HorizontalSeparator />\n      <IconLine icon=\"announcement\" labelMargin=\"0\">\n        {children}\n        <br />\n        {rules.join(', ')}\n      </IconLine>\n    </>\n  ) : null\n","import { Trans } from '@lingui/react'\nimport { Timelapse } from '@material-ui/icons'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { IconLine } from '../../../atoms/IconLine'\nimport { GOrderDetail } from '../../../graph/types'\nimport { formatTimeWithoutTodayDate } from '../../../helpers/formats'\n\ninterface IProps {\n  order: GOrderDetail.Order\n}\n\nconst LabelStyled = styled.i`\n  padding-left: 1rem;\n  font-size: 0.8rem;\n`\n\nexport const OrderStats: React.SFC<IProps> = ({ order }) => {\n  const stats: ReactNode[] = []\n  if (order.deliverAt) {\n    stats.push(\n      <div key=\"deliverAt\">\n        {formatTimeWithoutTodayDate(order.deliverAt)}\n        <LabelStyled>\n          <Trans>Deliver on time</Trans>\n        </LabelStyled>\n      </div>,\n    )\n  }\n  if (order.driver) {\n    const { firstName, lastName } = order.driver.user\n    stats.push(\n      <div key=\"driver\">\n        {`${firstName} ${lastName}`}\n        <LabelStyled>\n          <Trans>Driver</Trans>\n        </LabelStyled>\n      </div>,\n    )\n  }\n  if (stats.length === 0) {\n    return null\n  }\n  return (\n    <IconLine icon={Timelapse} labelMargin=\"0\">\n      {stats}\n    </IconLine>\n  )\n}\n","import { i18nMark } from '@lingui/react'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { IconLine } from '../../../atoms/IconLine'\nimport { GOrderDetail, OrderStateCategoryEnum } from '../../../graph/types'\nimport { formatTimeWithoutTodayDate } from '../../../helpers/formats'\nimport { RM } from '../../../helpers/ramda'\nimport { i18n } from '../../../i18n'\n\ninterface IProps {\n  orderTiming: GOrderDetail.OrderTiming[]\n}\n\nconst LabelStyled = styled.i`\n  padding-left: 1rem;\n  font-size: 0.8rem;\n`\n\nconst labelMap = {\n  [OrderStateCategoryEnum.NEW_ORDERS]: i18nMark('Created'),\n  [OrderStateCategoryEnum.PREPARING]: i18nMark('Preparing'),\n  [OrderStateCategoryEnum.READY_TO_DELIVER]: i18nMark('Ready to deliver'),\n  [OrderStateCategoryEnum.ON_WAY]: i18nMark('On way'),\n  [OrderStateCategoryEnum.FINISHED]: i18nMark('Finished'),\n}\n\nexport const OrderTimeLine: React.SFC<IProps> = ({ orderTiming }) => (\n  <IconLine icon=\"access_time\" labelMargin=\"0\">\n    {RM.reject(\n      ({ createdAt, orderStateCategory }) =>\n        createdAt === null || !labelMap[orderStateCategory],\n      orderTiming,\n    ).map(timing => (\n      <div key={timing.orderStateCategory}>\n        {formatTimeWithoutTodayDate(timing.createdAt)}\n        <LabelStyled>{i18n._(labelMap[timing.orderStateCategory])}</LabelStyled>\n      </div>\n    ))}\n  </IconLine>\n)\n","import React, { Fragment } from 'react'\n\nimport { GOrderDetail } from '../../../graph/types'\nimport { OrderWareLine } from './OrderWareLine'\n\ninterface IOrderWareListProps {\n  orderWares: GOrderDetail.Items[]\n}\n\nexport const OrderWareList: React.SFC<IOrderWareListProps> = ({\n  orderWares,\n}) => {\n  const renderWare = (orderWare: GOrderDetail.Items) => (\n    <Fragment key={orderWare.id}>\n      <OrderWareLine\n        code={orderWare.recipe.code}\n        label={orderWare.recipe.nameLabel}\n        price={orderWare.price.value}\n      />\n      <>\n        {orderWare.sidedishes.map(sidedish => (\n          <OrderWareLine\n            key={sidedish.id}\n            code={`+${sidedish.recipe.code}`}\n            label={sidedish.recipe.nameLabel}\n            price={sidedish.price.value}\n          />\n        ))}\n      </>\n    </Fragment>\n  )\n  return <div>{orderWares.map(renderWare)}</div>\n}\n","import gql from 'graphql-tag'\n\nimport { buildQuery } from '../../../graph/buildQuery'\nimport {\n  EmailFragment,\n  PhoneFragment,\n  PriceFragment,\n} from '../../../graph/fragments'\nimport { GOrderDetail } from '../../../graph/types'\nimport { OrderDriverFragment } from '../molecules/OrderStateDeliver.graphql'\n\nexport const QueryOrderDetail = buildQuery<\n  GOrderDetail.Query,\n  GOrderDetail.Variables\n>(gql`\n  query GOrderDetail($id: ID!) {\n    order(id: $id) {\n      id\n      createdAt\n      deliverAt\n      companyBranch {\n        id\n      }\n      customer {\n        emails {\n          ...GEmail\n        }\n        phones {\n          ...GPhone\n        }\n      }\n      customerOrdersCountCurrent\n      customerOrdersCountTotal\n      note\n      previousNote\n      allAppliedRules\n      items {\n        ...GOrderDetailWare\n        sidedishes: sideDishes {\n          ...GOrderDetailWare\n        }\n      }\n      totalSum {\n        ...GPrice\n      }\n      transportFee {\n        ...GPrice\n      }\n      coverPrice {\n        ...GPrice\n      }\n      totalDiscount {\n        ...GPrice\n      }\n      orderTiming: orderStateCategoryRelations {\n        createdAt\n        orderStateCategory\n      }\n      ...GOrderDriver\n    }\n  }\n\n  fragment GOrderDetailWare on OrderRecipe {\n    id\n    recipe {\n      id\n      code\n      nameLabel\n    }\n    price {\n      ...GPrice\n    }\n  }\n  ${PriceFragment}\n  ${EmailFragment}\n  ${PhoneFragment}\n  ${OrderDriverFragment}\n`)\n","import { i18nMark } from '@lingui/react'\nimport React from 'react'\n\nimport { OrderStateEnum } from '../../../graph/types'\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { TOrderStateModel } from '../models/OrderStateModel'\n\ninterface IProps {\n  orderId: ID\n  nextState: OrderStateEnum\n  stateModel: TOrderStateModel\n}\n\nconst stateLabels = {\n  [OrderStateEnum.ACCEPTED]: i18nMark('Accept order'),\n  [OrderStateEnum.FINISHED]: i18nMark('Finish order'),\n}\n\nexport const OrderStateButton: React.SFC<IProps> = ({\n  orderId,\n  nextState,\n  stateModel,\n}) => (\n  <TouchButton\n    text={i18n._(stateLabels[nextState])}\n    width=\"7.375rem\"\n    onClick={() => {\n      stateModel.updateOrderState(orderId, nextState)\n    }}\n  />\n)\n","import React from 'react'\nimport { components } from 'react-select'\nimport { StylesConfig } from 'react-select/lib/styles'\nimport styled from 'styled-components'\n\nimport { Icon } from '../../../atoms/Icon'\nimport { SelectControl } from '../../../atoms/SelectControl'\nimport { GDriver } from '../../../graph/types'\nimport { RM } from '../../../helpers/ramda'\nimport { i18n } from '../../../i18n'\nimport { Colors, Radiuses, Spacing } from '../../../styling'\n\ntype TDriver = GDriver.Fragment\n\ninterface IProps {\n  drivers: TDriver[]\n  selectedDriver: Maybe<TDriver>\n  isLoading: boolean\n  onSelect(driver: TDriver): void\n  onClear(): void\n  onReload(): void\n}\n\nconst DriverName = styled.div`\n  margin: 0.1rem 0 0rem 0.2rem;\n  display: inline-block;\n  vertical-align: top;\n  font-size: 1.25rem;\n`\n\nconst backgroundColor = {\n  background: Colors.greyMiddle,\n}\nconst textColor = { color: Colors.white }\n\nconst styles: StylesConfig = {\n  control: base => ({\n    ...base,\n    ...backgroundColor,\n    ...textColor,\n    height: Spacing.ButtonHeight,\n    borderWidth: 0,\n    borderRadius: Radiuses.Button,\n    margin: 0,\n  }),\n  menu: base => ({\n    ...base,\n    ...backgroundColor,\n  }),\n  valueContainer: base => ({\n    ...base,\n    ...textColor,\n  }),\n  singleValue: base => ({\n    ...base,\n    ...textColor,\n  }),\n  placeholder: base => ({\n    ...base,\n    ...textColor,\n    fontSize: '1.2rem',\n  }),\n}\n\nexport const OrderDriverSelect: React.SFC<IProps> = ({\n  drivers,\n  selectedDriver,\n  isLoading,\n  onSelect,\n  onClear,\n  onReload,\n}) => (\n  <SelectControl<TDriver>\n    options={drivers}\n    value={selectedDriver}\n    getOptionValue={RM.prop('id')}\n    isLoading={isLoading}\n    isSearchable={false}\n    isClearable={true}\n    placeholder=\"Deliver order\"\n    width={16}\n    styles={styles}\n    noOptionsMessage={() => i18n.t`No drivers available`}\n    onChange={driver =>\n      driver === null ? onClear() : onSelect(driver as TDriver)\n    }\n    onMenuOpen={onReload}\n    components={{\n      ValueContainer: props => (\n        <>\n          <Icon iconName=\"directions_car\" fontSize={2} color={Colors.white} />\n          <components.ValueContainer {...props} />\n        </>\n      ),\n      DropdownIndicator: () => null,\n    }}\n    formatOptionLabel={driver => (\n      <DriverName>{`${driver.firstName} ${driver.lastName}`}</DriverName>\n    )}\n  />\n)\n","import React from 'react'\n\nimport { OrderStateCategoryEnum } from '../../../graph/types'\nimport { OrderDriverSelect } from '../atoms/OrderDriverSelect'\nimport { TOrderStateModel } from '../models/OrderStateModel'\nimport { QueryDriverSelection } from './OrderStateDeliver.graphql'\n\ninterface IProps {\n  branchId: ID\n  orderId: ID\n  orderStateCategory: OrderStateCategoryEnum\n  stateModel: TOrderStateModel\n}\n\nexport const OrderStateDeliver: React.SFC<IProps> = ({\n  branchId,\n  orderId,\n  orderStateCategory,\n  stateModel,\n}) => (\n  <QueryDriverSelection\n    fetchPolicy=\"network-only\"\n    variables={{ branchId: branchId, orderId }}\n    render={(\n      { drivers, order: { driver: orderDriver } },\n      { loading, refetch },\n    ) => (\n      <OrderDriverSelect\n        drivers={drivers}\n        selectedDriver={orderDriver ? orderDriver.user : null}\n        isLoading={loading}\n        onReload={refetch}\n        onClear={() => {\n          if (orderDriver) stateModel.removeDriver(orderDriver.id)\n        }}\n        onSelect={driver => {\n          stateModel.selectDriver(orderId, driver.id)\n          if (orderStateCategory !== OrderStateCategoryEnum.ON_WAY) {\n            stateModel.deliverOrder(orderId)\n          }\n        }}\n      />\n    )}\n  />\n)\n","import React, { Children } from 'react'\nimport styled from 'styled-components'\n\nimport { Spacing } from '../../../styling'\n\ninterface IProps {}\n\nconst OrderStateFlowContainerWrapper = styled.div`\n  margin: 0 0 0 auto;\n  text-align: right;\n  height: ${Spacing.ButtonHeight};\n`\n\nconst Control = styled.div`\n  margin: 0 0 0 0.5rem;\n  display: inline-block;\n  vertical-align: bottom;\n  text-align: left;\n  height: 100%;\n`\n\nexport const OrderStateFlowContainer: React.SFC<IProps> = ({ children }) => (\n  <OrderStateFlowContainerWrapper>\n    {Children.map(children, (child, idx) => (\n      <Control key={idx}>{child}</Control>\n    ))}\n  </OrderStateFlowContainerWrapper>\n)\n","import { Trans } from '@lingui/react'\nimport { Dialog, DialogTitle } from '@material-ui/core'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors } from '../../../styling'\nimport { TOrderStateModel } from '../models/OrderStateModel'\n\ninterface IProps {\n  orderId: ID\n  stateModel: TOrderStateModel\n}\n\ninterface IState {\n  dialogOpen: boolean\n}\n\nconst minutesOption = [20, 30, 45, 60, 75, 90, 105, 120]\n\nconst MinutesContainer = styled.div`\n  display: flex;\n  justify-content: 'center';\n  flex-wrap: 'wrap';\n  font-size: 2rem;\n`\nconst MinutesItem = styled.div`\n  margin: 1rem 1rem 0 0;\n`\n\nexport class OrderStateTimeNotification extends React.Component<\n  IProps,\n  IState\n> {\n  state = { dialogOpen: false }\n  openDialog = () => {\n    this.setState({ dialogOpen: true })\n  }\n  closeDialog = () => {\n    this.setState({ dialogOpen: false })\n  }\n  render() {\n    const { orderId, stateModel } = this.props\n    return (\n      <>\n        <TouchButton iconName=\"schedule\" onClick={this.openDialog} />\n        <Dialog open={this.state.dialogOpen} onClose={this.closeDialog}>\n          <DialogTitle>\n            <Trans>\n              Send expected time of delivery to customer (in minutes)\n            </Trans>\n            <MinutesContainer>\n              {minutesOption.map(minutes => (\n                <MinutesItem key={minutes}>\n                  <TouchButton\n                    onClick={() => {\n                      stateModel.sendTimeNotification(orderId, minutes)\n                      this.closeDialog()\n                    }}\n                    color={Colors.green}\n                  >\n                    {minutes}\n                  </TouchButton>\n                </MinutesItem>\n              ))}\n            </MinutesContainer>\n          </DialogTitle>\n        </Dialog>\n      </>\n    )\n  }\n}\n","import gql from 'graphql-tag'\n\nimport { buildQuery } from '../../../graph/buildQuery'\nimport { GOrderState } from '../../../graph/types'\nimport { OrderStateCategoryFragment } from '../models/OrderStateModel.graphql'\n\nexport const QueryOrderState = buildQuery<\n  GOrderState.Query,\n  GOrderState.Variables\n>(gql`\n  query GOrderState($orderId: ID!, $branchId: ID!) {\n    order(id: $orderId) {\n      deliveryType {\n        enum\n      }\n      ...GOrderStateCategory\n    }\n    companyBranch(id: $branchId) {\n      id\n      allowedCategories\n    }\n  }\n  ${OrderStateCategoryFragment}\n`)\n","import React from 'react'\nimport { VError } from 'verror'\n\nimport { WithRoot } from '../../../atoms/WithRoot'\nimport {\n  DeliveryTypeEnum,\n  OrderStateCategoryEnum,\n  OrderStateEnum,\n} from '../../../graph/types'\nimport { reportError } from '../../../helpers/sentry'\nimport { TOrderStateModel } from '../models/OrderStateModel'\nimport { OrderStateButton } from '../molecules/OrderStateButton'\nimport { OrderStateDeliver } from '../molecules/OrderStateDeliver'\nimport { OrderStateFlowContainer } from '../molecules/OrderStateFlowContainer'\nimport { OrderStateTimeNotification } from '../molecules/OrderStateTimeNotification'\nimport { getOrderState } from './OrderListLoader'\nimport { QueryOrderState } from './OrderStateFlow.graphql'\n\ninterface IProps {\n  orderId: ID\n  branchId: ID\n}\n\ninterface IStateProps extends IProps {\n  stateModel: TOrderStateModel\n  orderStateCategory: OrderStateCategoryEnum\n  canDeliver: boolean\n}\n\nconst OrderStateNewOrder: React.SFC<IStateProps> = props => (\n  <OrderStateFlowContainer>\n    <OrderStateTimeNotification {...props} />\n    <OrderStateButton nextState={OrderStateEnum.ACCEPTED} {...props} />\n  </OrderStateFlowContainer>\n)\n\nconst OrderStateAcceptedOrder: React.SFC<IStateProps> = props => (\n  <OrderStateFlowContainer>\n    <OrderStateTimeNotification {...props} />\n    {props.canDeliver ? (\n      <OrderStateDeliver {...props} />\n    ) : (\n      <OrderStateButton nextState={OrderStateEnum.FINISHED} {...props} />\n    )}\n  </OrderStateFlowContainer>\n)\n\nconst OrderStateOnWayOrder: React.SFC<IStateProps> = props => (\n  <OrderStateFlowContainer>\n    <OrderStateTimeNotification {...props} />\n    <OrderStateDeliver {...props} />\n    <OrderStateButton nextState={OrderStateEnum.FINISHED} {...props} />\n  </OrderStateFlowContainer>\n)\n\nexport const OrderStateFlow: React.SFC<IProps> = ({ orderId, branchId }) => (\n  <WithRoot\n    observe={false}\n    render={({ order: { state: stateModel } }) => (\n      <QueryOrderState\n        variables={{ orderId, branchId }}\n        render={({ order, companyBranch: { allowedCategories } }) => {\n          const orderStateCategory = getOrderState(order)\n          if (!orderStateCategory) {\n            reportError(new VError('Order %s has got no state categories'))\n            return null\n          }\n          const canDeliver =\n            allowedCategories.includes(OrderStateCategoryEnum.ON_WAY) &&\n            order.deliveryType != null &&\n            order.deliveryType.enum !== DeliveryTypeEnum.PICKUP\n\n          const stateProps: IStateProps = {\n            orderId,\n            branchId,\n            stateModel,\n            orderStateCategory,\n            canDeliver,\n          }\n          switch (orderStateCategory) {\n            case OrderStateCategoryEnum.NEW_ORDERS:\n              return <OrderStateNewOrder {...stateProps} />\n            case OrderStateCategoryEnum.PREPARING:\n              return <OrderStateAcceptedOrder {...stateProps} />\n            case OrderStateCategoryEnum.ON_WAY:\n              return <OrderStateOnWayOrder {...stateProps} />\n            default:\n              return null\n          }\n        }}\n      />\n    )}\n  />\n)\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { HorizontalSeparator } from '../../../atoms/HorizontalSeparator'\nimport { ContactLines } from '../molecules/ContactLines'\nimport { NoteLine } from '../molecules/NoteLine'\nimport { OrderCountLine } from '../molecules/OrderCountLine'\nimport { OrderDetailTotals } from '../molecules/OrderDetailTotals'\nimport { OrderRuleLines } from '../molecules/OrderRuleLines'\nimport { OrderStats } from '../molecules/OrderStats'\nimport { OrderTimeLine } from '../molecules/OrderTimeLine'\nimport { OrderWareList } from '../molecules/OrderWareList'\nimport { QueryOrderDetail } from './OrderDetail.graphql'\nimport { OrderStateFlow } from './OrderStateFlow'\n\ninterface IOrderDetailProps {\n  orderId: string\n}\n\nconst OrderDetailContainerStyled = styled.div`\n  padding: 0 0.5rem 0.5rem 1.1rem;\n`\n\nexport const OrderDetail: React.SFC<IOrderDetailProps> = ({ orderId }) => (\n  <QueryOrderDetail\n    variables={{ id: orderId }}\n    fetchPolicy=\"cache-and-network\"\n    render={({ order }) => (\n      <>\n        <OrderDetailContainerStyled>\n          <HorizontalSeparator />\n          <OrderWareList orderWares={order.items} />\n          <OrderDetailTotals order={order} />\n          <OrderRuleLines rules={order.allAppliedRules}>\n            <OrderCountLine\n              current={order.customerOrdersCountCurrent}\n              total={order.customerOrdersCountTotal}\n            />\n          </OrderRuleLines>\n          <ContactLines\n            phones={order.customer.phones}\n            emails={order.customer.emails}\n          />\n          <NoteLine note={order.note} previousNote={order.previousNote} />\n          <HorizontalSeparator />\n          <OrderTimeLine orderTiming={order.orderTiming} />\n          <OrderStats order={order} />\n        </OrderDetailContainerStyled>\n        <OrderStateFlow orderId={orderId} branchId={order.companyBranch.id} />\n      </>\n    )}\n  />\n)\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { ObserverWhen } from '../../../atoms/ObserverWhen'\nimport { GOrderList } from '../../../graph/types'\nimport { Colors, Radiuses } from '../../../styling'\nimport { TOrderListModel } from '../models/OrderListModel'\nimport { OrderTicker } from '../molecules/OrderTicker'\nimport { OrderDetail } from '../organisms/OrderDetail'\n\ninterface IProps {\n  order: GOrderList.Orders\n  showBranch: boolean\n  listModel: TOrderListModel\n}\n\nexport const OrderBoxStyled = styled.div`\n  background-color: ${Colors.white};\n  color: ${Colors.greyDarkest};\n  border-radius: ${Radiuses.Card};\n  margin-bottom: 0.5rem;\n  position: relative;\n`\n\nexport const OrderBox: React.SFC<IProps> = ({\n  order,\n  showBranch,\n  listModel,\n}) => (\n  <OrderBoxStyled id={`order-${order.id}`}>\n    <OrderTicker\n      order={order}\n      showBranch={showBranch}\n      onClick={() => listModel.toggleOrderDetail(order)}\n    />\n    <ObserverWhen\n      test={() => listModel.isOrderDetailOpen(order.id)}\n      renderSuccess={() => <OrderDetail orderId={order.id} />}\n    />\n  </OrderBoxStyled>\n)\n","import gql from 'graphql-tag'\n\nexport const ClosureHistoryQuery = gql`\n  query GClosureHistory($branchId: ID!, $dateFrom: Date!, $dateTo: Date!) {\n    financialReports(\n      companyBranchId: $branchId\n      dateFrom: $dateFrom\n      dateTo: $dateTo\n    ) {\n      id\n      reportDatetime\n      reportSequence\n    }\n  }\n`\n","import React, { useContext } from 'react'\nimport { Form } from 'react-form'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { GClosureHistory } from '../../../graph/types'\nimport { formatDateISO } from '../../../helpers/formats'\nimport { createExecutableQuery } from '../../../hooks/useExecutableQuery'\nimport { ClosureHistoryQuery } from './ClosureHistoryLoader.graphql'\n\nexport type TReports = GClosureHistory.FinancialReports\n\nconst useExecutableQuery = createExecutableQuery<\n  GClosureHistory.Query,\n  GClosureHistory.Variables\n>(ClosureHistoryQuery)\n\nexport const useClosureHistory = () => useContext(useExecutableQuery.context)!\n\nexport const ClosureHistoryLoader: React.SFC = ({ children }) => {\n  const { statistics } = useRoot()\n  const { result, execute } = useExecutableQuery()\n\n  const onSubmit = () => {\n    if (statistics.closureBranch) {\n      execute({\n        branchId: statistics.closureBranch,\n        dateFrom: formatDateISO(statistics.dateFrom),\n        dateTo: formatDateISO(statistics.dateTo),\n      })\n    }\n  }\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      onChange={({ values }) => statistics.updateFilter(values)}\n    >\n      <useExecutableQuery.context.Provider value={result}>\n        {children}\n      </useExecutableQuery.context.Provider>\n    </Form>\n  )\n}\n","import { Trans } from '@lingui/react'\nimport { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { FlexColumn } from '../../../atoms/FlexColumn'\nimport { FlexRow } from '../../../atoms/FlexRow'\nimport { Headline } from '../../../atoms/Headline'\nimport { Loading } from '../../../atoms/Loading'\nimport { RelativeLink } from '../../../atoms/RelativeLink'\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { formatDateISO } from '../../../helpers/formats'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Spacing } from '../../../styling'\nimport { useClosureHistory } from '../organisms/ClosureHistoryLoader'\n\nexport const ClosureHistoryTable = observer(() => {\n  const { data, loading } = useClosureHistory()\n  const { statistics } = useRoot()\n  if (loading) {\n    return (\n      <Headline>\n        <Loading />\n      </Headline>\n    )\n  }\n  if (!statistics.closureBranch) {\n    return (\n      <Headline>\n        <Trans>Select a branch</Trans>\n      </Headline>\n    )\n  }\n  if (!data || data.financialReports.length === 0) {\n    return (\n      <Headline>\n        <Trans>No closures found</Trans>\n      </Headline>\n    )\n  }\n  return (\n    <>\n      {data.financialReports.map(report => (\n        <FlexRow key={report.id}>\n          <FlexColumn fixedWidth={true}>\n            <RelativeLink to={`../${report.id}`}>\n              <TouchButton\n                iconName=\"mode_edit\"\n                width={Spacing.ButtonHeight}\n                height={Spacing.ButtonHeight}\n              />\n            </RelativeLink>\n          </FlexColumn>\n          <FlexColumn widthGrowIndex={1}>\n            {`[${report.reportSequence}] ${formatDateISO(\n              report.reportDatetime,\n            )}`}\n          </FlexColumn>\n        </FlexRow>\n      ))}\n    </>\n  )\n})\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { CanQuery } from '../../../atoms/CanQuery'\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors, Spacing } from '../../../styling'\n\ninterface IProps {}\n\nexport const ClosureCurrentButton: React.SFC<IProps> = props => {\n  return (\n    <CanQuery queryName=\"lastFinancialReport\">\n      <Link to=\"/overview/closure\">\n        <TouchButton\n          text={i18n.t`Current closure`}\n          color={Colors.orange}\n          width=\"15rem\"\n          height={Spacing.ButtonHeight}\n        />\n      </Link>\n    </CanQuery>\n  )\n}\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { CompanyBranchPicker } from '../../../organisms/CompanyBranchPicker'\nimport { ClosureCurrentButton } from './ClosureCurrentButton'\n\nconst ButtonToRight = styled.div`\n  float: right;\n  margin: 0.5rem;\n`\n\ninterface IProps {\n  showCurrent: boolean\n}\n\nexport const ClosureStatisticsFilter = observer<IProps>(({ showCurrent }) => {\n  const { statistics } = useRoot()\n  return (\n    <>\n      <CompanyBranchPicker\n        selectedBranches={\n          statistics.closureBranch ? [statistics.closureBranch] : []\n        }\n        onSelectionChange={([branch]) => statistics.setClosureBranch(branch)}\n        onSelectionClear={() => statistics.setClosureBranch(null)}\n        isClearable={false}\n      />\n      {showCurrent && (\n        <ButtonToRight>\n          <ClosureCurrentButton />\n        </ButtonToRight>\n      )}\n    </>\n  )\n})\n","import { Plural, Trans } from '@lingui/react'\nimport { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { FlexColumn } from '../../../atoms/FlexColumn'\nimport { FlexRowSingle } from '../../../atoms/FlexRowSingle'\nimport { FormInputDate } from '../../../atoms/FormInputDate'\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { FormSubmit } from '../../../molecules/FormSubmit'\n\ninterface IProps {\n  submitButton?: ReactNode\n}\n\nexport const StatisticsDateRangeFilter = observer<IProps>(\n  ({ submitButton }) => {\n    const { statistics } = useRoot()\n\n    return (\n      <FlexRowSingle justify=\"flex-start\">\n        <FlexColumn fixedWidth={true} width=\"10rem\">\n          <Trans>From date</Trans>\n          <FormInputDate field=\"dateFrom\" defaultValue={statistics.dateFrom} />\n        </FlexColumn>\n        <FlexColumn fixedWidth={true} width=\"10rem\">\n          <Trans>To date</Trans>\n          <FormInputDate field=\"dateTo\" defaultValue={statistics.dateTo} />\n        </FlexColumn>\n        <FlexColumn>\n          {submitButton || (\n            <FormSubmit width=\"15rem\">\n              <Plural\n                value={statistics.branchesFilter.length}\n                one=\"Show for one branch\"\n                few=\"Show for # branches\"\n                other=\"Show for # branches\"\n              />\n            </FormSubmit>\n          )}\n        </FlexColumn>\n      </FlexRowSingle>\n    )\n  },\n)\n","import { Trans } from '@lingui/react'\nimport React from 'react'\n\nimport { Card } from '../../../atoms/Card'\nimport { i18n } from '../../../i18n'\nimport { FormSubmit } from '../../../molecules/FormSubmit'\nimport { FullPageLayout } from '../../../molecules/FullPageLayout'\nimport { ClosureHistoryTable } from '../molecules/ClosureHistoryTable'\nimport { ClosureStatisticsFilter } from '../molecules/ClosureStatisticsFilter'\nimport { StatisticsDateRangeFilter } from '../molecules/StatisticsDateRangeFilter'\nimport { ClosureHistoryLoader } from '../organisms/ClosureHistoryLoader'\n\ninterface IProps {}\n\nexport const ClosureHistoryPage: React.SFC<IProps> = props => (\n  <ClosureHistoryLoader>\n    <FullPageLayout\n      pageTitle={i18n.t`Closure history`}\n      useBackButton={true}\n      backRoute=\"/overview\"\n    >\n      <Card>\n        <ClosureStatisticsFilter showCurrent={true} />\n        <StatisticsDateRangeFilter\n          submitButton={\n            <FormSubmit width=\"15rem\">\n              <Trans>Show history for branch</Trans>\n            </FormSubmit>\n          }\n        />\n      </Card>\n      <Card>\n        <ClosureHistoryTable />\n      </Card>\n    </FullPageLayout>\n  </ClosureHistoryLoader>\n)\n","import React from 'react'\nimport styled from 'styled-components'\n\ninterface IProps {\n  text: string\n}\n\nconst MonospaceOutputStyled = styled.p`\n  color: white;\n  font-family: 'Lucida Console', Monaco, monospace;\n  white-space: pre-wrap;\n  margin: 0.2rem 0.5rem 0.5rem 1rem;\n  line-height: 1.8rem;\n`\n\nconst formatOutput = (output: string) =>\n  output.replace(new RegExp('\\t', 'g'), '\\u0009')\n\nexport const MonospaceOutput: React.SFC<IProps> = ({ text }) => (\n  <MonospaceOutputStyled>{formatOutput(text)}</MonospaceOutputStyled>\n)\n","import gql from 'graphql-tag'\n\nimport { buildQuery } from '../../../graph/buildQuery'\nimport { GClosureReportQuery } from '../../../graph/types'\n\nexport const FinancialReport = gql`\n  query GClosureReportQuery(\n    $branchId: ID!\n    $reportId: ID!\n    $showReport: Boolean!\n  ) {\n    lastReport: lastFinancialReport(companyBranchId: $branchId)\n      @skip(if: $showReport) {\n      plainData\n      reportDatetime\n      reportSequence\n    }\n    report: financialReport(report: $reportId) @include(if: $showReport) {\n      plainData\n      reportDatetime\n      reportSequence\n    }\n  }\n`\n\nexport const QueryFinancialReport = buildQuery<\n  GClosureReportQuery.Query,\n  GClosureReportQuery.Variables\n>(FinancialReport)\n","import React from 'react'\n\nimport { MonospaceOutput } from '../../../atoms/MonospaceOutput'\nimport { WithRoot } from '../../../atoms/WithRoot'\nimport { i18n } from '../../../i18n'\nimport { QueryFinancialReport } from './ClosureStatisticsContent.graphql'\n\ninterface IProps {\n  reportId?: string\n}\n\nexport const ClosureStatisticsContent: React.SFC<IProps> = ({\n  reportId = '',\n}) => (\n  <WithRoot\n    render={({ statistics }) =>\n      statistics.closureBranch ? (\n        <QueryFinancialReport\n          variables={{\n            branchId: statistics.closureBranch,\n            reportId,\n            showReport: Boolean(reportId),\n          }}\n          fetchPolicy=\"cache-and-network\"\n          renderLoading={false}\n          render={({ report, lastReport }, { loading }) =>\n            loading ? (\n              <MonospaceOutput text={i18n.t`Computing`} />\n            ) : (\n              <MonospaceOutput\n                text={reportId ? report!.plainData : lastReport.plainData}\n              />\n            )\n          }\n        />\n      ) : null\n    }\n  />\n)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { CanQuery } from '../../../atoms/CanQuery'\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors, Spacing } from '../../../styling'\n\ninterface IProps {}\n\nexport const ClosureHistoryButton: React.SFC<IProps> = props => {\n  return (\n    <CanQuery queryName=\"financialReports\">\n      <Link to=\"/overview/closure/history\">\n        <TouchButton\n          text={i18n.t`Closure history`}\n          color={Colors.greyDark}\n          width=\"15rem\"\n          height={Spacing.ButtonHeight}\n        />\n      </Link>\n    </CanQuery>\n  )\n}\n","import React, { MouseEvent } from 'react'\n\nimport { CanMutate } from '../../../atoms/CanMutate'\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors } from '../../../styling'\n\nexport interface IProps {\n  onClick?(e: MouseEvent<HTMLButtonElement>): void\n  disabled: boolean\n}\n\nexport const ClosureSubmitButton: React.SFC<IProps> = props => (\n  <CanMutate mutationName=\"createFinancialReport\">\n    <TouchButton\n      text={i18n.t`Create closure`}\n      color={Colors.green}\n      width=\"12rem\"\n      {...props}\n    />\n  </CanMutate>\n)\n","import { useObserver } from 'mobx-react-lite'\nimport React, { useCallback } from 'react'\nimport styled from 'styled-components'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { GCreateFinancialReport } from '../../../graph/types'\nimport { useGuardedMutation } from '../../../hooks/useGuardedMutation'\nimport useRouterContext from '../../../hooks/useRouterContext'\nimport { useSnackBar } from '../../../hooks/useSnackBar'\nimport { i18n } from '../../../i18n'\nimport { ClosureCurrentButton } from '../molecules/ClosureCurrentButton'\nimport { ClosureHistoryButton } from '../molecules/ClosureHistoryButton'\nimport { ClosureSubmitButton } from '../molecules/ClosureSubmitButton'\nimport { CreateFinancialReport } from './ClosureStatisticsControl.graphql'\n\ninterface IProps {\n  showCurrent: boolean\n}\n\nconst ButtonToRight = styled.div`\n  float: right;\n`\n\nexport const ClosureStatisticsControl: React.FC<IProps> = ({ showCurrent }) => {\n  const { statistics } = useRoot()\n  const { enqueueSuccess } = useSnackBar()\n  const { history } = useRouterContext()\n\n  const createClosure = useGuardedMutation<\n    GCreateFinancialReport.Mutation,\n    GCreateFinancialReport.Variables\n  >(CreateFinancialReport)\n\n  const onSubmit = useCallback(async () => {\n    if (!statistics.closureBranch) {\n      return\n    }\n    const data = await createClosure({\n      companyBranchId: statistics.closureBranch,\n    })\n    if (data) {\n      const { id } = data.result\n      history.push(`/overview/closure/${id}`)\n      enqueueSuccess(i18n.t`Closure has been created`)\n    }\n  }, [])\n\n  return useObserver(() => (\n    <>\n      {showCurrent ? (\n        <ClosureCurrentButton />\n      ) : (\n        <ClosureSubmitButton\n          onClick={onSubmit}\n          disabled={!statistics.closureBranch}\n        />\n      )}\n      <ButtonToRight>\n        <ClosureHistoryButton />\n      </ButtonToRight>\n    </>\n  ))\n}\n","import React from 'react'\nimport { RouteComponentProps } from 'react-router'\n\nimport { Card } from '../../../atoms/Card'\nimport { i18n } from '../../../i18n'\nimport { FullPageLayout } from '../../../molecules/FullPageLayout'\nimport { ClosureStatisticsFilter } from '../molecules/ClosureStatisticsFilter'\nimport { ClosureStatisticsContent } from '../organisms/ClosureStatisticsContent'\nimport { ClosureStatisticsControl } from '../organisms/ClosureStatisticsControl'\n\ninterface IRouteParams {\n  reportId?: string\n}\n\ninterface IProps extends RouteComponentProps<IRouteParams> {}\n\nexport const ClosurePage: React.SFC<IProps> = ({ match }) => (\n  <FullPageLayout\n    pageTitle={i18n.t`Closure`}\n    useBackButton={true}\n    backRoute=\"/overview\"\n  >\n    <Card>\n      <ClosureStatisticsFilter showCurrent={false} />\n      <ClosureStatisticsControl showCurrent={Boolean(match.params.reportId)} />\n    </Card>\n    <ClosureStatisticsContent reportId={match.params.reportId} />\n  </FullPageLayout>\n)\n","import { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { CompanyBranchPicker } from '../../../organisms/CompanyBranchPicker'\n\ninterface IProps {}\n\nexport const StatisticsBranchFilter: React.FC<IProps> = observer(props => {\n  const { statistics } = useRoot()\n  return (\n    <CompanyBranchPicker\n      selectedBranches={statistics.branches}\n      onSelectionChange={statistics.setBranchFilter}\n      onSelectionClear={statistics.clearBranchFilter}\n      isMulti={true}\n    />\n  )\n})\n","import gql from 'graphql-tag'\n\nexport const DailyStatisticsQuery = gql`\n  query GDailyStatistics($branches: [ID!]!, $dateFrom: Date!, $dateTo: Date!) {\n    stats: statistics(\n      branches: $branches\n      dateFrom: $dateFrom\n      dateTo: $dateTo\n    ) {\n      categoryStatisticsPlain\n      dailyStatisticsPlain\n      deliveryStatisticsPlain\n      driversStatisticsPlain\n    }\n  }\n`\n","import React, { useContext } from 'react'\nimport { Form } from 'react-form'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { GDailyStatistics } from '../../../graph/types'\nimport { formatDateISO } from '../../../helpers/formats'\nimport { createExecutableQuery } from '../../../hooks/useExecutableQuery'\nimport { DailyStatisticsQuery } from './DailyStatisticsLoader.graphql'\n\nexport type TOrdersStats = GDailyStatistics.Stats\n\nconst useExecutableQuery = createExecutableQuery<\n  GDailyStatistics.Query,\n  GDailyStatistics.Variables\n>(DailyStatisticsQuery)\n\nexport const useDailyStatistics = () => useContext(useExecutableQuery.context)!\n\nexport const DailyStatisticsLoader: React.SFC = ({ children }) => {\n  const { statistics } = useRoot()\n  const { result, execute } = useExecutableQuery()\n\n  const onSubmit = () => {\n    execute({\n      branches: statistics.branchesFilter,\n      dateFrom: formatDateISO(statistics.dateFrom),\n      dateTo: formatDateISO(statistics.dateTo),\n    })\n  }\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      onChange={({ values }) => statistics.updateFilter(values)}\n    >\n      <useExecutableQuery.context.Provider value={result}>\n        {children}\n      </useExecutableQuery.context.Provider>\n    </Form>\n  )\n}\n","import { Trans } from '@lingui/react'\nimport { observer } from 'mobx-react-lite'\nimport React from 'react'\n\nimport { Headline } from '../../../atoms/Headline'\nimport { MonospaceOutput } from '../../../atoms/MonospaceOutput'\nimport { i18n } from '../../../i18n'\nimport { useDailyStatistics } from './DailyStatisticsLoader'\n\nexport const DailyStatisticsContent = observer(() => {\n  const { data, loading } = useDailyStatistics()\n  if (!data) {\n    return null\n  }\n  if (loading) {\n    return <MonospaceOutput text={i18n.t`Computing`} />\n  }\n  const { stats } = data\n  return (\n    <>\n      <Headline light={true}>\n        <Trans>Daily statistics</Trans>\n      </Headline>\n      <MonospaceOutput text={stats.dailyStatisticsPlain} />\n\n      <Headline light={true}>\n        <Trans>By category</Trans>\n      </Headline>\n      <MonospaceOutput text={stats.categoryStatisticsPlain} />\n\n      <Headline light={true}>\n        <Trans>By type</Trans>\n      </Headline>\n      <MonospaceOutput text={stats.deliveryStatisticsPlain} />\n\n      <Headline light={true}>\n        <Trans>By driver</Trans>\n      </Headline>\n      <MonospaceOutput text={stats.driversStatisticsPlain} />\n    </>\n  )\n})\n","import React from 'react'\n\nimport { Card } from '../../../atoms/Card'\nimport { i18n } from '../../../i18n'\nimport { FullPageLayout } from '../../../molecules/FullPageLayout'\nimport { StatisticsBranchFilter } from '../molecules/StatisticsBranchFilter'\nimport { StatisticsDateRangeFilter } from '../molecules/StatisticsDateRangeFilter'\nimport { DailyStatisticsContent } from '../organisms/DailyStatisticsContent'\nimport { DailyStatisticsLoader } from '../organisms/DailyStatisticsLoader'\n\nexport const DailyStatisticsPage: React.FC = () => (\n  <FullPageLayout pageTitle={i18n.t`Sales statistics`} useBackButton={true}>\n    <DailyStatisticsLoader>\n      <Card>\n        <StatisticsBranchFilter />\n        <StatisticsDateRangeFilter />\n      </Card>\n      <DailyStatisticsContent />\n    </DailyStatisticsLoader>\n  </FullPageLayout>\n)\n","import gql from 'graphql-tag'\n\nimport { OrderTickerFragment } from '../../../segments/order/molecules/OrderTicker.graphql'\n\nexport const OrdersStatisticsQuery = gql`\n  query GOrdersStatistics($branches: [ID!]!, $dateFrom: Date!, $dateTo: Date!) {\n    stats: statistics(\n      branches: $branches\n      dateFrom: $dateFrom\n      dateTo: $dateTo\n    ) {\n      finishedOrders {\n        fees {\n          ...GStatsPrice\n        }\n        onlinePayments {\n          ...GStatsPrice\n        }\n        total {\n          ...GStatsPrice\n        }\n        ordersCount\n        orders {\n          ...GOrderListTicker\n        }\n      }\n    }\n  }\n\n  fragment GStatsPrice on PriceConverted {\n    value\n    currency {\n      code\n    }\n  }\n\n  ${OrderTickerFragment}\n`\n","import React, { useContext } from 'react'\nimport { Form } from 'react-form'\n\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { GOrdersStatistics } from '../../../graph/types'\nimport { formatDateISO } from '../../../helpers/formats'\nimport { createExecutableQuery } from '../../../hooks/useExecutableQuery'\nimport { OrdersStatisticsQuery } from './OrdersStatisticsLoader.graphql'\n\nexport type TOrdersStats = GOrdersStatistics.FinishedOrders\n\nconst useExecutableQuery = createExecutableQuery<\n  GOrdersStatistics.Query,\n  GOrdersStatistics.Variables\n>(OrdersStatisticsQuery)\n\nexport const useOrderStatistics = () => useContext(useExecutableQuery.context)!\n\nexport const OrdersStatisticsLoader: React.SFC = ({ children }) => {\n  const { statistics } = useRoot()\n  const { result, execute } = useExecutableQuery()\n\n  const onSubmit = () => {\n    execute({\n      branches: statistics.branchesFilter,\n      dateFrom: formatDateISO(statistics.dateFrom),\n      dateTo: formatDateISO(statistics.dateTo),\n    })\n  }\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      onChange={({ values }) => statistics.updateFilter(values)}\n    >\n      <useExecutableQuery.context.Provider value={result}>\n        {children}\n      </useExecutableQuery.context.Provider>\n    </Form>\n  )\n}\n","import { Trans } from '@lingui/react'\nimport { observer } from 'mobx-react-lite'\nimport React from 'react'\nimport { BulletList } from 'react-content-loader'\n\nimport { CardListTitle } from '../../../atoms/CardListTitle'\nimport { useRoot } from '../../../atoms/RootProvider'\nimport { OrderStateCategoryEnum } from '../../../graph/types'\nimport { logDebug } from '../../../helpers/logger'\nimport { OrderBox } from '../../../segments/order/atoms/OrderBox'\nimport { useOrderStatistics } from './OrdersStatisticsLoader'\n\nexport const OrdersStatisticsList = observer(() => {\n  const { statistics, order: orderModel } = useRoot()\n  const { data, loading } = useOrderStatistics()\n  logDebug(data, loading)\n  if (loading) {\n    return <BulletList primaryOpacity={0.2} secondaryOpacity={0.2} />\n  }\n  const { orders } = data!.stats.finishedOrders\n  if (orders.length === 0) {\n    return (\n      <CardListTitle>\n        <Trans>No orders</Trans>\n      </CardListTitle>\n    )\n  }\n  return (\n    <>\n      {orders.map(order => (\n        <OrderBox\n          key={order.id}\n          order={{\n            ...order,\n            orderStateCategory: OrderStateCategoryEnum.FINISHED,\n          }}\n          listModel={orderModel.list}\n          showBranch={statistics.branchesFilter.length > 1}\n        />\n      ))}\n    </>\n  )\n})\n","import { Trans } from '@lingui/react'\nimport { observer } from 'mobx-react-lite'\nimport React from 'react'\nimport styled from 'styled-components'\n\nimport { Price } from '../../../atoms/Price'\nimport { useOrderStatistics } from '../organisms/OrdersStatisticsLoader'\n\nconst StatPanel = styled.div`\n  margin: 1.4rem 4rem 0 0.5rem;\n  display: inline-block;\n`\n\nconst StatLabel = styled.h1`\n  font-size: 1.5rem;\n  font-weight: normal;\n  margin: 0;\n`\n\nconst StatValue = styled.h2`\n  font-size: 4rem;\n  font-weight: normal;\n  margin: 0;\n`\n\nexport const OrdersStatisticsSummary = observer(() => {\n  const { loading, data } = useOrderStatistics()\n  if (loading || !data) {\n    return null\n  }\n  const stats = data.stats.finishedOrders\n  return (\n    <>\n      <StatPanel>\n        <StatLabel>\n          <Trans>Total turnover</Trans>\n        </StatLabel>\n        <StatValue>\n          <Price\n            price={stats.total.value}\n            currencyCode={stats.total.currency.code}\n          />\n        </StatValue>\n      </StatPanel>\n      <StatPanel>\n        <StatLabel>\n          <Trans>Online payments</Trans>\n        </StatLabel>\n        <StatValue>\n          <Price\n            price={stats.onlinePayments.value}\n            currencyCode={stats.onlinePayments.currency.code}\n          />\n        </StatValue>\n      </StatPanel>\n      <StatPanel>\n        <StatLabel>\n          <Trans>Orders count</Trans>\n        </StatLabel>\n        <StatValue>{stats.ordersCount}</StatValue>\n      </StatPanel>\n      <StatPanel>\n        <StatLabel>\n          <Trans>Total commissions</Trans>\n        </StatLabel>\n        <StatValue>\n          <Price\n            price={stats.fees.value}\n            currencyCode={stats.fees.currency.code}\n          />\n        </StatValue>\n      </StatPanel>\n    </>\n  )\n})\n","import React from 'react'\n\nimport { Card } from '../../../atoms/Card'\nimport { i18n } from '../../../i18n'\nimport { PageLayout } from '../../../molecules/PageLayout'\nimport { PageLayoutFullHeightItem } from '../../../molecules/PageLayoutFullHeightItem'\nimport { StatisticsBranchFilter } from '../molecules/StatisticsBranchFilter'\nimport { StatisticsDateRangeFilter } from '../molecules/StatisticsDateRangeFilter'\nimport { OrdersStatisticsList } from '../organisms/OrdersStatisticsList'\nimport { OrdersStatisticsLoader } from '../organisms/OrdersStatisticsLoader'\nimport { OrdersStatisticsSummary } from '../organisms/OrdersStatisticsSummary'\n\ninterface IProps {}\n\nfunction getLayout() {\n  return [{ i: 'summary', x: 0, y: 1, w: 7, h: 1 }]\n}\n\nexport const OrdersStatisticsPage: React.SFC<IProps> = props => (\n  <OrdersStatisticsLoader>\n    <PageLayoutFullHeightItem\n      withScrollArea={true}\n      row={1}\n      column={8}\n      widthInColumns={8}\n    >\n      <OrdersStatisticsList />\n    </PageLayoutFullHeightItem>\n\n    <PageLayout\n      layouts={getLayout()}\n      pageTitle={i18n.t`Orders statistics`}\n      showSoundControl={false}\n      scrollPageTitle={false}\n      useBackButton={true}\n    >\n      <div key=\"summary\">\n        <Card>\n          <StatisticsBranchFilter />\n          <StatisticsDateRangeFilter />\n        </Card>\n\n        <OrdersStatisticsSummary />\n      </div>\n    </PageLayout>\n  </OrdersStatisticsLoader>\n)\n","import React from 'react'\n\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors } from '../../../styling'\n\nexport const ClosureButton: React.SFC = props => (\n  <TouchButton\n    text={i18n.t`Closure`}\n    iconName=\"assignment\"\n    color={Colors.turquoise}\n  />\n)\n","import React from 'react'\n\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors } from '../../../styling'\n\nexport const DailyStatisticsButton: React.SFC = props => (\n  <TouchButton\n    text={i18n.t`Sales statistics`}\n    iconName=\"assignment\"\n    color={Colors.turquoise}\n  />\n)\n","import React from 'react'\n\nimport { i18n } from '../../../i18n'\nimport { TouchButton } from '../../../molecules/TouchButton'\nimport { Colors } from '../../../styling'\n\nexport const OrdersStatisticsButton: React.SFC = props => (\n  <TouchButton\n    text={i18n.t`Orders statistics`}\n    iconName=\"assignment\"\n    color={Colors.turquoise}\n  />\n)\n","import React from 'react'\n\nimport { PageLayout } from '../../../molecules/PageLayout'\nimport { PageLayoutItem } from '../../../molecules/PageLayoutItem'\nimport { ClosureButton } from '../molecules/ClosureButton'\nimport { DailyStatisticsButton } from '../molecules/DailyStatisticsButton'\nimport { OrdersStatisticsButton } from '../molecules/OrdersStatisticsButton'\n\ninterface IProps {}\n\nfunction getLayout() {\n  return [\n    { i: 'OrdersStatistics', x: 0, y: 1, w: 2, h: 2 },\n    { i: 'DailyStatistics', x: 2, y: 1, w: 2, h: 2 },\n    { i: 'Closure', x: 4, y: 1, w: 2, h: 2 },\n  ]\n}\n\nexport const OverviewPage: React.SFC<IProps> = props => (\n  <PageLayout layouts={getLayout()}>\n    <PageLayoutItem\n      key=\"OrdersStatistics\"\n      route=\"/overview/orders\"\n      component={OrdersStatisticsButton}\n      canQuery=\"orders\"\n    />\n    <PageLayoutItem\n      key=\"DailyStatistics\"\n      route=\"/overview/statistics\"\n      component={DailyStatisticsButton}\n      canQuery=\"statistics\"\n    />\n    <PageLayoutItem\n      key=\"Closure\"\n      route=\"/overview/closure\"\n      component={ClosureButton}\n      canQuery=\"lastFinancialReport\"\n    />\n  </PageLayout>\n)\n","import React from 'react'\nimport { Route, RouteComponentProps, Switch } from 'react-router'\n\nimport { PageTitle } from '../../../atoms/PageTitle'\nimport { i18n } from '../../../i18n'\nimport { NotFoundPage } from '../../../pages/NotFoundPage'\nimport { SecureRoute } from '../../../routes/SecureRoute'\nimport { ClosureHistoryPage } from '../pages/ClosureHistoryPage'\nimport { ClosurePage } from '../pages/ClosurePage'\nimport { DailyStatisticsPage } from '../pages/DailyStatisticsPage'\nimport { OrdersStatisticsPage } from '../pages/OrdersStatisticsPage'\nimport { OverviewPage } from '../pages/OverviewPage'\n\ninterface ISettingsRoutesProps extends RouteComponentProps<{}> {}\n\nexport const OverviewRoutes: React.SFC<ISettingsRoutesProps> = ({ match }) => (\n  <>\n    <PageTitle title={i18n.t`Overview`} />\n    <Switch>\n      <SecureRoute exact={true} path={match.path} component={OverviewPage} />\n      <SecureRoute\n        path={`${match.path}/closure/history`}\n        component={ClosureHistoryPage}\n      />\n      <SecureRoute\n        path={`${match.path}/closure/:reportId?`}\n        component={ClosurePage}\n      />\n      <SecureRoute\n        path={`${match.path}/statistics`}\n        component={DailyStatisticsPage}\n      />\n      <SecureRoute\n        path={`${match.path}/orders`}\n        component={OrdersStatisticsPage}\n      />\n      <Route component={NotFoundPage} />\n    </Switch>\n  </>\n)\n\nexport default OverviewRoutes\n"],"sourceRoot":""}