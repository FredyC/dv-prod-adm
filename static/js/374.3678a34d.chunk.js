(this.webpackJsonpspeedlo=this.webpackJsonpspeedlo||[]).push([[374],{1346:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n(4),a=n(2781),o=n(1349),i=n(0),c=n.n(i),l=n(18),u=n(43),s=n(41),d=n(14),m=n(1375),f=n(239);function p(){var e=Object(r.a)(["\n  grid-column: content;\n  margin-left: 0.5rem;\n"]);return p=function(){return e},e}function b(){var e=Object(r.a)(["\n  grid-column: content;\n  justify-self: start;\n  margin: ",";\n  "]);return b=function(){return e},e}function v(){var e=Object(r.a)(["\n  grid-column: desc;\n  margin: ",";\n\n  div.label {\n    padding-top: 0.2rem;\n    display: inline-block;\n    &.smallCaps {\n      font-variant-caps: all-petite-caps;\n    }\n  }\n\n  ",";\n"]);return v=function(){return e},e}function g(){var e=Object(r.a)(["\n  display: flex;\n\n  div.description {\n    margin: ",";\n    min-width: ",";\n    flex: 0 0 auto;\n    text-align: right;\n  }\n\n  div.contents {\n    margin-left: 0.5rem;\n    align-self: stretch;\n    flex: 1 1 auto;\n  }\n\n  div.label {\n    padding-top: 0.2rem;\n    display: inline-block;\n    &.smallCaps {\n      font-variant-caps: all-petite-caps;\n    }\n  }\n"]);return g=function(){return e},e}var O=l.c.div(g(),function(e){return e.labelMargin},function(e){var t=e.labelWidth,n=e.labelWidthUnits;return"".concat(t).concat(n)}),h=l.c.div(v(),function(e){return e.labelMargin},Object(u.d)(b(),function(e){return e.labelMargin.replace("auto","0.7rem")})),y=l.c.div(p()),E=function(e){var t=e.icon,n=e.label,r=e.labelWidth,i=void 0===r?0:r,l=e.labelWidthUnits,u=void 0===l?d.d.DefaultSizeUnit:l,p=e.labelMargin,b=void 0===p?"0.5rem 0.2rem 0 auto":p,v=e.labelSmallCaps,g=void 0===v||v,E=e.children,j=t;"string"===typeof t&&(Object(s.b)('IconLine: Do not use icon prop as string! Replace "'.concat(t,'" with the one imported from @material-ui/icons.')),j=a.a);var w=Object(m.b)(),C=c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{icon:j,color:d.a.greyDark}),n?c.a.createElement("div",{className:Object(o.b)("label",{smallCaps:g})},n):null);return w?c.a.createElement(c.a.Fragment,null,c.a.createElement(h,{labelMargin:b},C),c.a.createElement(y,null,E)):c.a.createElement(O,{labelWidth:i,labelWidthUnits:u,labelMargin:b},c.a.createElement("div",{className:"description"},C),c.a.createElement("div",{className:"contents"},E))}},1347:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"a",function(){return s});var r=n(1345),a=n(36),o=n(257);function i(e){return!e.errors||0===Object.keys(e.errors).length}function c(e){return a.b._("Field {fieldDescription} cannot be empty",{fieldDescription:e})}function l(e){return a.b._("Field {fieldDescription} must be a positive number",{fieldDescription:e})}var u=function(e){return r.j.number().default(0).transform(function(e,t){return Object(o.b)(t)}).test("number-field",function(e){return a.b._("Field {fieldDescription} must be a number",{fieldDescription:e})}(e),function(e){return!isNaN(e)})},s=[]},1348:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i});var r=n(47);function a(e,t){var n=Object(r.b)().user;return e.every(n.canQuery)&&t.every(n.canMutate)}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t,[])}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a([],t)}},1350:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(63),a=n(175),o=n(96),i=n(0),c=n.n(i),l=n(1441),u=n(14);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){Object(a.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e){var t=e.width,n=e.minWidth;return d({},!0===e.invalid?{border:"1px solid ".concat(u.a.red),backgroundColor:u.a.errorBackground}:{border:"1px solid ".concat(u.a.greyMiddle)},{margin:u.d.MarginAroundFormComponents,width:void 0!==t?"".concat(t,"rem"):"100%",minWidth:void 0!==n?"".concat(n,"rem"):"8rem"})}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d({},e,{control:function(t,n){var r=d({},t,{},m(n.selectProps));return e.control?e.control(r,n):r},menu:function(t,n){var r=n.selectProps.width,a=d({},t,{zIndex:20,color:u.a.black,width:void 0!==r?"".concat(r,"rem"):"100%"});return e.menu?e.menu(a,n):a},valueContainer:function(t,n){var r=n.selectProps.maxHeight,a=d({},t,{maxHeight:void 0!==r?"".concat(r,"rem"):"100%",overflowY:void 0!==r?"scroll":"hidden"});return e.valueContainer?e.valueContainer(a,n):a},clearIndicator:function(e){return d({},e,{cursor:"pointer"})}})};function p(e){var t=e.hideOnSingleOption,n=void 0!==t&&t,a=Object(r.a)(e,["hideOnSingleOption"]);return n&&a.options&&a.options.length<=1?null:c.a.createElement(l.a,Object.assign({},a,{components:d({ClearIndicator:b},a.components),styles:f(a.styles)}))}function b(e){var t=e.getStyles,n=e.innerProps,a=n.ref,i=Object(r.a)(n,["ref"]);return c.a.createElement("div",Object.assign({},i,{ref:a,style:t("clearIndicator",e)}),c.a.createElement("div",{style:{padding:"0px 5px"}},c.a.createElement(o.Trans,{id:"All"})))}},1363:function(e,t,n){"use strict";var r=n(4),a=n(18),o=n(0),i=n.n(o),c=n(43);function l(){var e=Object(r.a)(["\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  height: 100%;\n"]);return l=function(){return e},e}var u=a.c.div(l()),s=n(157),d=n(14);function m(){var e=Object(r.a)(["\n    margin: 0;\n    grid-row: "," ;\n    grid-column: span 16;\n    height: "," ;\n    position: relative;\n  "]);return m=function(){return e},e}function f(){var e=Object(r.a)(["\n  position: fixed;\n  bottom: 0.5rem;\n  width: ",";\n  left: ",";\n  top: ",";"]);return f=function(){return e},e}n.d(t,"a",function(){return b});var p=a.c.div.withConfig({displayName:"StyledPageLayoutFullHeightItem",componentId:"sc-1mean6j-0"})([""," ",""],Object(c.c)(f(),function(e){return void 0!==e.widthInColumns?"calc(("+e.widthInColumns+" * 6.22vw) - "+d.d.LayoutGridCellMargin+")":"calc(100vh - (2 * "+d.d.LayoutGridCellMargin+"))"},function(e){return void 0!==e.column?"calc(("+e.column+" * 6.22vw) + "+d.d.LayoutGridCellMargin+")":d.d.LayoutGridCellMargin},function(e){return void 0!==e.row?"calc(("+e.row+" * 3.9375rem) + "+d.d.LayoutGridCellMargin+")":"calc(3.9375rem + "+d.d.LayoutGridCellMargin+")"}),Object(c.d)(m(),function(e){return e.rowInMobile},function(e){var t=e.forcePercentHeightInMobile;return t?"calc(".concat(t,"vh - ").concat(d.d.PageHeaderHeight+.25+d.d.DefaultSizeUnit,")"):"unset"})),b=function(e){var t=e.children,n=e.row,r=void 0===n?1:n,a=e.rowInMobile,o=void 0===a?16:a,l=e.column,d=void 0===l?0:l,m=e.widthInColumns,f=void 0===m?16:m,b=e.withScrollArea,v=void 0!==b&&b,g=e.scrollAreaId,O=e.forcePercentHeightInMobile,h=Object(c.f)().isMobile;return i.a.createElement(p,{column:d,row:r,rowInMobile:o,widthInColumns:f,withScrollArea:v,forcePercentHeightInMobile:O},v&&!h?i.a.createElement(u,{id:g},t):i.a.createElement(s.a,{height:100,heightUnit:"%"},t))}},1364:function(e,t,n){"use strict";n.d(t,"c",function(){return h}),n.d(t,"a",function(){return y}),n.d(t,"b",function(){return E});var r=n(175),a=n(59),o=n(52),i=n(15),c=n(0),l=n.n(c),u=n(47),s=n(1350),d=n(176),m=n(1377),f=n(1401),p=n(1400),b=n(1374),v=n(36),g=n(20);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var h=Object(o.d)("branch",null),y=function(){var e=Object(b.a)(),t=h(),n=Object(a.a)(t,2),o=n[0],c=n[1],y=(0,Object(p.a)().getQueryParam)("branchId");l.a.useEffect(function(){y&&c(y)},[c,y]);var E=Object(u.b)().user;l.a.useEffect(function(){if(null===o)return Object(i.when)(function(){return E.isReady},function(){c(E.defaultBranch.id)})});var j={options:e.branches,placeholder:v.b._("Filter branch..."),formatOptionLabel:function(e){return Object(d.b)(e)},hideOnSingleOption:!0,getOptionValue:g.b},w=Object(f.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},j,{onSelectionChange:c,selected:o})),C=Object(m.a)({getOptionFilter:d.b});return l.a.createElement(s.a,Object.assign({},w,C,j))};function E(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(b.a)(),n=h(),r=Object(a.a)(n,1)[0];return null===r&&!0===e?t.defaultBranch.id:r}},1367:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(4),a=n(0),o=n.n(a),i=n(18),c=n(14);function l(){var e=Object(r.a)(["\n  border-top: 1px solid ",";\n  margin: 0.25rem 0rem;\n"]);return l=function(){return e},e}var u=i.c.div(l(),c.a.greyLight),s=function(e){var t=e.visible;return void 0===t||t?o.a.createElement(u,null):null}},1370:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(4);function a(){var e=Object(r.a)(["\n  height: ",";\n"]);return a=function(){return e},e}var o=n(18).c.div(a(),function(e){var t=e.size,n=void 0===t?1:t,r=e.sizeUnit,a=void 0===r?"rem":r;return"".concat(n).concat(a)});o.displayName="VerticalGap"},1374:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(47);function a(){return Object(r.b)().user}},1375:function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f});var r=n(4),a=n(18),o=n(0),i=n.n(o),c=n(43);function l(){var e=Object(r.a)(["\n    grid-template-columns: 1fr;\n    grid-template-areas:\n      'content';\n  "]);return l=function(){return e},e}var u=a.c.div.withConfig({displayName:"StyledFormGrid",componentId:"gzj657-0"})(["display:grid;grid-template-columns:0.1fr [desc] auto [content] 1fr;grid-template-areas:'. desc content';grid-auto-flow:row dense;",";"],Object(c.d)(l())),s=0,d=i.a.createContext(s),m=function(e){return i.a.createElement(u,null,i.a.createElement(d.Provider,{value:++s},e.children))};function f(){return i.a.useContext(d)>0}},1377:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n.n(r);function o(e){var t=e.getOptionFilter,n="function"===typeof t;return{filterOption:a.a.useCallback(function(e,n){return!t||0===n.length||t(e.data).toLocaleLowerCase().includes(n.toLocaleLowerCase())},[t]),isSearchable:n}}},1386:function(e,t,n){var r={"./cs.svg":1387,"./de.svg":1388,"./en.svg":1389,"./pl.svg":1390,"./sk.svg":1391};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=1386},1392:function(e,t,n){var r={"./logo-doveze.svg":1393,"./logo-gopay.svg":1394,"./logo-mastercard.svg":1395,"./logo-visa.svg":1396};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=1392},1400:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(59),a=n(0),o=n.n(a);function i(){var e=window.location.search,t=o.a.useMemo(function(){return new URLSearchParams(e)},[e]);return{getQueryParam:function(e){return t.get(e)},createQueryString:function(e){return Object.entries(e).map(function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(a)}).join("&")}}}},1401:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n.n(r);function o(e){var t=e.options,n=e.selected,r=e.onSelectionChange,o=e.getOptionValue;return{value:a.a.useMemo(function(){return null===n?null:null===t?null:t.find(function(e){return o(e)===n})||null},[n,t,o]),onChange:function(e){r(e?o(e):null)}}}},1416:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=n(18).c.div.withConfig({displayName:"CardDock",componentId:"sc-1fyaqia-0"})(["position:absolute;",";",";"],function(e){var t=e.position;return"BottomRight"===t||"BottomLeft"===t?"bottom: 0":"top: 0"},function(e){var t=e.position;return"BottomLeft"===t||"TopLeft"===t?"left: 0":"right: 0"})},1417:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(51),a=n(396);function o(e){Object(r.d)(function(){return Object(a.b)(e)})}},1419:function(e,t,n){"use strict";var r=n(175),a=n(63),o=n(1345),i=n(51),c=n(0),l=n.n(c),u=n(1350),s=n(1377),d=n(1347);var m=n(20);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}n.d(t,"a",function(){return p});var p=function(e){var t=e.fieldName,n=e.getOptionValue,c=void 0===n?m.b:n,p=e.getOptionFilter,b=Object(a.a)(e,["fieldName","getOptionValue","getOptionFilter"]),v=Object(o.i)(),g=Object(o.d)(t);return Object(i.g)(function(){var e=Object(s.a)({getOptionFilter:p}),t=function(e){var t=e.options,n=e.selected,r=e.onSelectionChange,a=e.getOptionValue;return{value:l.a.useMemo(function(){return Array.isArray(n)?null===t?d.a:t.filter(function(e){return n.includes(a(e))}):null},[n,t,a]),onChange:function(e){r(e?e.map(a):d.a)},isMulti:!0}}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},b,{onSelectionChange:g.setValue,selected:g.value,getOptionValue:c}));return l.a.createElement(u.a,Object.assign({},t,e,b,{onFocus:function(){return g.setTouched()},invalid:g.touched&&g.hasError,isDisabled:v.isSubmitting,getOptionValue:c}))})}},1437:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(4),a=n(18),o=n(1644),i=n(52),c=n(299),l=n(260),u=n(0),s=n.n(u),d=n(1438),m=n(14);function f(){var e=Object(r.a)(["\n  padding: 0.2rem 0.3rem 0.1rem 0.3rem;\n"]);return f=function(){return e},e}var p=Object(l.a)(f()),b=a.c.div.withConfig({displayName:"StyledDelayedTimeMark",componentId:"g9mune-0"})(["background:",";border:2px solid ",";width:0.6rem;height:0.6rem;border-radius:0.7rem;position:absolute;"],m.a.white,m.a.greyMiddle),v=function(e){var t=e.deliverAt,n=e.deliveredAt,r=e.isCancelled,a=void 0!==r&&r,l=e.isDelayed,u=void 0!==l&&l,m=e.onClick,f=!(n||a),v=Object(i.o)({interval:i.b,enabled:f}),g=d.a.UNKNOWN;if(a)return s.a.createElement(d.b,{variant:g,className:p},s.a.createElement(o.a,null));if(!t)return s.a.createElement(d.b,{variant:g},s.a.createElement("span",{role:"img","aria-label":"Unknown"},"\u2754"));var O=Object(c.a)(t,n||v);return g=O>20?d.a.NORMAL:O>0?d.a.WARNING:d.a.CRITICAL,s.a.createElement(s.a.Fragment,null,u&&s.a.createElement(b,null),s.a.createElement(d.b,{minutes:O,variant:g,onClick:m}))}},1438:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return y});var r,a,o=n(4),i=n(175),c=n(18),l=n(260),u=n(0),s=n.n(u),d=n(14);function m(){var e=Object(o.a)(["\n  cursor: pointer;\n"]);return m=function(){return e},e}function f(){var e=Object(o.a)(["\n  font-size: 1.7rem;\n  line-height: 1.6rem;\n  font-weight: bold;\n"]);return f=function(){return e},e}function p(){var e=Object(o.a)(["\n  font-size: 0.8rem;\n"]);return p=function(){return e},e}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING",e[e.NORMAL=3]="NORMAL"}(a||(a={}));var b=c.c.div.withConfig({displayName:"StyledTimeBadge",componentId:"zuoyiw-0"})(["height:2rem;line-height:2rem;width:2rem;border-radius:50%;overflow:hidden;border:1px solid white;color:",";background:",";text-align:center;font-family:'Open Sans',sans-serif;"],d.a.white,d.a.greyMiddle),v=(r={},Object(i.a)(r,a.UNKNOWN,Object(c.c)(b).withConfig({displayName:"UNKNOWN",componentId:"zuoyiw-1"})([""])),Object(i.a)(r,a.CRITICAL,Object(c.c)(b).withConfig({displayName:"CRITICAL",componentId:"zuoyiw-2"})(["background:",";"],d.a.red)),Object(i.a)(r,a.WARNING,Object(c.c)(b).withConfig({displayName:"WARNING",componentId:"zuoyiw-3"})(["background:",";color:",";font-weight:bold;"],d.a.orange,d.a.black)),Object(i.a)(r,a.NORMAL,Object(c.c)(b).withConfig({displayName:"NORMAL",componentId:"zuoyiw-4"})(["background:",";"],d.a.green)),r),g=Object(l.a)(p()),O=Object(l.a)(f()),h=Object(l.a)(m()),y=s.a.forwardRef(function(e,t){var n=e.minutes,r=e.className,o=e.children,i=e.variant,c=e.onClick,u=v[i],d=o,m=["animated"];return void 0!==n&&((n>99||n<-9)&&m.push(g),n<-99?(d="\u2012",m.push(O)):d=n.toString()),c&&m.push(h),s.a.createElement(u,{ref:t,key:n,onClick:c,className:l.b.apply(void 0,[r,{heartBeat:i===a.CRITICAL&&n>0,pulse:i===a.WARNING}].concat(m))},d)})},1439:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(4);function a(){var e=Object(r.a)(["\n  color: inherit;\n  text-decoration-color: rgba(0, 0, 0, 0.08);\n  &:hover {\n    text-decoration-color: rgba(0, 0, 0, 0.5);\n  }\n  &:visited {\n    text-decoration-color: rgba(0, 0, 0, 0.08);\n  }\n"]);return a=function(){return e},e}var o=n(18).c.a(a())},1455:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(18),a=n(14),o=r.c.h2.withConfig({displayName:"CardListTitle",componentId:"dr5aqq-0"})(["color:",";font-weight:lighter;font-size:1.2rem;margin:0.8rem 0 0.8rem 0.3rem;"],a.a.greyLight)},1456:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n.n(r),o=function(e){var t=e.customer;return t?a.a.createElement("span",null,"".concat(t.lastName?"".concat(t.firstName," ").concat(t.lastName):t.defaultPhone?t.defaultPhone.phone:"")):a.a.createElement("i",null,"unknown")}},1481:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(18),a=n(1637),o=n(0),i=n.n(o),c=n(1367),l=n(1346),u=n(36),s=n(14),d=r.c.span.withConfig({displayName:"StyledCurrentNote",componentId:"fzcqzs-0"})(["color:",";"],s.a.orange),m=function(e){var t=e.note;return t?i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,null),i.a.createElement(l.a,{icon:a.a,labelMargin:"0"},i.a.createElement(d,null,t||u.b._("Without note").toLocaleLowerCase()))):null}},1486:function(e,t,n){"use strict";var r=n(4),a=n(96),o=n(179),i=n.n(o),c=n(0),l=n.n(c),u=n(451),s=n(18),d=n(77),m=n(176),f=n(14),p=n(1456),b=n(1437),v=n(1645),g=n(239);function O(){var e=Object(r.a)(["\n  display: inline-block;\n  position: absolute;\n  right: 3.8rem;\n  top: 0;\n"]);return O=function(){return e},e}var h=s.c.div(O()),y=function(){return l.a.createElement(h,{"data-testid":"OrderStarIndicator"},l.a.createElement(g.a,{icon:v.a,color:f.a.orange}))};function E(){var e=Object(r.a)(["\n  font-style: italic;\n  color: ",";\n"]);return E=function(){return e},e}function j(){var e=Object(r.a)(["\n  padding: 0.3rem 0.6rem;\n  display: inline-block;\n  border-top-left-radius: ",";\n  background-color: ",";\n  color: ",";\n"]);return j=function(){return e},e}function w(){var e=Object(r.a)(["\n  color: ",";\n"]);return w=function(){return e},e}function C(){var e=Object(r.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0.1rem;\n    right: -0.3rem;\n    left: 0.9rem;\n    bottom: 0.3rem;\n    border-top: 2px solid ",";\n    transform: rotate(13deg);\n    transform-origin: 0% 0%;\n    opacity: 0.7;\n  }\n"]);return C=function(){return e},e}function k(){var e=Object(r.a)(["\n  flex: 0 0 3.5rem;\n  text-align: right;\n  position: relative;\n"]);return k=function(){return e},e}function P(){var e=Object(r.a)(["\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n"]);return P=function(){return e},e}function N(){var e=Object(r.a)(["\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n"]);return N=function(){return e},e}function S(){var e=Object(r.a)(["\n  flex: 0 0 2rem;\n"]);return S=function(){return e},e}function I(){var e=Object(r.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  padding: 0.4rem;\n"]);return I=function(){return e},e}function D(){var e=Object(r.a)(["\n  text-align: left;\n  cursor: pointer;\n  &:hover {\n    background-color: ",";\n  }\n  &:active {\n    background-color: ",";\n  }\n"]);return D=function(){return e},e}n.d(t,"b",function(){return _}),n.d(t,"a",function(){return B});var x=Object(s.c)(u.Element)(D(),i()(f.a.turquoise).alpha(.05).string(),i()(f.a.turquoise).alpha(.2).string()),A=s.c.div(I()),M=s.c.div(S()),R=s.c.div(N()),L=s.c.div(P()),T=s.c.div(k()),H=s.c.div(C(),f.a.orange),F=s.c.div(w(),f.a.orange),_=s.c.div(j(),f.c.Card,f.a.green,f.a.white),z=s.c.div(E(),f.a.violet),B=function(e){var t=e.order,n=e.isCancelled,r=e.showBranch,o=e.onClick;return l.a.createElement(x,{onClick:o,name:"order-".concat(t.id)},r&&l.a.createElement(_,null,t.companyBranch.name),l.a.createElement(A,null,l.a.createElement(M,null,l.a.createElement(b.a,{deliverAt:t.deliverAt?new Date(t.deliverAt):null,deliveredAt:t.deliveredAt?new Date(t.deliveredAt):null,isCancelled:n,isDelayed:null!==t.delayedDeliveryTime})),l.a.createElement(R,null,null!==t.sector?t.sector.name:t.deliveryType&&t.deliveryType.enum===d.a.Pickup?l.a.createElement(z,null,l.a.createElement(a.Trans,{id:"To pickup"})):t.address.original?t.address.original:Object(m.a)(t.address)),l.a.createElement(L,null,l.a.createElement(p.a,{customer:t.customer})),l.a.createElement(T,null,t.isPriority&&l.a.createElement(y,null),t.totalSum.formattedValue,t.isPaidWithCard&&l.a.createElement(l.a.Fragment,null,l.a.createElement(H,{"data-testid":"PaidMark"}),l.a.createElement(F,null,l.a.createElement(a.Trans,{id:"Paid"}))))))}},1550:function(e,t,n){e.exports=n.p+"static/media/orderNotification.0aa2ebe9.mp3"},1551:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(175),a=n(59),o=(n(1552),n(1345)),i=n(0),c=n.n(i),l=n(1553),u=n.n(l),s=n(77),d=n(1347),m=n(36),f=n(20),p=n(1364);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){Object(r.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=c.a.memo(function(e){var t=e.texts,n=e.data,r=e.onChange;return c.a.createElement(u.a,{texts:t,data:n,onChange:r})}),O=c.a.memo(function(e){var t=e.markAsAvailable,n=Object(p.b)(),i=(0,Object(s.Db)({branch:n}).getStash)(function(e){return e.sectors}),l=c.a.useState(d.a),u=Object(a.a)(l,2),b=u[0],O=u[1],h=Object(o.d)("sectors"),y=null!==i&&i.length>0;c.a.useEffect(function(){null!==i&&O(function(e){var t=e.flatData,n=e.mapper,a=e.getKey,o=void 0===a?f.b:a,i=e.getParentKey,c=void 0===i?function(e){return e.parent?e.parent.id:null}:i;if(!t)return[];var l=Object(r.a)({},"@@",[]);if(t.forEach(function(e){var t=c(e)||"@@";t in l?l[t].push(e):l[t]=[e]}),!("@@"in l))return[];return l["@@"].map(function(e){return function e(t){var r=o(t);return v({},t,{},n(t),r in l?{children:l[r].map(function(t){return e(t)})}:{children:d.a})}(e)})}({flatData:i,mapper:function(e){return{label:e.name,value:e.id}}}))},[i]),c.a.useEffect(function(){t&&t(y)},[y,t]);var E=c.a.useCallback(function(e,t){h.setValue(t.map(f.a.prop("value")))},[h]),j=c.a.useMemo(function(){return{placeholder:m.b._("Filter by sectors"),noMatches:m.b._("No sectors")}},[]);return y?c.a.createElement(g,{texts:j,data:b,onChange:E}):null})},1552:function(e,t,n){},2796:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(57),i=n(258),c=n(124),l=n(461),u=n(96),s=n(43),d=n(437),m=n(1364),f=n(77),p=n(36),b=n(1363),v=n(440),g=n(18),O=n(1632),h=n(2734),y=n(1345),E=n(51),j=n(254),w=n(239),C=n(157),k=n(433),P=n(1370),N=n(1347),S=n(20),I=n(1419),D=a.a.memo(function(e){var t=e.markAsAvailable,n=Object(m.b)(),r=Object(f.Bb)({branch:n}),o=r.getStash,i=r.loading,c=o(function(e){return e.occasions}),l=null!==c&&c.length>0;return a.a.useEffect(function(){t&&t(l)},[l,t]),a.a.createElement(I.a,{fieldName:"occasions",placeholder:p.b._("Filter by occasions"),options:c||N.a,noOptionsMessage:function(){return p.b._("No occasions")},isLoading:i,getOptionLabel:S.a.prop("title"),getOptionFilter:S.a.prop("title")})}),x=n(1551),A=n(369);function M(e,t){return a.a.memo(a.a.forwardRef(function(n,r){return a.a.createElement(A.a,Object.assign({"data-mui-test":"".concat(t,"Icon"),ref:r},n),e)}))}var R=M(a.a.createElement("path",{d:"M14.76,20.83L17.6,18L14.76,15.17L16.17,13.76L19,16.57L21.83,13.76L23.24,15.17L20.43,18L23.24,20.83L21.83,22.24L19,19.4L16.17,22.24L14.76,20.83M12,12V19.88C12.04,20.18 11.94,20.5 11.71,20.71C11.32,21.1 10.69,21.1 10.3,20.71L8.29,18.7C8.06,18.47 7.96,18.16 8,17.87V12H7.97L2.21,4.62C1.87,4.19 1.95,3.56 2.38,3.22C2.57,3.08 2.78,3 3,3V3H17V3C17.22,3 17.43,3.08 17.62,3.22C18.05,3.56 18.13,4.19 17.79,4.62L12.03,12H12Z"}),"FilterDisable"),L=M(a.a.createElement("path",{d:"M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3V3H19V3C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z"}),"FilterEnable"),T=n(156),H=n(14),F=Object(g.c)(O.a).withConfig({displayName:"StyledPopup",componentId:"nzv42l-0"})([".MuiPopover-paper{width:30rem;overflow-x:initial;overflow-y:initial;}.close-button{margin:-0.9rem -0.7rem 0rem auto;padding:0.7rem;display:block;width:3rem;text-align:right;}"]),_=a.a.memo(function(){var e=Object(y.h)(),t=a.a.useRef(null),n=Object(E.e)(function(){return{isOpen:!1,setOpen:function(){this.isOpen=!0},setClosed:function(){this.isOpen=!1},sectorsAvailable:!1,markSectorsAvailable:function(e){this.sectorsAvailable=e},occassionsAvailable:!1,markOccasionsAvailable:function(e){this.occassionsAvailable=e},get isEnabled(){return this.sectorsAvailable||this.occassionsAvailable},get isActive(){var t=e.state,n=t.values;return t.wasSubmitted&&(n.occasions.length>0||n.sectors.length)}}});return Object(E.g)(function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,null,a.a.createElement(T.a,{color:n.isActive?H.a.green:H.a.greyMiddle,icon:n.isActive?R:L,ref:t,iconSize:2,onClick:n.setOpen,disabled:!n.isEnabled})),a.a.createElement(F,{open:n.isOpen,keepMounted:!0,onClose:function(t,r){"backdropClick"===r&&e.api.submitForm(),n.setClosed()},anchorEl:t.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},a.a.createElement(j.a,{padding:1},a.a.createElement(w.a,{icon:h.a,color:H.a.greyMiddle,fontSize:1,className:"close-button",onClick:function(){e.api.submitForm(),n.setClosed()}}),a.a.createElement(x.a,{markAsAvailable:n.markSectorsAvailable}),a.a.createElement(P.a,null),a.a.createElement(D,{markAsAvailable:n.markOccasionsAvailable}),a.a.createElement(P.a,null),a.a.createElement(C.a,{width:9,height:H.d.ButtonHeight},a.a.createElement(T.a,{text:p.b._("Filter"),color:H.a.green,onClick:function(){e.api.submitForm(),n.setClosed()}})))))})}),z=n(59),B=n(175),V=n(1417);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach(function(t){Object(B.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var K=[f.f.NewOrders,f.f.Preparing,f.f.ReadyToDeliver],G=S.a.sortWith([S.a.descend(S.a.prop("isPriority")),S.a.ascend(S.a.prop("orderNumber")),S.a.ascend(S.a.either(S.a.prop("deliverAt"),S.a.prop("createdAt")))]);function q(e){var t=e.branch,n=e.sectors,r=null===t,a={branches:[t],occasions:e.occasions,sectors:n},o=Object(f.Fb)(U({},a,{categories:K}),{skip:r}),i=o.getStash,c=o.updateQuery,l=o.refetch;return Object(V.a)(l),Object(f.wc)(U({},a,{categories:K.concat(f.f.Finished)}),{skip:r,onSubscriptionData:function(e){var t=e.subscriptionData.data;t&&c(function(e){return function(e,t){var n=e.updatedOrder.order;if(!n||!t.orders)return t;if(!K.includes(n.orderStateCategory))return{orders:t.orders.filter(function(e){return e.id!==n.id})};var r=!1,a=t.orders.map(function(e){return e.id===n.id?(r=!0,n):e});r||a.unshift(n);return{orders:a}}(t,e)})}}),i(function(e){return G(e.orders)})}var Q=n(15);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(){var e=Object(m.b)(!1),t=a.a.useState({occasions:[],sectors:[]}),n=Object(z.a)(t,2),r=n[0],o=n[1],i=a.a.useCallback(function(e){o(Object(Q.toJS)(e))},[]);return[a.a.useMemo(function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach(function(t){Object(B.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r,{branch:e})},[e,r]),i]}var Y=a.a.createContext(null),X=Object(E.b)(function(e){var t=Z(),n=Object(z.a)(t,2),r=n[0],o=n[1],i=q(r);return a.a.createElement(y.a,{initialValues:r,onSubmit:o},a.a.createElement(Y.Provider,{value:i},e.children))});var $=n(1455),ee=n(47),te=n(1550),ne=n.n(te),re=n(459),ae=a.a.memo(function(e){var t=e.shouldPlay,n=e.playNow,r=void 0!==n&&n,a=Object(ee.b)().config;return Object(re.a)({soundUrl:ne.a,intervalSec:a.orderListSoundIntervalSec,forcePlayNow:r,shouldPlay:t})}),oe=n(4);function ie(){var e=Object(oe.a)(["\n  margin: 0 0.5rem;\n"]);return ie=function(){return e},e}var ce,le,ue=g.c.div(ie()),se=(ce={},Object(B.a)(ce,f.e.Fresh,"todo"),Object(B.a)(ce,f.e.Preparing,"progress"),Object(B.a)(ce,f.e.Ready,"progress"),Object(B.a)(ce,f.e.Cooked,"done"),ce),de=(le={},Object(B.a)(le,f.f.NewOrders,"todo"),Object(B.a)(le,f.f.Preparing,"progress"),Object(B.a)(le,f.f.ReadyToDeliver,"done"),le);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach(function(t){Object(B.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var pe=Object.keys(de);function be(e){var t=e.branch,n=null===t,r={branches:[t],occasions:e.occasions,sectors:e.sectors},a=Object(f.Gb)(fe({},r,{categories:pe}),{skip:n}),o=a.getStash,i=a.updateQuery,c=a.refetch;return Object(V.a)(c),Object(f.xc)(fe({},r,{categories:pe.concat(f.f.Finished)}),{skip:n,onSubscriptionData:function(e){var t=e.subscriptionData.data;t&&i(function(e){return function(e,t){var n=e.updatedOrder.order;if(!n||!t.orders)return t;if(!pe.includes(n.orderStateCategory))return{orders:t.orders.filter(function(e){return e.id!==n.id})};var r=!1,a=t.orders.map(function(e){return e.id===n.id?(r=!0,n):e});r||a.unshift(n);return{orders:a}}(t,e)})}}),o(function(e){return function(e){var t=e.map(ve);return S.a.groupBy(function(e){return e.state},t)}(e.orders)})}function ve(e){return fe({},e,{type:"order",state:de[e.orderStateCategory],time:e.deliverAt||e.createdAt,items:e.items.map(ge)})}function ge(e){return{id:e.id,code:e.recipe.code,name:e.recipe.name,state:se[e.state.enum],isReady:"done"===se[e.state.enum],sideDishes:e.sidedishes.map(S.a.prop("recipe"))}}var Oe=n(1416),he=n(1486),ye=n(2783),Ee=function(e){return a.a.createElement(T.a,Object.assign({icon:ye.a,width:H.d.ButtonHeight+H.d.DefaultSizeUnit,color:H.a.green},e))},je=n(69),we=n.n(je),Ce=n(112),ke=n(1348);function Pe(){var e=Object(ke.b)("addOrderState"),t=Object(ke.b)("updateOrderRecipeState"),n=Object(ke.b)("updateSectorRecipes"),r=Object(ke.b)("updateSectorRecipe"),o=Object(f.O)(),i=Object(z.a)(o,1)[0],c=Object(f.P)(),l=Object(z.a)(c,1)[0],u=Object(f.Q)(),s=Object(z.a)(u,1)[0],d=Object(f.R)(),m=Object(z.a)(d,1)[0];return{canHandleCard:function(t){if("todo"===t.state){if("order"===t.type||"completion"===t.type)return e;if("sector"===t.type)return n}return"sector"===t.type&&"done"===t.state?n:"completion"===t.type&&"done"===t.state&&e},canHandleCardItem:function(e){if("todo"!==e.state){if("order"===e.type||"completion"===e.type)return t;if("sector"===e.type)return r}return!1},handleCard:a.a.useCallback(function(){var e=Object(Ce.a)(we.a.mark(function e(t){return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("order"!==t.type){e.next=3;break}return e.next=3,i({orderId:t.id,state:f.g.InProduce});case 3:if("sector"!==t.type){e.next=10;break}if("todo"!==t.state){e.next=7;break}return e.next=7,s({sectorId:t.id,state:f.e.Preparing});case 7:if("done"!==t.state){e.next=10;break}return e.next=10,s({sectorId:t.id,state:f.e.Finished});case 10:if("completion"!==t.type){e.next=17;break}if("todo"!==t.state){e.next=14;break}return e.next=14,i({orderId:t.id,state:f.g.Accepted});case 14:if("done"!==t.state){e.next=17;break}return e.next=17,i({orderId:t.id,state:f.g.Finished});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[i,s]),handleCardItem:a.a.useCallback(function(){var e=Object(Ce.a)(we.a.mark(function e(t,n){var r;return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ne(t,n),"order"!==t.type&&"completion"!==t.type){e.next=4;break}return e.next=4,l({orderRecipeId:n.id,state:r});case 4:if("sector"!==t.type){e.next=11;break}return e.next=7,m({sectorRecipeId:n.id,state:r});case 7:if(n.isReady=r===f.e.Ready,!t.items.every(S.a.propEq("isReady",!0))){e.next=11;break}return e.next=11,s({sectorId:t.id,state:f.e.Cooked});case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),[l,s,m])}}function Ne(e,t){switch(t.state){case"todo":case"progress":return"sector"===e.type?t.isReady?f.e.Preparing:f.e.Ready:f.e.Cooked;case"done":return f.e.Preparing}}function Se(){var e=Object(oe.a)(["\n  background: ",";\n  border-radius: 50%;\n  margin: 0;\n  width: 70%;\n  height: 70%;\n  overflow: auto;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n"]);return Se=function(){return e},e}function Ie(){var e=Object(oe.a)(["\n  background: ",";\n  border: 2px solid ",";\n  width: 2.1rem;\n  height: 2.1rem;\n  position: relative;\n  border-radius: 50%;\n  margin-bottom: ",";\n"]);return Ie=function(){return e},e}var De=g.c.div(Ie(),H.a.white,H.a.green,H.d.Small),xe=g.c.div(Se(),H.a.green),Ae=function(e){var t=e.isChecked,n=e.onClick;return a.a.createElement(De,{onClick:n},t&&a.a.createElement(xe,null))};function Me(){var e=Object(oe.a)(["\n  margin-top: -0.8rem;\n"]);return Me=function(){return e},e}var Re=Object(g.b)(Me()),Le=g.c.div.withConfig({displayName:"StyledKitchenCardItem",componentId:"sc-683lfw-0"})(["display:flex;justify-content:space-between;",";& .done-container{flex:0 0 2.4rem;}& .item-code{flex:0 0 4.1rem;font-size:",";color:",";margin-top:0.35rem;}& .item-name{flex:1 0;color:",";margin:0.4rem 0 0 0.5rem;}"],function(e){return e.isFirstSidedish&&Re},H.b.CompactCardBig,H.a.black,H.a.greyMiddle),Te=function(e){var t=e.item,n=e.isChecked,r=void 0!==n&&n,o=e.canHandle,i=void 0!==o&&o,c=e.onHandle,l=e.isFirstSidedish,u=void 0!==l&&l;return a.a.createElement(Le,{isFirstSidedish:u},a.a.createElement("div",{className:"done-container"},i&&c&&a.a.createElement(Ae,{isChecked:r,onClick:c})),a.a.createElement("div",{className:"item-code"},t.code),a.a.createElement("div",{className:"item-name"},t.name))},He=function(e){var t=e.items,n=e.canHandle,o=e.onHandle;return a.a.createElement("div",null,t.map(function(e){return a.a.createElement(r.Fragment,{key:e.id},a.a.createElement(Te,{item:e,isChecked:e.isReady,canHandle:n,onHandle:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return o(e)})}),a.a.createElement(a.a.Fragment,null,e.sideDishes.map(function(t,r){return a.a.createElement(Te,{key:"".concat(e.id,"-").concat(t.id),item:t,isFirstSidedish:0===r&&n})})))}))},Fe=n(1645);function _e(){var e=Object(oe.a)(["\n  display: inline-block;\n  position: absolute;\n  right: 0.2rem;\n  top: 0.2rem;\n  z-index: 5;\n"]);return _e=function(){return e},e}var ze=g.c.div(_e()),Be=function(){return a.a.createElement(ze,{"data-testid":"KitchenOrderStarIndicator"},a.a.createElement(w.a,{color:H.a.orange,icon:Fe.a}))},Ve=g.c.div.withConfig({displayName:"StyledKitchenCardCompletion",componentId:"sc-131hbj7-0"})(["font-size:",";background-color:",";color:",";border-radius:",";margin-bottom:",";padding-bottom:",";position:relative;& .header{display:flex;flex-wrap:nowrap;}& .order__number{width:4.5rem;background:",";color:",";font-size:2rem;border-top-left-radius:",";text-align:center;}& .order__source{display:inline-block;background:",";color:",";font-size:0.9rem;padding:0.1rem 0.8rem;border-radius:0.9rem;margin:0.5rem;}& .order__sector{display:inline-block;color:",";margin:0.5rem;}& .order__content{margin:",";}"],H.b.CompactCard,H.a.white,H.a.greyDarkest,H.c.Card,H.d.Middle,H.d.Middle,H.a.orange,H.a.white,H.c.Card,H.a.greyMiddle,H.a.white,H.a.black,H.d.Middle),We=function(e){var t=e.card,n=e.showBranch,r=Pe();return a.a.createElement(Ve,{"data-testid":"order-box"},n&&a.a.createElement(he.b,null,t.companyBranch.name),a.a.createElement("div",{className:"header"},a.a.createElement("div",{className:"order__number"},t.orderNumber),a.a.createElement("div",{className:"order__source"},"".concat(t.orderOrigin.code," ").concat(null!==t.cashBox?t.cashBox.id:"")),t.sector&&a.a.createElement("div",{className:"order__sector"},t.sector.name),t.isPriority&&a.a.createElement(Be,null)),a.a.createElement("div",{className:"order__content"},a.a.createElement(He,{items:t.items,canHandle:r.canHandleCardItem(t),onHandle:function(e){return r.handleCardItem(t,e)}}),t.note&&a.a.createElement("div",{className:"order__note"},t.note)),r.canHandleCard(t)&&a.a.createElement(Oe.a,{position:"BottomRight"},a.a.createElement(Ee,{color:"todo"===t.state?H.a.green:H.a.red,onClick:function(){return r.handleCard(t)}})))};function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Ke=Object(E.b)(function(e){var t=e.category,n=e.noOrdersMessage,r=e.mobileHeadline,o=Object(ee.b)().order,i=Object(m.b)(!1),c=a.a.useContext(Y);if(!i)return a.a.createElement(ue,null,a.a.createElement(u.Trans,{id:"Select a branch"}));if(null===c)return a.a.createElement(ue,null,a.a.createElement(u.Trans,{id:"Loading"}));var l=c.filter(S.a.propEq("orderStateCategory",t)).map(Ge);if(0===l.length)return a.a.createElement(ue,null,n);var d=t===f.f.NewOrders;return a.a.createElement(a.a.Fragment,null,r&&a.a.createElement(s.b,null,a.a.createElement($.a,null,r)),a.a.createElement("div",{"data-testid":"order-list-".concat(t)},l.map(function(e){return a.a.createElement(We,{key:e.id,card:e,showBranch:o.list.branchesFilter.length>1})})),a.a.createElement(ae,{shouldPlay:d,playNow:!0}))});function Ge(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(n,!0).forEach(function(t){Object(B.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{type:"completion",state:de[e.orderStateCategory],time:e.deliverAt||e.createdAt,items:e.items.map(ge)})}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(n,!0).forEach(function(t){Object(B.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Je=Object.keys(se);function Ze(e){var t=e.branch,n=null===t,r={branch:t,sectors:e.sectors},a=Object(f.Hb)(Qe({},r,{states:Je}),{skip:n}),o=a.getStash,i=a.updateQuery,c=a.refetch;return Object(V.a)(c),Object(f.yc)(Qe({},r,{states:Je.concat(f.e.Finished,f.e.Canceled)}),{skip:n,onSubscriptionData:function(e){var t=e.subscriptionData.data;t&&i(function(e){return function(e,t){var n=e.updatedSectorRecipe.sectorRecipe;if(!n||!t.sectorRecipes)return t;if(!Je.includes(n.state.enum))return Qe({},t,{sectorRecipes:t.sectorRecipes.filter(function(e){return e.id!==n.id})});var r=!1,a=t.sectorRecipes.map(function(e){return e.id===n.id?(r=!0,n):e});r||a.unshift(n);return Qe({},t,{sectorRecipes:a})}(t,e)})}}),o(function(e){return function(e,t){var n=function(e,t){return"".concat(e,"-").concat(t)},r=S.a.mapObjIndexed(function(){return[]},S.a.invertObj(se)),a=S.a.groupBy(function(e){var t=e.sector,r=e.state;return n(t.id,se[r.enum])},e),o=S.a.sortBy(S.a.prop("createdAt"));return t.reduce(function(e,t){return S.a.mapObjIndexed(function(e,r){var i=n(t.id,r),c=a[i];if(c){var l=o(c),u=l.map(function(e){return{id:e.id,code:e.recipe.code,name:e.recipe.name,state:se[e.state.enum],isReady:[f.e.Ready,f.e.Cooked].includes(e.state.enum),sideDishes:e.sideDishes.map(S.a.prop("recipe"))}});return e.concat({id:t.id,type:"sector",name:t.name,time:l[0].createdAt,state:r,isPriority:!1,items:u})}return e},e)},r)}(e.sectorRecipes,e.sectors)})}var Ye=S.a.sortWith([S.a.descend(S.a.prop("isPriority")),S.a.ascend(S.a.prop("time"))]),Xe=a.a.createContext(null),$e=Object(E.b)(function(e){var t=e.children,n=Z(),r=Object(z.a)(n,2),o=r[0],i=r[1],c=be(o),l=Ze(o),u=c&&l&&S.a.mergeDeepWith(S.a.concat,c,l),s=u&&S.a.mapObjIndexed(Ye,u);return a.a.createElement(y.a,{initialValues:o,onSubmit:i},a.a.createElement(Xe.Provider,{value:s},t))});var et=n(1367),tt=n(1439),nt=n(176),rt=n(1456),at=n(1437),ot=n(1481),it=n(1636),ct=n(1346);function lt(){var e=Object(oe.a)(["\n  color: ",";\n  font-weight: bold;\n  display: inline-block;\n  margin-left: 0.3rem;\n"]);return lt=function(){return e},e}function ut(){var e=Object(oe.a)(["\n  color: ",";\n"]);return ut=function(){return e},e}var st=g.c.span(ut(),H.a.greyDark),dt=g.c.div(lt(),H.a.black),mt=function(e){switch(e.deliverType){case"DELIVER_UNTIL":return a.a.createElement(st,null,a.a.createElement(u.Trans,{id:"Deliver until"}));case"DELIVER_AT_SPECIFIC_TIME":return a.a.createElement(st,null,a.a.createElement(u.Trans,{id:"Deliver at"}));case"PERSONAL":return a.a.createElement(st,null,a.a.createElement(u.Trans,{id:"Personal pickup at"}));default:return null}},ft=function(e){var t=e.deliverTime,n=e.deliverType;return a.a.createElement(ct.a,{icon:it.a,labelMargin:"0"},a.a.createElement(mt,{deliverType:n}),t&&a.a.createElement(dt,null,Object(nt.i)(t)))},pt=g.c.div.withConfig({displayName:"StyledKitchenCardOrder",componentId:"sc-1ddfdmp-0"})(["font-size:",";background-color:",";color:",";border-radius:",";margin-bottom:",";position:relative;.order-ticker{display:flex;flex-wrap:nowrap;justify-content:space-between;padding:0.2rem;color:",";}.details{padding:0 0.2rem 0.1rem 0.2rem;position:relative;}.delivery-time-badge-container{flex:0 0 1.8rem;}.address-container{flex:1 0;padding:0 0 0 0.5rem;}.customer-identity-container{flex:1 0;padding:0 0 0 0.5rem;}.pickup-label{font-style:italic;}"],H.b.CompactCard,H.a.white,H.a.greyDarkest,H.c.Card,H.d.Middle,H.a.greyMiddle),bt=function(e){var t=e.card,n=e.onHandle,r=e.onHandleRecipe,o=e.canHandle,i=e.canHandleRecipe;return a.a.createElement(pt,null,a.a.createElement("div",{className:"order-ticker"},a.a.createElement("div",{className:"delivery-time-badge-container"},a.a.createElement(at.a,{deliverAt:t.deliverAt?new Date(t.deliverAt):null,deliveredAt:t.deliveredAt?new Date(t.deliveredAt):null,isCancelled:!1,isDelayed:null!==t.delayedDeliveryTime})),a.a.createElement("div",{className:"address-container"},null!==t.sector?t.sector.name:t.deliveryType&&t.deliveryType.enum===f.a.Pickup?a.a.createElement("div",{className:"pickup-label"},a.a.createElement(u.Trans,{id:"To pickup"})):Object(nt.a)(t.address)),a.a.createElement("div",{className:"customer-identity-container"},a.a.createElement(rt.a,{customer:t.customer}),a.a.createElement("br",null),t.customer&&t.customer.defaultPhone?a.a.createElement(tt.a,{href:"tel:".concat(t.customer.defaultPhone.phone.toString().replace("/ /g",""))},t.customer.defaultPhone.phone):null)),a.a.createElement("div",{className:"details"},a.a.createElement(et.a,null),t.isPriority&&a.a.createElement(Be,null),a.a.createElement(He,{items:t.items,canHandle:i,onHandle:function(e){return r(t,e)}}),a.a.createElement(et.a,null),a.a.createElement(ft,{deliverTime:t.deliverAt,deliverType:t.deliveryType&&t.deliveryType.enum===f.a.Pickup?"PERSONAL":"DELIVER_UNTIL"}),a.a.createElement(ot.a,{note:t.note}),o&&a.a.createElement(Oe.a,{position:"BottomRight"},a.a.createElement(Ee,{onClick:function(){return n(t)}}))))},vt=g.c.div.withConfig({displayName:"StyledKitchenCardSector",componentId:"so8yz6-0"})(["font-size:",";background-color:",";color:",";border-radius:",";margin-bottom:",";position:relative;.details{padding:0 0.2rem 0.1rem 0.2rem;position:relative;}.sector-name{padding:0.3rem 0 0.3rem 2.5rem;font-size:1.1rem;}"],H.b.CompactCard,H.a.white,H.a.greyDarkest,H.c.Card,H.d.Middle),gt=function(e){var t=e.card,n=e.canHandle,r=e.canHandleRecipe,o=e.onHandle,i=e.onHandleRecipe;return a.a.createElement(vt,null,a.a.createElement("div",{className:"sector-name"},t.name),a.a.createElement("div",{className:"details"},a.a.createElement(et.a,null),a.a.createElement(He,{items:t.items,canHandle:r,onHandle:function(e){return i(t,e)}}),n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(et.a,null),a.a.createElement(Oe.a,{position:"BottomRight"},a.a.createElement(Ee,{color:"todo"===t.state?H.a.green:H.a.pink,onClick:function(){return o(t)}})))))},Ot=Object(E.b)(function(e){var t=e.state,n=e.noCardsMessage,r=e.mobileHeadline,o=function(e){var t=a.a.useContext(Xe);return t&&t[e]}(t),i=Pe();if(null===o)return a.a.createElement(ue,null,a.a.createElement(u.Trans,{id:"Loading"}));if(0===o.length)return a.a.createElement(ue,null,n);var c="todo"===t;return a.a.createElement(a.a.Fragment,null,r&&a.a.createElement(s.b,null,a.a.createElement($.a,null,r)),a.a.createElement(ae,{shouldPlay:c,playNow:!0}),o.map(function(e){var t={key:"".concat(e.type,"-").concat(e.id),canHandle:i.canHandleCard(e),canHandleRecipe:i.canHandleCardItem(e),onHandle:i.handleCard,onHandleRecipe:i.handleCardItem};return"order"===e.type?a.a.createElement(bt,Object.assign({card:e},t)):"sector"===e.type?a.a.createElement(gt,Object.assign({card:e},t)):null}))}),ht=g.c.div.withConfig({displayName:"StyledKitchenFilterContainer",componentId:"wn9e7b-0"})(["position:absolute;left:16rem;top:0.4rem;width:calc(100vw - 36rem);z-index:120;"]),yt=g.c.div.withConfig({displayName:"KitchenCategorySeparator",componentId:"wn9e7b-1"})(["border:1px solid ",";width:1px;height:100%;position:absolute;left:-5px;top:0rem;"],H.a.white),Et=function(){return a.a.createElement($e,null,a.a.createElement(v.a,{pageTitle:p.b._("Kitchen"),useBackButton:!0,showSoundControl:!0,topContent:a.a.createElement(_,null)},a.a.createElement(s.a,null,a.a.createElement(ht,null,a.a.createElement(m.a,null))),a.a.createElement(s.b,null,a.a.createElement(d.a,{gridRowInMobile:1},a.a.createElement(m.a,null))),a.a.createElement(b.a,{withScrollArea:!0,row:1,rowInMobile:2,widthInColumns:5},a.a.createElement(Ot,{state:"todo",noCardsMessage:a.a.createElement(u.Trans,{id:"No new orders"}),mobileHeadline:a.a.createElement(u.Trans,{id:"New orders"})})),a.a.createElement(b.a,{withScrollArea:!0,row:1,rowInMobile:3,column:5,widthInColumns:6},a.a.createElement(Ot,{state:"progress",noCardsMessage:a.a.createElement(u.Trans,{id:"No orders to prepare"}),mobileHeadline:a.a.createElement(u.Trans,{id:"Orders to prepare"})}),a.a.createElement(s.a,null,a.a.createElement(yt,null))),a.a.createElement(b.a,{withScrollArea:!0,row:1,rowInMobile:4,column:11,widthInColumns:5},a.a.createElement(Ot,{state:"done",noCardsMessage:a.a.createElement(u.Trans,{id:"No orders to deliver"}),mobileHeadline:a.a.createElement(u.Trans,{id:"Orders to deliver"})}),a.a.createElement(s.a,null,a.a.createElement(yt,null)))))},jt=function(){return a.a.createElement(X,null,a.a.createElement(v.a,{pageTitle:p.b._("Completion"),useBackButton:!0,showSoundControl:!0,topContent:a.a.createElement(_,null)},a.a.createElement(s.a,null,a.a.createElement(ht,null,a.a.createElement(m.a,null))),a.a.createElement(s.b,null,a.a.createElement(d.a,{gridRowInMobile:1},a.a.createElement(m.a,null))),a.a.createElement(b.a,{withScrollArea:!0,row:1,rowInMobile:2,widthInColumns:5},a.a.createElement(Ke,{category:f.f.NewOrders,noOrdersMessage:a.a.createElement(u.Trans,{id:"No new orders"}),mobileHeadline:a.a.createElement(u.Trans,{id:"New orders"})})),a.a.createElement(b.a,{withScrollArea:!0,row:1,rowInMobile:3,column:5,widthInColumns:6},a.a.createElement(Ke,{category:f.f.Preparing,noOrdersMessage:a.a.createElement(u.Trans,{id:"No orders to complete"}),mobileHeadline:a.a.createElement(u.Trans,{id:"Orders to complete"})}),a.a.createElement(s.a,null,a.a.createElement(yt,null))),a.a.createElement(b.a,{withScrollArea:!0,row:1,rowInMobile:4,column:11,widthInColumns:5},a.a.createElement(Ke,{category:f.f.ReadyToDeliver,noOrdersMessage:a.a.createElement(u.Trans,{id:"No orders to hand over"}),mobileHeadline:a.a.createElement(u.Trans,{id:"Orders to hand over"})}),a.a.createElement(s.a,null,a.a.createElement(yt,null)))))};n.d(t,"KitchenRouting",function(){return wt});var wt=function(){return a.a.createElement(o.e,null,a.a.createElement(c.a,{exact:!0,path:l.a,component:Et}),a.a.createElement(c.a,{path:l.b,component:jt}),a.a.createElement(o.c,{component:i.a}))};t.default=wt}}]);
//# sourceMappingURL=374.3678a34d.chunk.js.map