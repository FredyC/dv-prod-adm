(window.webpackJsonp=window.webpackJsonp||[]).push([[177],{1456:function(e,n,t){"use strict";t.d(n,"a",function(){return f});var r=t(5),a=t(2607),o=t(0),i=t.n(o),c=t(26),l=t(43),u=t(19),d=t(185);function s(){var e=Object(r.a)(["\n  display: flex;\n\n  div.description {\n    margin: ",";\n    min-width: ",";\n    flex: 0 0 auto;\n    text-align: right;\n  }\n\n  div.contents {\n    margin-left: 0.5rem;\n    align-self: stretch;\n    flex: 1 1 auto;\n  }\n\n  div.label {\n    padding-top: 0.2rem;\n    display: inline-block;\n  }\n"]);return s=function(){return e},e}var m=c.default.div(s(),function(e){return e.labelMargin},function(e){var n=e.labelWidth,t=e.labelWidthUnits;return"".concat(n).concat(t)}),f=function(e){var n=e.icon,t=e.label,r=e.labelWidth,o=void 0===r?0:r,c=e.labelWidthUnits,s=void 0===c?u.d.DefaultSizeUnit:c,f=e.labelMargin,v=void 0===f?"0.5rem 0.2rem 0 auto":f,p=e.children,g=n;return"string"===typeof n&&(Object(l.c)('IconLine: Do not use icon prop as string! Replace "'.concat(n,'" with the one imported from @material-ui/icons.')),g=a.a),i.a.createElement(m,{labelWidth:o,labelWidthUnits:s,labelMargin:v},i.a.createElement("div",{className:"description"},i.a.createElement(d.a,{icon:g,color:u.a.greyDark}),t?i.a.createElement("div",{className:"label"},t):null),i.a.createElement("div",{className:"contents"},p))}},1457:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var r=t(62),a=t(0),o=t.n(a),i=t(1465),c=t(57),l=function(e){var n=e.mutationName,t=e.children,a=Object(c.b)().user;return Object(r.useObserver)(function(){return a.canMutate(n)?o.a.createElement(o.a.Fragment,null,t):o.a.createElement(i.a,null,"No access to mutation ".concat(n))})}},1458:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var r=t(46),a=t(0),o=t.n(a),i=t(1521),c=t(19),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)({},e,{control:function(n,t){var a=t.selectProps,o=a.width,i=a.minWidth,l=Object(r.a)({},n,{border:"1px solid ".concat(c.a.greyMiddle),margin:c.d.MarginAroundFormComponents,width:void 0!==o?"".concat(o,"rem"):"100%",minWidth:void 0!==i?"".concat(i,"rem"):"8rem"});return e.control?e.control(l,t):l},menu:function(n,t){var a=t.selectProps.width,o=Object(r.a)({},n,{zIndex:20,color:c.a.black,width:void 0!==a?"".concat(a,"rem"):"100%"});return e.menu?e.menu(o,t):o},valueContainer:function(n,t){var a=t.selectProps.maxHeight,o=Object(r.a)({},n,{maxHeight:void 0!==a?"".concat(a,"rem"):"100%",overflowY:void 0!==a?"scroll":"hidden"});return e.valueContainer?e.valueContainer(o,t):o}})};function u(e){return o.a.createElement(i.b,Object.assign({},e,{styles:l(e.styles)}))}},1460:function(e,n,t){"use strict";t.d(n,"a",function(){return v});var r=t(5),a=t(26),o=t(0),i=t.n(o),c=t(55),l=t(1487),u=t(141),d=t(19);function s(){var e=Object(r.a)(["\n    margin: 0;\n    grid-row: "," ;\n    grid-column: span 16;\n    height: "," ;\n    position: relative;\n  "]);return s=function(){return e},e}function m(){var e=Object(r.a)(["\n  position: fixed;\n  bottom: 0.5rem;\n  width: ",";\n  left: ",";\n  top: ",";"]);return m=function(){return e},e}var f=a.default.div.withConfig({displayName:"PageLayoutFullHeightItem__StyledPageLayoutFullHeightItem",componentId:"sc-1mean6j-0"})([""," ",""],Object(c.c)(m(),function(e){return void 0!==e.widthInColumns?"calc(("+e.widthInColumns+" * 6.22vw) - "+d.d.LayoutGridCellMargin+")":"calc(100vh - (2 * "+d.d.LayoutGridCellMargin+"))"},function(e){return void 0!==e.column?"calc(("+e.column+" * 6.22vw) + "+d.d.LayoutGridCellMargin+")":d.d.LayoutGridCellMargin},function(e){return void 0!==e.row?"calc(("+e.row+" * 3.9375rem) + "+d.d.LayoutGridCellMargin+")":"calc(3.9375rem + "+d.d.LayoutGridCellMargin+")"}),Object(c.d)(s(),function(e){return e.rowInMobile},function(e){var n=e.forcePercentHeightInMobile;return n?"calc(".concat(n,"vh - ").concat(d.d.PageHeaderHeight+.25+d.d.DefaultSizeUnit,")"):"unset"})),v=function(e){var n=e.children,t=e.row,r=void 0===t?1:t,a=e.rowInMobile,o=void 0===a?16:a,c=e.column,d=void 0===c?0:c,s=e.widthInColumns,m=void 0===s?16:s,v=e.withScrollArea,p=void 0!==v&&v,g=e.scrollAreaId,h=e.forcePercentHeightInMobile;return i.a.createElement(f,{column:d,row:r,rowInMobile:o,widthInColumns:m,withScrollArea:p,forcePercentHeightInMobile:h},p?i.a.createElement(l.a,{id:g},n):i.a.createElement(u.a,{height:100,heightUnit:"%"},n))}},1464:function(e,n,t){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}Object.defineProperty(n,"__esModule",{value:!0});var a=r(t(533)),o=t(59),i=t(107),c=r(t(0)),l=t(62),u=t(214),d=t(1490),s=r(t(26));function m(e,n){var t,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(c){o=[6,c],r=0}finally{t=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function f(e,n){var t="function"===typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,o=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(c){a={error:c}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(a)throw a.error}}return i}function v(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}var p,g,h=s.svg(p||(p=v(["\n  stroke: currentColor;\n  stroke-width: 2;\n  width: 2em;\n  height: 2em;\n  fill: none;\n"],["\n  stroke: currentColor;\n  stroke-width: 2;\n  width: 2em;\n  height: 2em;\n  fill: none;\n"]))),b=function(e){var n=e.onClick,t=e.className;return c.createElement(h,{viewBox:"0 0 5 10",onClick:n,className:t},c.createElement("path",{d:"M5,1 1,5 5,9"}))},E="10px",y="2em",w="1em",C=s.div(g||(g=v(["\n  ","\n\n  padding: 10px;\n  background: ",";\n  transition: background 0.3s;\n\n  .wrapper {\n    display: grid;\n    grid-auto-flow: column;\n    align-content: center;\n    grid-gap: ",";\n    overflow: hidden;\n    width: ",";\n    transition: width 0.3s;\n\n    .arrow {\n      width: ",";\n      height: 100%;\n      order: -2;\n      color: ",";\n\n      path {\n        transition: d 0.3s;\n      }\n    }\n\n    > img {\n      height: 1.2em;\n      width: ",";\n    }\n\n    .selected {\n      order: -1 !important;\n    }\n  }\n\n  &.expanded {\n    background: ",";\n\n    .wrapper {\n      width: ",";\n\n      .arrow path {\n        d: path('M1,1 5,5 1,9');\n      }\n    }\n  }\n"],["\n  ","\n\n  padding: 10px;\n  background: ",";\n  transition: background 0.3s;\n\n  .wrapper {\n    display: grid;\n    grid-auto-flow: column;\n    align-content: center;\n    grid-gap: ",";\n    overflow: hidden;\n    width: ",";\n    transition: width 0.3s;\n\n    .arrow {\n      width: ",";\n      height: 100%;\n      order: -2;\n      color: ",";\n\n      path {\n        transition: d 0.3s;\n      }\n    }\n\n    > img {\n      height: 1.2em;\n      width: ",";\n    }\n\n    .selected {\n      order: -1 !important;\n    }\n  }\n\n  &.expanded {\n    background: ",";\n\n    .wrapper {\n      width: ",";\n\n      .arrow path {\n        d: path('M1,1 5,5 1,9');\n      }\n    }\n  }\n"])),function(e){return""},function(e){return e.backgroundColor+"AA"},E,"calc("+w+" + "+E+" + "+y+")",w,function(e){return e.arrowColor},y,function(e){return e.backgroundColor+"E8"},function(e){return function(e){return"calc("+w+" + "+e+" *  ("+E+" + "+y+"))"}(e.flagCount)});n.cn=a,n.LanguagePicker=function(e){var n=e.className,t=e.availableLanguages,r=e.selectedLanguage,o=e.onChange,i=e.backgroundColor,l=void 0===i?"#FFF":i,u=e.arrowColor,s=void 0===u?"#000":u,m=f(c.useState(!1),2),v=m[0],p=m[1];if(t.length<=1)return null;var g=function(e){return r.toLowerCase()===e};return c.createElement(C,{className:a(n,{expanded:v}),flagCount:t.length,backgroundColor:l,arrowColor:s},c.createElement("div",{className:"wrapper"},c.createElement(b,{onClick:function(){p(function(e){return!e})},className:"arrow"}),t.map(function(e,n){var t=e.toLowerCase();return c.createElement("img",{key:t,src:d.getFlag(t),style:{order:n},onClick:function(){return e=t,v&&o(e),void p(function(e){return!e});var e},className:a({selected:g(t)})})})))},n.detectLanguage=function(e,n){return new u.LocaleResolver([new u.DETECTORS.UrlDetector("lang"),new u.DETECTORS.NavigatorDetector],[new u.TRANSFORMERS.LanguageOnlyTransformer]).getLocales().find(function(n){return e.includes(n)})||n},n.useOrderPromoCodes=function(e){var n=this,t=e.onCodeAdd,r=e.onCodeErrors,a=e.getValidatingMessage,l=void 0===a?i.RM.identity:a,u=e.autoSubmitAfterTimeout,d=void 0===u?2e3:u,s=c.useRef(null),v=f(c.useState(!1),2),p=v[0],g=v[1],h=c.useCallback(function(){return e=n,a=void 0,i=function(){var e,n,a,o;return m(this,function(i){switch(i.label){case 0:if(!s.current||s.current.disabled)return[2];if(0===(e=s.current.value.trim()).length)return[2];g(!0),s.current.disabled=!0,s.current.value=l(e),i.label=1;case 1:return i.trys.push([1,3,4,5]),n=!0,[4,t(e)];case 2:return(a=i.sent())?(o=a.addOrderPromoCode.userErrors).length>0&&(n=!1,r(e,o)):n=!1,s.current&&(s.current.value="",n||s.current.focus()),[3,5];case 3:return i.sent(),s.current&&(s.current.value=e),[3,5];case 4:return g(!1),s.current&&(s.current.disabled=!1,s.current.focus()),[7];case 5:return[2]}})},new((o=void 0)||(o=Promise))(function(n,t){function r(e){try{l(i.next(e))}catch(n){t(n)}}function c(e){try{l(i.throw(e))}catch(n){t(n)}}function l(e){e.done?n(e.value):new o(function(n){n(e.value)}).then(r,c)}l((i=i.apply(e,a||[])).next())});var e,a,o,i},[t]);return{inputProps:{autoComplete:"off",disabled:p,onChange:o.useDebounceCallback(h,d),onKeyDown:c.useCallback(function(e){"Enter"===e.key&&(h(),e.preventDefault())},[]),onBlur:h,onPaste:h},inputRef:s,isValidating:p}},n.useVamAgreements=function(e){var n=l.useLocalStore(function(){return{initialized:!1,hiddenAgreements:new Set,confirmedAgreements:new Set,openDescriptions:new Set,toggleConfirmed:function(e){n.confirmedAgreements.has(e)?n.confirmedAgreements.delete(e):n.confirmedAgreements.add(e)},toggleDescription:function(e){n.openDescriptions.has(e)?n.openDescriptions.delete(e):n.openDescriptions.add(e)}}});c.useEffect(function(){n.hiddenAgreements.clear(),e.filter(i.RM.propEq("isConfirmed",!0)).map(i.idProp).forEach(function(e){n.hiddenAgreements.add(e),n.confirmedAgreements.add(e)}),n.initialized=!0},[e]);return{state:n,renderVamAgreements:function(t){var r=t.AgreementBox,o=t.confirmedWrapperClass,i=void 0===o?"confirmed":o,u=t.descriptionCollapsedClass,d=void 0===u?"collapsed":u;return l.useObserver(function(){return c.createElement(c.Fragment,null,e.map(function(e){var t,o=e.id;if(n.hiddenAgreements.has(o))return null;var l=!n.openDescriptions.has(o),u=n.confirmedAgreements.has(o);return c.createElement("div",{key:e.id,className:u?i:""},c.createElement(r,{agreement:e,isValid:!e.isMandatory||u,isCollapsed:l,titleNode:c.createElement("span",{dangerouslySetInnerHTML:{__html:e.name}}),descriptionNode:c.createElement("div",{className:a((t={},t[d]=l,t))},c.createElement("span",{dangerouslySetInnerHTML:{__html:e.description}})),inputProps:{checked:u,onChange:function(){return n.toggleConfirmed(e.id)},required:e.isMandatory},buttonProps:{onClick:function(){return n.toggleDescription(e.id)}}}))}))})}}}},1465:function(e,n,t){"use strict";t.d(n,"a",function(){return r});t(0);var r=function(e){e.children;return null}},1468:function(e,n,t){"use strict";t.d(n,"a",function(){return d});var r=t(5),a=t(0),o=t.n(a),i=t(26),c=t(19);function l(){var e=Object(r.a)(["\n  border-top: 1px solid ",";\n  margin: 0.25rem 0rem;\n"]);return l=function(){return e},e}var u=i.default.div(l(),c.a.greyLight),d=function(e){var n=e.visible;return void 0===n||n?o.a.createElement(u,null):null}},1470:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var r=t(20),a=t(0),o=t.n(a),i=t(57);function c(e){var n=Object(i.b)().user;o.a.useEffect(function(){return Object(r.autorun)(function(){n.isReady&&n.hasSingleBranch&&e(n.branches[0])})})}},1471:function(e,n,t){"use strict";t.d(n,"a",function(){return m});var r=t(5),a=t(98),o=t(1464),i=t(0),c=t.n(i),l=t(26),u=t(31);function d(){var e=Object(r.a)(["\n  ","\n\n  color: ",";\n\n  &.interactive {\n    cursor: pointer;\n  }\n\n  &.invalid {\n    border: 1px red solid;\n  }\n\n  > div {\n    margin: 0.5rem 0.6rem;\n    display: inline-block;\n  }\n\n  > div.active {\n    font-weight: bolder;\n    text-decoration: underline;\n  }\n"]);return d=function(){return e},e}var s=l.default.div(d(),function(e){return""},function(e){var n=e.textColor;return n||"inherit"}),m=function(e){var n=e.items,t=e.formatItem,r=void 0===t?u.a.prop("displayName"):t,i=e.isMulti,l=void 0!==i&&i,d=e.isClearable,m=void 0!==d&&d,f=e.isInvalid,v=void 0!==f&&f,p=e.selectedItem,g=e.selectedItems,h=e.onSingleSelection,b=e.onMultiSelection,E=e.textColor,y=1===n.length,w=function(e){return 1!==n.length&&(l&&Array.isArray(g)?u.a.contains(e,g):u.a.equals(p,e))},C=function(e){y||(null===e?l&&b?b([]):h&&h(null):l&&b?w(e)?b(Array.isArray(g)?u.a.without([e],g):[e]):b(Array.isArray(g)?u.a.concat(g,[e]):[]):h&&h(e))};return c.a.createElement(s,{className:Object(o.cn)({invalid:v,interactive:!y}),textColor:E},m&&c.a.createElement("div",{className:Object(o.cn)({active:!(l?Array.isArray(g)&&g.length>0:null!==p&&void 0!==p)}),onClick:function(){C(null)}},c.a.createElement(a.Trans,{id:"optionselector.clear-filter"})),n.map(function(e,n){var t=r(e);return c.a.createElement("div",{key:n,className:Object(o.cn)({active:w(e)}),onClick:function(){C(e)}},t)}))}},1474:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var r=t(26).default.div.withConfig({displayName:"CardDock",componentId:"sc-1fyaqia-0"})(["position:absolute;",";",";"],function(e){var n=e.position;return"BottomRight"===n||"BottomLeft"===n?"bottom: 0":"top: 0"},function(e){var n=e.position;return"BottomLeft"===n||"TopLeft"===n?"left: 0":"right: 0"})},1475:function(e,n,t){"use strict";var r=t(0),a=t.n(r),o=t(57),i=t(31),c=t(1497),l=t(58),u=t(1471),d=t(19),s=function(e){var n=e.branches,t=e.selectedBranch,r=e.selectedBranches,o=e.textColor,i=void 0===o?d.a.black:o,c=Object(l.a)(e,["branches","selectedBranch","selectedBranches","textColor"]);return a.a.createElement(u.a,Object.assign({items:n,selectedItem:t,selectedItems:r,textColor:i,formatItem:function(e){return a.a.createElement("span",{title:e.brand.name},e.name)}},c))};t.d(n,"a",function(){return m});var m=function(e){var n=e.breakpoint,t=void 0===n?3:n,r=e.branches,l=e.selectedBranches,u=void 0===l?[]:l,d=e.isMulti,m=void 0!==d&&d,f=e.isClearable,v=void 0===f||f,p=e.hideWhenSingleBranch,g=void 0!==p&&p,h=e.textColor,b=e.onSelectionChange,E=e.onSelectionClear,y=e.getDropdownProps,w=void 0===y?function(){return{}}:y,C=Object(o.b)().user,O=function(e){return u.includes(e.id)},k={textColor:h,isClearable:v,isMulti:m,branches:r||C.branches,selectedBranch:C.branches.find(O)||null,selectedBranches:C.branches.filter(O),onSingleSelection:function(e){null===e&&E?E():null!==e&&b&&b([e.id],[e])},onMultiSelection:function(e){0===e.length&&E?E():e.length&&b&&b(e.map(i.a.prop("id")),e)}};return C.hasSingleBranch&&g?null:C.branches.length<t?a.a.createElement(s,k):a.a.createElement(c.a,Object.assign({},k,w()))}},1476:function(e,n,t){var r={"./cs.svg":1477,"./de.svg":1478,"./en.svg":1479,"./pl.svg":1480,"./sk.svg":1481};function a(e){var n=o(e);return t(n)}function o(e){var n=r[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=1476},1477:function(e,n,t){e.exports=t.p+"static/media/cs.047e732d.svg"},1478:function(e,n,t){e.exports=t.p+"static/media/de.91b3a633.svg"},1479:function(e,n,t){e.exports=t.p+"static/media/en.c4cd6642.svg"},1480:function(e,n,t){e.exports=t.p+"static/media/pl.1b9768ef.svg"},1481:function(e,n,t){e.exports=t.p+"static/media/sk.8fff59a6.svg"},1482:function(e,n,t){var r={"./logo-doveze.svg":1483,"./logo-gopay.svg":1484,"./logo-mastercard.svg":1485,"./logo-visa.svg":1486};function a(e){var n=o(e);return t(n)}function o(e){var n=r[e];if(!(n+1)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=1482},1483:function(e,n,t){e.exports=t.p+"static/media/logo-doveze.e13c0122.svg"},1484:function(e,n,t){e.exports=t.p+"static/media/logo-gopay.14086fd8.svg"},1485:function(e,n,t){e.exports=t.p+"static/media/logo-mastercard.6d4e5108.svg"},1486:function(e,n,t){e.exports=t.p+"static/media/logo-visa.8afb6c6f.svg"},1487:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(5);function a(){var e=Object(r.a)(["\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  height: 100%;\n"]);return a=function(){return e},e}var o=t(26).default.div(a())},1490:function(e,n,t){n.pictograms=t(1500),n.getFlag=t(1501),n.getLogo=t(1502)},1497:function(e,n,t){"use strict";var r=t(46),a=t(58),o=t(98),i=t(0),c=t.n(i),l=t(5);function u(){var e=Object(l.a)(["\n  cursor: ",";\n"]);return u=function(){return e},e}var d=t(26).default.div(u(),function(e){var n=e.cursor;return void 0===n?"default":n}),s=function(e){var n=e.branch,t=e.onClick,r=e.short,a=void 0!==r&&r,o=e.showBrand,i=void 0===o||o;return c.a.createElement(d,{cursor:"pointer",onClick:t},a?n.name.substr(0,8):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,n.name),i&&c.a.createElement("span",null," [".concat(n.brand.name,"]"))))},m=t(1458),f=t(31),v=t(45),p=t(19);t.d(n,"a",function(){return h});var g=function(e){var n=e.getStyles,t=e.innerProps,r=t.ref,i=Object(a.a)(t,["ref"]);return c.a.createElement("div",Object.assign({},i,{ref:r,style:n("clearIndicator",e)}),c.a.createElement("div",{style:{padding:"0px 5px"}},c.a.createElement(o.Trans,{id:"All"})))},h=function(e){var n=e.branches,t=e.selectedBranch,o=e.onSingleSelection,i=e.selectedBranches,l=e.onMultiSelection,u=Object(a.a)(e,["branches","selectedBranch","onSingleSelection","selectedBranches","onMultiSelection"]);return c.a.createElement(m.a,Object.assign({value:u.isMulti?i:t,placeholder:u.isMulti?v.b._("Filter branches..."):v.b._("Select a branch"),maxHeight:p.d.ButtonHeight,options:n,getOptionValue:f.a.prop("id"),formatOptionLabel:function(e){return c.a.createElement(s,{branch:e})},filterOption:function(e,n){return e.data.name.toLocaleLowerCase().includes(n.toLocaleLowerCase())},closeMenuOnSelect:!u.isMulti,components:{ClearIndicator:g},styles:{clearIndicator:function(e){return Object(r.a)({},e,{cursor:"pointer"})}},onChange:function(e){u.isMulti&&l&&Array.isArray(e)&&l(e),!u.isMulti&&o&&(Array.isArray(e)?o(f.a.head(e)||null):o(e||null))}},u))}},1500:function(e,n){e.exports=["pizza","beans","cheese","hot-pepper","smoking-barbecue","meat-pie","sausage","hot-dog","fruit","fruit-1","fruit-2","strawberry","soup","noodles","ramen","rice","spaghetti","food","piece-of-cake","beer","marshmallow","cake","banana-split","ice-cream","cookie","doughnut","cupcake","kebab","steak","fish","fondue","shrimp","berry","food","food-1","food-2","food-3","food-4","food-5","food-6","food-7","food-8","food-9","food-10","food-11","food-12","food-13","food-14","food-15","food-16","food-17","food-18","food-19","food-20","food-21","food-22","food-23","food-24","food-25","food-26","food-27","food-28","food-29","food-30","drink","drink-1","drink-2","drink-3","drink-4","drink-5","cup","cup-1","cup-2","whisky"]},1501:function(e,n,t){e.exports=function(e){try{return t(1476)("./".concat(e.toLowerCase(),".svg"))}catch(n){throw new Error("Missing flag asset for ".concat(e,"!"))}}},1502:function(e,n,t){e.exports=function(e){try{return t(1482)("./logo-".concat(e.toLowerCase(),".svg"))}catch(n){throw new Error("Missing logo asset for ".concat(e,"!"))}}},1508:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(62),a=t(199);function o(e){Object(r.useDisposable)(function(){return Object(a.b)(e)})}},1509:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(5);function a(){var e=Object(r.a)(["\n  color: inherit;\n  text-decoration-color: rgba(0, 0, 0, 0.08);\n  &:hover {\n    text-decoration-color: rgba(0, 0, 0, 0.5);\n  }\n  &:visited {\n    text-decoration-color: rgba(0, 0, 0, 0.08);\n  }\n"]);return a=function(){return e},e}var o=t(26).default.a(a())},1510:function(e,n,t){"use strict";var r=t(5),a=t(26),o=t(0),i=t.n(o),c=t(49),l=Object(c.a)(i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"}),i.a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"})),"CancelOutlined"),u=t(59),d=t(88),s=t(209),m=t(1516),f=t(19);function v(){var e=Object(r.a)(["\n  padding: 0.2rem 0.3rem 0.1rem 0.3rem;\n"]);return v=function(){return e},e}t.d(n,"a",function(){return h});var p=Object(s.a)(v()),g=a.default.div.withConfig({displayName:"DeliveryTimeBadge__StyledDelayedTimeMark",componentId:"g9mune-0"})(["background:",";border:2px solid ",";width:0.6rem;height:0.6rem;border-radius:0.7rem;position:absolute;"],f.a.white,f.a.greyMiddle),h=function(e){var n=e.deliverAt,t=e.deliveredAt,r=e.isCancelled,a=void 0!==r&&r,o=e.isDelayed,c=void 0!==o&&o,s=e.onClick,f=!(t||a),v=Object(u.useTimer)({interval:u.MINUTE,enabled:f}),h=m.a.UNKNOWN;if(a)return i.a.createElement(m.b,{variant:h,className:p},i.a.createElement(l,null));if(!n)return i.a.createElement(m.b,{variant:h},i.a.createElement("span",{role:"img","aria-label":"Unknown"},"\u2754"));var b=Object(d.differenceInMinutes)(n,t||v);return h=b>20?m.a.NORMAL:b>0?m.a.WARNING:m.a.CRITICAL,i.a.createElement(i.a.Fragment,null,c&&i.a.createElement(g,null),i.a.createElement(m.b,{minutes:b,variant:h,onClick:s}))}},1516:function(e,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return y});var r,a,o=t(5),i=t(206),c=t(26),l=t(209),u=t(0),d=t.n(u),s=t(19);function m(){var e=Object(o.a)(["\n  cursor: pointer;\n"]);return m=function(){return e},e}function f(){var e=Object(o.a)(["\n  font-size: 1.7rem;\n  font-weight: bold;\n"]);return f=function(){return e},e}function v(){var e=Object(o.a)(["\n  font-size: 0.8rem;\n"]);return v=function(){return e},e}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING",e[e.NORMAL=3]="NORMAL"}(a||(a={}));var p=c.default.div.withConfig({displayName:"TimeBadge__StyledTimeBadge",componentId:"zuoyiw-0"})(["height:2rem;line-height:2rem;width:2rem;border-radius:50%;overflow:hidden;border:1px solid white;color:",";background:",";text-align:center;font-family:'Open Sans',sans-serif;"],s.a.white,s.a.greyMiddle),g=(r={},Object(i.a)(r,a.UNKNOWN,Object(c.default)(p).withConfig({displayName:"TimeBadge__UNKNOWN",componentId:"zuoyiw-1"})([""])),Object(i.a)(r,a.CRITICAL,Object(c.default)(p).withConfig({displayName:"TimeBadge__CRITICAL",componentId:"zuoyiw-2"})(["background:",";"],s.a.red)),Object(i.a)(r,a.WARNING,Object(c.default)(p).withConfig({displayName:"TimeBadge__WARNING",componentId:"zuoyiw-3"})(["background:",";color:",";font-weight:bold;"],s.a.orange,s.a.black)),Object(i.a)(r,a.NORMAL,Object(c.default)(p).withConfig({displayName:"TimeBadge__NORMAL",componentId:"zuoyiw-4"})(["background:",";"],s.a.green)),r),h=Object(l.a)(v()),b=Object(l.a)(f()),E=Object(l.a)(m()),y=d.a.forwardRef(function(e,n){var t=e.minutes,r=e.className,o=e.children,i=e.variant,c=e.onClick,u=g[i],s=o,m=["animated"];return void 0!==t&&((t>99||t<-9)&&m.push(h),t<-99?(s="\u2012",m.push(b)):s=t.toString()),c&&m.push(E),d.a.createElement(u,{ref:n,key:t,onClick:c,className:l.b.apply(void 0,[r,{heartBeat:i===a.CRITICAL&&t>0,pulse:i===a.WARNING}].concat(m))},s)})},1517:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(0),a=t.n(r),o=function(e){var n=e.customer;return n?a.a.createElement("span",null,"".concat(n.lastName?"".concat(n.firstName," ").concat(n.lastName):n.defaultPhone?n.defaultPhone.phone:"")):a.a.createElement("i",null,"unknown")}},1522:function(e,n,t){"use strict";var r=t(5),a=t(98),o=t(162),i=t.n(o),c=t(0),l=t.n(c),u=t(339),d=t(26),s=t(41),m=t(184),f=t(19),v=t(1517),p=t(1510),g=t(1609),h=t(185);function b(){var e=Object(r.a)(["\n  display: inline-block;\n  position: absolute;\n  right: 3.8rem;\n  top: 0;\n"]);return b=function(){return e},e}var E=d.default.div(b()),y=function(){return l.a.createElement(E,{"data-testid":"OrderStarIndicator"},l.a.createElement(h.a,{icon:g.a,color:f.a.orange}))};function w(){var e=Object(r.a)(["\n  font-style: italic;\n  color: ",";\n"]);return w=function(){return e},e}function C(){var e=Object(r.a)(["\n  padding: 0.3rem 0.6rem;\n  display: inline-block;\n  border-top-left-radius: ",";\n  background-color: ",";\n  color: ",";\n"]);return C=function(){return e},e}function O(){var e=Object(r.a)(["\n  color: ",";\n"]);return O=function(){return e},e}function k(){var e=Object(r.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0.1rem;\n    right: -0.3rem;\n    left: 0.9rem;\n    bottom: 0.3rem;\n    border-top: 2px solid ",";\n    transform: rotate(13deg);\n    transform-origin: 0% 0%;\n    opacity: 0.7;\n  }\n"]);return k=function(){return e},e}function j(){var e=Object(r.a)(["\n  flex: 0 0 3.5rem;\n  text-align: right;\n  position: relative;\n"]);return j=function(){return e},e}function N(){var e=Object(r.a)(["\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n"]);return N=function(){return e},e}function M(){var e=Object(r.a)(["\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n"]);return M=function(){return e},e}function S(){var e=Object(r.a)(["\n  flex: 0 0 2rem;\n"]);return S=function(){return e},e}function x(){var e=Object(r.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  padding: 0.4rem;\n"]);return x=function(){return e},e}function I(){var e=Object(r.a)(["\n  text-align: left;\n  cursor: pointer;\n  &:hover {\n    background-color: ",";\n  }\n  &:active {\n    background-color: ",";\n  }\n"]);return I=function(){return e},e}t.d(n,"b",function(){return F}),t.d(n,"a",function(){return W});var A=Object(d.default)(u.Element)(I(),i()(f.a.turquoise).alpha(.05).string(),i()(f.a.turquoise).alpha(.2).string()),T=d.default.div(x()),R=d.default.div(S()),L=d.default.div(M()),D=d.default.div(N()),B=d.default.div(j()),P=d.default.div(k(),f.a.orange),_=d.default.div(O(),f.a.orange),F=d.default.div(C(),f.c.Card,f.a.green,f.a.white),z=d.default.div(w(),f.a.violet),W=function(e){var n=e.order,t=e.isCancelled,r=e.showBranch,o=e.onClick;return l.a.createElement(A,{onClick:o,name:"order-".concat(n.id)},r&&l.a.createElement(F,null,n.companyBranch.name),l.a.createElement(T,null,l.a.createElement(R,null,l.a.createElement(p.a,{deliverAt:n.deliverAt?new Date(n.deliverAt):null,deliveredAt:n.deliveredAt?new Date(n.deliveredAt):null,isCancelled:t,isDelayed:null!==n.delayedDeliveryTime})),l.a.createElement(L,null,null!==n.sector?n.sector.name:n.deliveryType&&n.deliveryType.enum===s.a.Pickup?l.a.createElement(z,null,l.a.createElement(a.Trans,{id:"To pickup"})):Object(m.a)(n.address)),l.a.createElement(D,null,l.a.createElement(v.a,{customer:n.customer})),l.a.createElement(B,null,n.isPriority&&l.a.createElement(y,null),n.totalSum.formattedValue,n.isPaidWithCard&&l.a.createElement(l.a.Fragment,null,l.a.createElement(P,{"data-testid":"PaidMark"}),l.a.createElement(_,null,l.a.createElement(a.Trans,{id:"Paid"}))))))}},1529:function(e,n,t){"use strict";t.d(n,"a",function(){return g});var r=t(5),a=t(1602),o=t(0),i=t.n(o),c=t(26),l=t(1468),u=t(1456),d=t(45),s=t(19);function m(){var e=Object(r.a)(["\n  color: ",";\n  margin-left: 0.5rem;\n"]);return m=function(){return e},e}function f(){var e=Object(r.a)(["\n  color: ",";\n"]);return f=function(){return e},e}var v=c.default.span(f(),s.a.orange),p=c.default.span(m(),s.a.greyDark),g=function(e){var n=e.note,t=e.previousNote;return n||t?i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,null),i.a.createElement(u.a,{icon:a.a,labelMargin:"0"},i.a.createElement(v,null,n||d.b._("Without note").toLocaleLowerCase()),i.a.createElement(p,null,t))):null}},1545:function(e,n,t){"use strict";t.d(n,"a",function(){return d});var r=t(62),a=t(0),o=t.n(a),i=t(57),c=t(1470),l=t(1475),u=t(19),d=function(){var e=Object(i.b)().order;return Object(c.a)(function(n){e.list.setBranchFilter([n.id])}),Object(r.useObserver)(function(){return o.a.createElement(l.a,{selectedBranches:Array.from(e.list.branches),onSelectionChange:function(n){e.list.setBranchFilter(n)},onSelectionClear:e.list.clearBranchFilter,textColor:u.a.turquoise,isMulti:!0,isClearable:!1,hideWhenSingleBranch:!0})})}},1565:function(e,n,t){e.exports=t.p+"static/media/orderNotification.0aa2ebe9.mp3"},1601:function(e,n,t){"use strict";var r=t(0),a=t.n(r),o=t(49);n.a=Object(o.a)(a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.a.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"AccessTime")},1602:function(e,n,t){"use strict";var r=t(0),a=t.n(r),o=t(49);n.a=Object(o.a)(a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{d:"M22 10l-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5l5.5 5.5H15V5.5z"}),a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),"Note")},1609:function(e,n,t){"use strict";var r=t(0),a=t.n(r),o=t(49);n.a=Object(o.a)(a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"Star")},2622:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(74),i=t(208),c=t(127),l=t(55),u=t(331),d=t(41),s=t(45),m=t(1460),f=t(333),v=t(1545),p=t(98),g=t(62),h=t(57),b=t(31),E=t(1565),y=t.n(E),w=t(347),C=a.a.memo(function(e){var n=e.shouldPlay,t=Object(h.b)().config;return Object(w.a)({soundUrl:y.a,intervalSec:t.orderListSoundIntervalSec,shouldPlay:n})}),O=t(5),k=t(26);function j(){var e=Object(O.a)(["\n  margin: 0 0.5rem;\n"]);return j=function(){return e},e}var N=k.default.div(j()),M=t(1474),S=t(19),x=t(1522),I=t(91);function A(){var e=Object(O.a)(["\n  background: ",";\n  border-radius: 50%;\n  margin: 0;\n  width: 70%;\n  height: 70%;\n  overflow: auto;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n"]);return A=function(){return e},e}function T(){var e=Object(O.a)(["\n  background: ",";\n  border: 2px solid ",";\n  width: 2.1rem;\n  height: 2.1rem;\n  position: relative;\n  border-radius: 50%;\n  margin-bottom: ",";\n"]);return T=function(){return e},e}var R=k.default.div(T(),S.a.white,S.a.green,S.d.Small),L=k.default.div(A(),S.a.green),D=function(e){var n=e.isChecked,t=e.onClick;return a.a.createElement(R,{onClick:t},n&&a.a.createElement(L,null))};function B(){var e=Object(O.a)(["\n  flex: 1 0;\n  color: ",";\n  margin-top: 0.35rem;\n"]);return B=function(){return e},e}function P(){var e=Object(O.a)(["\n  flex: 0 0 4.1rem;\n  font-size: ",";\n  color: ",";\n  margin-top: 0.35rem;\n"]);return P=function(){return e},e}function _(){var e=Object(O.a)(["\n  flex: 0 0 2.4rem;\n"]);return _=function(){return e},e}function F(){var e=Object(O.a)(["\n  display: flex;\n  justify-content: space-between;\n  ",";\n"]);return F=function(){return e},e}function z(){var e=Object(O.a)(["\n  margin-top: -0.8rem;\n"]);return z=function(){return e},e}var W=Object(k.css)(z()),U=k.default.div(F(),function(e){return e.isFirstSidedish&&W}),H=k.default.div(_()),K=k.default.div(P(),S.b.CompactCardBig,S.a.black),V=k.default.div(B(),S.a.greyMiddle),G=function(e){var n=e.recipeId,t=e.code,r=e.label,o=e.isDone,i=e.isCheckable,c=e.isFirstSidedish,l=void 0!==c&&c,u=Object(d.J)(),s=Object(I.a)(u,1)[0];return a.a.createElement(U,{isFirstSidedish:l},a.a.createElement(H,null,i&&a.a.createElement(D,{isChecked:o,onClick:function(){n&&s({recipeId:n,state:o?d.l.Preparing:d.l.Cooked})}})),a.a.createElement(K,null,t),a.a.createElement(V,null,r))},q=function(e){var n=e.orderWares,t=e.isCheckable;return a.a.createElement("div",null,n.map(function(e){return a.a.createElement(r.Fragment,{key:e.id},a.a.createElement(G,{recipeId:e.id,code:e.recipe.code,label:e.recipe.nameLabel,isDone:e.orderRecipeState.enum===d.l.Cooked,isCheckable:t}),a.a.createElement(a.a.Fragment,null,e.sidedishes.map(function(n,r){return a.a.createElement(G,{key:"".concat(e.id,"-").concat(n.id),recipeId:n.id,code:"+".concat(n.recipe.code),label:n.recipe.nameLabel,isDone:!1,isCheckable:!1,isFirstSidedish:0===r&&t})})))}))},J=t(1609),Q=t(185);function Y(){var e=Object(O.a)(["\n  display: inline-block;\n  position: absolute;\n  right: 0.2rem;\n  top: 0.2rem;\n  z-index: 5;\n"]);return Y=function(){return e},e}var Z=k.default.div(Y()),X=function(){return a.a.createElement(Z,{"data-testid":"KitchenOrderStarIndicator"},a.a.createElement(Q.a,{color:S.a.orange,icon:J.a}))},$=t(49),ee=Object($.a)(a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),"KeyboardArrowRight"),ne=t(1457),te=t(139),re=function(e){var n=e.orderId,t=e.color,r=e.setState,o=Object(d.N)(),i=Object(I.a)(o,1)[0];return a.a.createElement(ne.a,{mutationName:"addOrderState"},a.a.createElement(te.a,{icon:ee,width:S.d.ButtonHeight+S.d.DefaultSizeUnit,color:t,onClick:function(){i({orderId:n,state:r})}}))},ae=k.default.div.withConfig({displayName:"KitchenCompletionOrderBox__StyledKitchenCompletionOrderBox",componentId:"sc-13zquvp-0"})(["font-size:",";background-color:",";color:",";border-radius:",";margin-bottom:",";margin-right:",";padding-bottom:",";position:relative;& .header{display:flex;flex-wrap:nowrap;}& .order__number{width:4.5rem;background:",";color:",";font-size:2rem;border-top-left-radius:",";text-align:center;}& .order__source{display:inline-block;background:",";color:",";font-size:0.9rem;padding:0.1rem 0.8rem;border-radius:0.9rem;margin:0.5rem;}& .order__sector{display:inline-block;color:",";margin:0.5rem;}& .order__content{margin:",";}"],S.b.CompactCard,S.a.white,S.a.greyDarkest,S.c.Card,S.d.Middle,S.d.Middle,S.d.Middle,S.a.orange,S.a.white,S.c.Card,S.a.greyMiddle,S.a.white,S.a.black,S.d.Middle),oe=function(e){var n=e.order,t=e.showBranch;return a.a.createElement(ae,{"data-testid":"order-box"},t&&a.a.createElement(x.b,null,n.companyBranch.name),a.a.createElement("div",{className:"header"},a.a.createElement("div",{className:"order__number"},n.orderNumber),a.a.createElement("div",{className:"order__source"},"".concat(n.orderOrigin.code," ").concat(null!==n.cashBox?n.cashBox.id:"")),n.sector&&a.a.createElement("div",{className:"order__sector"},n.sector.name),n.isPriority&&a.a.createElement(X,null)),a.a.createElement("div",{className:"order__content"},a.a.createElement(q,{orderWares:n.items,isCheckable:n.orderStateCategory===d.m.Preparing||n.orderStateCategory===d.m.ReadyToDeliver})),n.orderStateCategory===d.m.NewOrders&&a.a.createElement(M.a,{position:"BottomRight"},a.a.createElement(re,{orderId:n.id,color:S.a.green,setState:d.n.Accepted})),n.orderStateCategory===d.m.ReadyToDeliver&&a.a.createElement(M.a,{position:"BottomRight"},a.a.createElement(re,{orderId:n.id,color:S.a.red,setState:d.n.Finished})))},ie=t(107),ce=t(1508),le=[d.m.NewOrders,d.m.Preparing,d.m.ReadyToDeliver],ue=a.a.createContext({loading:!0,noFilter:!0,orders:[]}),de=ie.RM.sortWith([ie.RM.descend(ie.RM.prop("isPriority")),ie.RM.ascend(ie.RM.prop("orderNumber")),ie.RM.ascend(ie.RM.either(ie.RM.prop("deliverAt"),ie.RM.prop("createdAt")))]),se=Object(g.observer)(function(e){var n=Object(h.b)().order,t=!n.list.hasBranchFilter,r=Object(d.Z)({branches:n.list.branchesFilter,categories:le},{skip:t}),o=r.data,i=r.loading,c=r.updateQuery,l=r.refetch;return Object(ce.a)(l),Object(d.Cb)({branches:n.list.branchesFilter,categories:le.concat(d.m.Finished)},{skip:t,onSubscriptionData:function(e){var n=e.subscriptionData.data;n&&c(function(e){return function(e,n){var t=e.updatedOrder.order;if(!t)return n;if(!le.includes(t.orderStateCategory))return{orders:n.orders.filter(function(e){return e.id!==t.id})};var r=!1,a=n.orders.map(function(e){return e.id===t.id?(r=!0,t):e});r||a.unshift(t);return{orders:a}}(n,e)})}}),a.a.createElement(ue.Provider,{value:{loading:i,noFilter:t,orders:i?[]:de(o.orders)}},e.children)});var me=Object(g.observer)(function(e){var n=e.category,t=Object(h.b)().order,r=a.a.useContext(ue),o=r.loading,i=r.noFilter,c=r.orders;if(i)return a.a.createElement(N,null,a.a.createElement(p.Trans,{id:"Select a branch"}));if(o)return a.a.createElement(N,null,a.a.createElement(p.Trans,{id:"Loading"}));var l=c.filter(b.a.propEq("orderStateCategory",n));if(0===l.length)switch(n){case d.m.NewOrders:return a.a.createElement(N,null,a.a.createElement(p.Trans,{id:"No new orders"}));case d.m.Preparing:return a.a.createElement(N,null,a.a.createElement(p.Trans,{id:"No orders to complete"}));case d.m.ReadyToDeliver:return a.a.createElement(N,null,a.a.createElement(p.Trans,{id:"No orders to hand over"}));default:return a.a.createElement(N,null,a.a.createElement(p.Trans,{id:"No orders"}))}var u=n===d.m.NewOrders&&l.length>0;return a.a.createElement("div",{"data-testid":"order-list-".concat(n)},l.map(function(e){return a.a.createElement(oe,{key:e.id,order:e,showBranch:t.list.branchesFilter.length>1})}),a.a.createElement(C,{shouldPlay:u}))}),fe=t(1509),ve=t(184),pe=t(1517),ge=t(1510),he=t(1468),be=t(1529),Ee=t(1601),ye=t(1456);function we(){var e=Object(O.a)(["\n  color: ",";\n  font-weight: bold;\n  display: inline-block;\n  margin-left: 0.3rem;\n"]);return we=function(){return e},e}function Ce(){var e=Object(O.a)(["\n  color: ",";\n"]);return Ce=function(){return e},e}var Oe=k.default.span(Ce(),S.a.greyDark),ke=k.default.div(we(),S.a.black),je=function(e){switch(e.deliverType){case"DELIVER_UNTIL":return a.a.createElement(Oe,null,a.a.createElement(p.Trans,{id:"Deliver until"}));case"DELIVER_AT_SPECIFIC_TIME":return a.a.createElement(Oe,null,a.a.createElement(p.Trans,{id:"Deliver at"}));case"PERSONAL":return a.a.createElement(Oe,null,a.a.createElement(p.Trans,{id:"Personal pickup at"}));default:return null}},Ne=function(e){var n=e.deliverTime,t=e.deliverType;return a.a.createElement(ye.a,{icon:Ee.a,labelMargin:"0"},a.a.createElement(je,{deliverType:t}),n&&a.a.createElement(ke,null,Object(ve.f)(n)))},Me=k.default.div.withConfig({displayName:"KitchenOrderDetail__StyledOrderDetailContainer",componentId:"rlbq8h-0"})(["padding:0 0.2rem 0.1rem 0.2rem;position:relative;"]),Se=function(e){var n=e.order;return a.a.createElement(Me,null,a.a.createElement(he.a,null),n.isPriority&&a.a.createElement(X,null),a.a.createElement(q,{orderWares:n.items,isCheckable:n.orderStateCategory===d.m.Preparing||n.orderStateCategory===d.m.ReadyToDeliver}),a.a.createElement(he.a,null),a.a.createElement(Ne,{deliverTime:n.deliverAt,deliverType:n.deliveryType&&n.deliveryType.enum===d.a.Pickup?"PERSONAL":"DELIVER_UNTIL"}),a.a.createElement(be.a,{note:n.note,previousNote:n.previousNote}),n.orderStateCategory===d.m.NewOrders&&a.a.createElement(M.a,{position:"BottomRight"},a.a.createElement(re,{orderId:n.id,color:S.a.green,setState:d.n.InProduce})))},xe=k.default.div.withConfig({displayName:"KitchenOrderBox__StyledKitchenOrderBox",componentId:"sc-1yn4bpq-0"})(["font-size:",";background-color:",";color:",";border-radius:",";margin-bottom:",";margin-right:",";position:relative;.order-ticker{display:flex;flex-wrap:nowrap;justify-content:space-between;padding:0.2rem;color:",";}.delivery-time-badge-container{flex:0 0 1.8rem;}.address-container{flex:1 0;padding:0 0 0 0.5rem;}.customer-identity-container{flex:1 0;padding:0 0 0 0.5rem;}.pickup-label{font-style:italic;}"],S.b.CompactCard,S.a.white,S.a.greyDarkest,S.c.Card,S.d.Middle,S.d.Middle,S.a.greyMiddle),Ie=function(e){var n=e.order,t=e.showBranch;return a.a.createElement(xe,null,t&&a.a.createElement(x.b,null,n.companyBranch.name),a.a.createElement("div",{className:"order-ticker"},a.a.createElement("div",{className:"delivery-time-badge-container"},a.a.createElement(ge.a,{deliverAt:n.deliverAt?new Date(n.deliverAt):null,deliveredAt:n.deliveredAt?new Date(n.deliveredAt):null,isCancelled:!1,isDelayed:null!==n.delayedDeliveryTime})),a.a.createElement("div",{className:"address-container"},null!==n.sector?n.sector.name:n.deliveryType&&n.deliveryType.enum===d.a.Pickup?a.a.createElement("div",{className:"pickup-label"},a.a.createElement(p.Trans,{id:"To pickup"})):Object(ve.a)(n.address)),a.a.createElement("div",{className:"customer-identity-container"},a.a.createElement(pe.a,{customer:n.customer}),a.a.createElement("br",null),n.customer&&n.customer.defaultPhone?a.a.createElement(fe.a,{href:"tel:".concat(n.customer.defaultPhone.phone.toString().replace("/ /g",""))},n.customer.defaultPhone.phone):null)),a.a.createElement(Se,{order:n}))},Ae=[d.m.NewOrders,d.m.Preparing,d.m.ReadyToDeliver],Te=a.a.createContext({loading:!0,noFilter:!0,orders:[]}),Re=ie.RM.sortWith([ie.RM.descend(ie.RM.prop("isPriority")),ie.RM.ascend(ie.RM.either(ie.RM.prop("deliverAt"),ie.RM.prop("createdAt")))]),Le=Object(g.observer)(function(e){var n=Object(h.b)().order,t=!n.list.hasBranchFilter,r=Object(d.ab)({branches:n.list.branchesFilter,categories:Ae},{skip:t}),o=r.data,i=r.loading,c=r.updateQuery,l=r.refetch;return Object(ce.a)(l),Object(d.Db)({branches:n.list.branchesFilter,categories:Ae.concat(d.m.Finished)},{skip:t,onSubscriptionData:function(e){var n=e.subscriptionData.data;n&&c(function(e){return function(e,n){var t=e.updatedOrder.order;if(!t)return n;if(!Ae.includes(t.orderStateCategory))return{orders:n.orders.filter(function(e){return e.id!==t.id})};var r=!1,a=n.orders.map(function(e){return e.id===t.id?(r=!0,t):e});r||a.unshift(t);return{orders:a}}(n,e)})}}),a.a.createElement(Te.Provider,{value:{loading:i,noFilter:t,orders:i?[]:Re(o.orders)}},e.children)});var De=Object(g.observer)(function(e){var n=e.category,t=Object(h.b)().order,r=a.a.useContext(Te),o=r.loading,i=r.noFilter,c=r.orders;if(i)return a.a.createElement(N,null,a.a.createElement(p.Trans,{id:"Select a branch"}));if(o)return a.a.createElement(N,null,a.a.createElement(p.Trans,{id:"Loading"}));var l=c.filter(b.a.propEq("orderStateCategory",n));if(0===l.length)switch(n){case d.m.NewOrders:return a.a.createElement(N,null,a.a.createElement(p.Trans,{id:"No new orders"}));case d.m.Preparing:return a.a.createElement(N,null,a.a.createElement(p.Trans,{id:"No orders to prepare"}));case d.m.ReadyToDeliver:return a.a.createElement(N,null,a.a.createElement(p.Trans,{id:"No orders to deliver"}));default:return a.a.createElement(N,null,a.a.createElement(p.Trans,{id:"No orders"}))}var u=n===d.m.NewOrders&&l.length>0;return a.a.createElement(a.a.Fragment,null,l.map(function(e){return a.a.createElement(Ie,{key:e.id,order:e,showBranch:t.list.branchesFilter.length>1})}),a.a.createElement(C,{shouldPlay:u}))});function Be(){var e=Object(O.a)(["\n  border: 1px solid ",";\n  width: 1px;\n  height: 100%;\n  position: absolute;\n  left: -0.5rem;\n"]);return Be=function(){return e},e}function Pe(){var e=Object(O.a)(["\n  position: absolute;\n  left: 16rem;\n  top: 0.4rem;\n  width: calc(100vw - 33rem);\n  z-index: 120;\n"]);return Pe=function(){return e},e}var _e=k.default.div(Pe()),Fe=k.default.div(Be(),S.a.white),ze=function(){return a.a.createElement(Le,null,a.a.createElement(f.a,{pageTitle:s.b._("Kitchen"),useBackButton:!0,showSoundControl:!0},a.a.createElement(l.a,null,a.a.createElement(_e,null,a.a.createElement(v.a,null))),a.a.createElement(l.b,null,a.a.createElement(u.a,{gridRowInMobile:1},a.a.createElement(v.a,null))),a.a.createElement(m.a,{withScrollArea:!0,row:1,rowInMobile:2,widthInColumns:5},a.a.createElement(De,{category:d.m.NewOrders})),a.a.createElement(m.a,{withScrollArea:!0,row:1,rowInMobile:3,column:5,widthInColumns:6},a.a.createElement(De,{category:d.m.Preparing}),a.a.createElement(Fe,null)),a.a.createElement(m.a,{withScrollArea:!0,row:1,rowInMobile:4,column:11,widthInColumns:5},a.a.createElement(De,{category:d.m.ReadyToDeliver}),a.a.createElement(Fe,null))))},We=function(){return a.a.createElement(se,null,a.a.createElement(f.a,{pageTitle:s.b._("Completion"),useBackButton:!0,showSoundControl:!0},a.a.createElement(l.a,null,a.a.createElement(_e,null,a.a.createElement(v.a,null))),a.a.createElement(l.b,null,a.a.createElement(u.a,{gridRowInMobile:1},a.a.createElement(v.a,null))),a.a.createElement(m.a,{withScrollArea:!0,row:1,rowInMobile:2,widthInColumns:5},a.a.createElement(me,{category:d.m.NewOrders})),a.a.createElement(m.a,{withScrollArea:!0,row:1,rowInMobile:3,column:5,widthInColumns:6},a.a.createElement(me,{category:d.m.Preparing}),a.a.createElement(Fe,null)),a.a.createElement(m.a,{withScrollArea:!0,row:1,rowInMobile:4,column:11,widthInColumns:5},a.a.createElement(me,{category:d.m.ReadyToDeliver}),a.a.createElement(Fe,null))))};t.d(n,"KitchenRoutes",function(){return Ue});var Ue=function(e){var n=e.match;return a.a.createElement(a.a.Fragment,null,a.a.createElement(o.Switch,null,a.a.createElement(c.a,{exact:!0,path:n.path,component:ze}),a.a.createElement(c.a,{exact:!0,path:"".concat(n.path,"/completion"),component:We}),a.a.createElement(o.Route,{component:i.a})))};n.default=Ue}}]);
//# sourceMappingURL=177.d8ddf6ae.chunk.js.map