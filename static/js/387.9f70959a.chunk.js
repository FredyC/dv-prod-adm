(this.webpackJsonpspeedlo=this.webpackJsonpspeedlo||[]).push([[387],{1367:function(e,n,a){"use strict";a.d(n,"a",(function(){return i})),a.d(n,"b",(function(){return i}));var t=a(18),r=a(1365),o=a(14),i=t.c.input.attrs((function(e){var n=e.invalid,a=void 0!==n&&n,t=e.inputFullWidth,o=void 0!==t&&t;return{className:Object(r.b)({invalid:a,fullWidth:o})}})).withConfig({displayName:"FormInputStyled",componentId:"sc-18qocdt-0"})(["margin:",";&.invalid{border:1px "," solid;background-color:",";}&.fullWidth{width:100%;}"],o.d.MarginAroundFormComponents,o.a.red,o.a.errorBackground)},1403:function(e,n,a){var t={"./cs.svg":1404,"./de.svg":1405,"./en.svg":1406,"./pl.svg":1407,"./sk.svg":1408};function r(e){var n=o(e);return a(n)}function o(e){if(!a.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}r.keys=function(){return Object.keys(t)},r.resolve=o,e.exports=r,r.id=1403},1409:function(e,n,a){var t={"./logo-doveze.svg":1410,"./logo-gopay.svg":1411,"./logo-mastercard.svg":1412,"./logo-visa.svg":1413};function r(e){var n=o(e);return a(n)}function o(e){if(!a.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}r.keys=function(){return Object.keys(t)},r.resolve=o,e.exports=r,r.id=1409},1487:function(e,n,a){"use strict";a.d(n,"a",(function(){return l}));var t=a(4),r=a(18),o=a(1488),i=a.n(o),s=a(1489),c=a.n(s);function d(){var e=Object(t.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover;\n\n  @media only screen and (-webkit-min-device-pixel-ratio: 1.3),\n    only screen and (min--moz-device-pixel-ratio: 1.3),\n    only screen and (-o-min-device-pixel-ratio: 2.6/2),\n    only screen and (min-device-pixel-ratio: 1.3),\n    only screen and (min-width: 1024px) {\n    background-image: url(",");\n  }\n"]);return d=function(){return e},e}var l=r.c.div(d(),i.a,c.a)},1488:function(e,n,a){e.exports=a.p+"static/media/bg_login.382d98be.jpg"},1489:function(e,n,a){e.exports=a.p+"static/media/bg_login@2x.35ab1818.jpg"},1490:function(e,n,a){"use strict";a.d(n,"a",(function(){return o}));var t=a(18),r=a(14),o=t.c.div.withConfig({displayName:"PasswordPageGrid",componentId:"qobi9l-0"})(["display:grid;width:100vw;height:100vh;grid-gap:",";grid-template-columns:repeat(16,1fr);grid-template-rows:repeat(7,3rem);padding:0 "," 0 ",";"],r.d.Middle,r.d.Small,r.d.Small)},2817:function(e,n,a){"use strict";a.r(n);var t=a(54),r=a.n(t),o=a(46),i=a(67),s=a(0),c=a.n(s),d=a(59),l=a(40),u=a(78),p=a(42),g=a(255),m=a(36),b=a(1487),v=a(444),h=a(242),f=a(1490),w=a(18),y=a(79),k=a(2795),E=a(2796),C=a(1367),O=a(442),x=a(89),_=a(1896),j=a.n(_),P=function(e){var n=e.children,a=Object(s.useState)(""),t=Object(o.a)(a,2),r=t[0],i=t[1],d={minLen:function(e){return m.b._("Minimal length is {length}",{length:e})},maxLen:function(e){return m.b._("Maximal length is {length}",{length:e})},digits:m.b._("Requires at least one digit"),uppercaseChars:m.b._("Requires at least one uppercase character")},l=Object(s.useCallback)((function(){return r}),[r]);return c.a.createElement(j.a,{minLen:6,maxLen:30,digits:1,uppercaseChars:1,defaultMessages:d,onChange:i},(function(e){return n(Object(x.a)({},e,{getPassword:l}))}))},L=a(158),T=a(131),S=a(14),M=w.c.div.withConfig({displayName:"StyledPasswordChangeForm",componentId:"sc-3memsc-0"})([".password{display:inline-block;margin:0.5rem;button{display:inline-block;width:3rem;}}.error{background-color:",";opacity:0.8;padding:1rem;width:31rem;}"],S.a.red),N=function(e){var n=e.onSubmitChange,a=e.buttonLabel;return c.a.createElement(P,null,(function(e){var t=e.getInputProps,r=e.valid,o=e.errors,i=e.touched,s=e.isVisible,d=e.toggleShowPassword,l=e.getPassword;return c.a.createElement(M,null,c.a.createElement("div",{className:"password"},c.a.createElement(C.a,Object.assign({},t(),{name:"password",placeholder:m.b._("new password"),invalid:i&&!r})),c.a.createElement(T.a,{color:S.a.greyMiddle,onClick:d,icon:s?k.a:E.a,iconSize:2})),c.a.createElement(O.a,{margin:"".concat(S.d.Middle," 0 0 0")},c.a.createElement(L.a,{width:14},c.a.createElement(T.a,{color:S.a.green,disabled:!r,onClick:function(e){e.preventDefault(),n(l())}},a))),i&&!r&&c.a.createElement("div",{className:"error"},c.a.createElement(y.Trans,{id:"Password is invalid due to following errors:"}),c.a.createElement("ul",null,o.map((function(e){return c.a.createElement("li",{key:e.key},e.message)})))))}))},q=function(e){var n=e.onPasswordChange,a=e.pageTitle,t=e.buttonLabel;return c.a.createElement(b.a,null,c.a.createElement(h.a,{title:a}),c.a.createElement(f.a,null,c.a.createElement(v.a,{gridRow:"2 / span 2",gridColumn:"6 / span 6"},c.a.createElement(h.a.Display,null)),c.a.createElement(v.a,{gridRow:"4 / span 6",gridColumn:"6 / span 6"},c.a.createElement(N,{onSubmitChange:n,buttonLabel:t}))))};a.d(n,"PasswordChangeRoute",(function(){return R}));var R=function(e){var n=e.history,a=e.location,t=e.match,s=Object(l.b)().auth,b=Object(g.a)(),v=b.enqueueError,h=b.enqueueSuccess,f=Object(i.d)(),w=t.params.token,y=window.atob(w);f.setExtras({tempToken:w,decodedTempToken:y});var k=Object(u.gb)({fetchPolicy:"no-cache",context:{overrideWithToken:y}}),E=Object(o.a)(k,1)[0];if(!w)return Object(p.a)("no token has been passed to change password"),v(m.b._("Request for password update is invalid. Please try again.")),c.a.createElement(d.b,{to:"/"});var C={onPasswordChange:function(e){var a,t,o,c;return r.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,r.a.awrap(E({password:e}));case 2:(a=d.sent)?(t=a.change,o=t.userId,c=t.newToken,s.invalidate(),s.authenticate(c,o),h(m.b._("Password has been updated."))):(i.a.captureMessage("Password change failed"),v(m.b._("Request for password update is invalid. Please try again."))),n.replace("/");case 5:case"end":return d.stop()}}))},pageTitle:"",buttonLabel:""};if(a.pathname.includes("register"))C.pageTitle=m.b._("Set up password"),C.buttonLabel=m.b._("Create password");else{if(!a.pathname.includes("recovery"))return c.a.createElement(d.b,{to:"/"});C.pageTitle=m.b._("Password recovery"),C.buttonLabel=m.b._("Update password")}return c.a.createElement(q,C)};n.default=R}}]);
//# sourceMappingURL=387.9f70959a.chunk.js.map