(window.webpackJsonpspeedlo=window.webpackJsonpspeedlo||[]).push([[187],{1495:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var n=a(4);function r(){var e=Object(n.a)(["\n  height: ",";\n"]);return r=function(){return e},e}var c=a(24).c.div(r(),function(e){var t=e.size,a=void 0===t?1:t,n=e.sizeUnit,r=void 0===n?"rem":n;return"".concat(a).concat(r)});c.displayName="VerticalGap"},1521:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(88),r=a(21),c=a(1453),i=a(64),l=a(0),o=a.n(l),u=a(1458),s=o.a.forwardRef(function(e,t){var a=e.fieldName,l=e.fullWidth,s=e.addHiddenLabelWithPlaceholderText,d=void 0===s||s,m=Object(r.a)(e,["fieldName","fullWidth","addHiddenLabelWithPlaceholderText"]),b=Object(c.e)(a),p=Object(n.a)(b,2),f=p[0],g=p[1];return Object(i.g)(function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.b,Object.assign({},g(),{invalid:f.touched&&Boolean(f.error),inputFullWidth:l,ref:t},m)),d&&m.placeholder&&o.a.createElement("label",{hidden:!0,htmlFor:f.name},m.placeholder))})})},1523:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(21),r=a(1826),c=a(0),i=a.n(c),l=a(332),o=a(20),u=a(139),s=function(e){var t=e.onDelete,a=e.confirmText,c=Object(n.a)(e,["onDelete","confirmText"]);return i.a.createElement(l.a,null,i.a.createElement(u.a,Object.assign({icon:r.a,color:o.a.greyMiddle,onClick:function(e){e.preventDefault(),a&&!window.confirm(a)||t()}},c)))}},1532:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"c",function(){return i}),a.d(t,"b",function(){return l});var n=a(1527),r=a(46);function c(e){return!e.errors||0===Object.keys(e.errors).length}function i(e){return function(t){return Object(n.isEmpty)(t+"")?r.b._("{fieldName} must be entered",{fieldName:e}):null}}function l(e){return"number"===typeof e?e:Number.parseFloat(e.replace(",","."))}},1621:function(e,t,a){"use strict";a.d(t,"a",function(){return d});var n=a(21),r=a(1842),c=a(1453),i=a(64),l=a(0),o=a.n(l),u=a(139),s=a(20),d=function(e){var t=e.children,a=e.id,l=void 0===a?"form-submit":a,d=Object(n.a)(e,["children","id"]),m=Object(c.h)();return Object(i.g)(function(){return o.a.createElement(u.a,Object.assign({type:"submit",color:s.a.green,disabled:m.isSubmitting&&m.isDirty,id:l,icon:m.isValid?void 0:r.a,iconSize:1.1,iconColor:s.a.red},d),o.a.createElement(o.a.Fragment,null,t))})}},1622:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=a(24).c.div.withConfig({displayName:"FlexDiv",componentId:"dwel3j-0"})(["display:flex;"])},1643:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(4),r=a(2862),c=a(0),i=a.n(c),l=a(1567),o=a(24),u=a(177);function s(){var e=Object(n.a)(["\n  padding: 1rem 0.4rem;\n  cursor: grab;\n"]);return s=function(){return e},e}var d=o.c.div(s()),m=Object(l.c)(function(){return i.a.createElement(d,null,i.a.createElement(u.a,{icon:r.a}))})},1657:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return l});var n=a(24),r=(a(1658),a(20)),c=function(e){var t=e.fontSize,a=void 0===t?2:t,n=e.fontSizeUnit,c=void 0===n?r.d.DefaultSizeUnit:n;return"".concat(a).concat(c)},i=n.c.div.attrs(function(e){return{className:l(e.pictogramId)}}).withConfig({displayName:"PictogramDisplay",componentId:"sc-6st3s9-0"})(["&:before{font-size:"," !important;margin-left:0.5rem !important;}"],c);function l(e){return"flaticon-".concat(e)}},1658:function(e,t,a){},1842:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(48);t.a=Object(c.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),"ErrorOutline")},2864:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(68),i=a(201),l=a(116),o=a(1520),u=a(4),s=a(24),d=a(198),m=a(1468),b=a(1467),p=a(1495),f=a(72),g=a(46),h=a(199),v=a(1465),y=a(1524),E=a(333),O=a(102),j=a(64),w=a(60),C=a(139),x=a(20);function k(){var e=Object(u.a)(["\n  white-space: nowrap;\n  margin-left: 2rem;\n  & a {\n    text-decoration: none;\n    color: ",";\n    padding: 1rem;\n  }\n"]);return k=function(){return e},e}var T=Object(s.c)(C.a)(k(),x.a.black),R=Object(j.b)(function(){var e=Object(w.b)().settings,t=Object(f.xb)({branchId:e.branchId},{fetchPolicy:"cache-first"}),a=t.loading,n=t.data;return a||!n.companyBranch.foodMenuUrl?null:r.a.createElement(T,{color:x.a.greyMiddle},r.a.createElement("a",{href:n.companyBranch.foodMenuUrl,target:"_blank",rel:"noopener noreferrer"},r.a.createElement(O.Trans,{id:"Menu codes manual"})))}),P=a(36),I=a.n(P),L=a(81),N=a(88),S=a(1502),D=a(1464),W=a(343),M=a(1795),_=a(1501),z=a(31),B=a(1643),V=a(21),q=a(93),F=a(52),H=a(44),A=a(74),U=a(75),K=a(76),G=a(1567),Q=Object(G.b)(function(e){var t=e.columns,a=e.style,n=e.className;return r.a.createElement("div",{style:a,className:n},t)}),J=Object(G.a)(S.f),Y=function(e){function t(){var e,a;Object(F.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(A.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(c)))).state={sortedItems:a.props.items},a.rowRenderer=function(e){return r.a.createElement(Q,e)},a.onHandleSorting=function(){var e=Object(L.a)(I.a.mark(function e(t){var n,r,c,i,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.newIndex,r=t.oldIndex,n!==r){e.next=3;break}return e.abrupt("return");case 3:if(c=Object(q.a)(a.state.sortedItems),i=Object(G.d)(a.state.sortedItems,r,n),a.setState({sortedItems:i}),!a.props.onSort){e.next=15;break}if(l=a.props.onSort({item:c[r],items:i,offset:n-r,newIndex:n,oldIndex:r}),e.t0=l,!e.t0){e.next=13;break}return e.next=12,l;case 12:e.t0=!e.sent;case 13:if(!e.t0){e.next=15;break}a.setState({sortedItems:c});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(K.a)(t,e),Object(H.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.items,Object(V.a)(e,["items"]));return r.a.createElement(J,Object.assign({lockAxis:"y",useDragHandle:!0,onSortEnd:this.onHandleSorting,rowRenderer:this.rowRenderer},t,{items:this.state.sortedItems}))}}]),t}(r.a.PureComponent);function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach(function(t){Object(z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}Y.getDerivedStateFromProps=function(e){return{sortedItems:e.items}};var Z=function(e){var t=e.categories,a=e.children,n=e.onToggle,c=e.onRemove,i=e.onSort,l=e.showEditColumn,o=void 0===l||l,u=e.showRemoveColumn,s=void 0!==u&&u,d=e.showVisibilityColumn,m=void 0!==d&&d,b=e.showHeader,p=void 0===b||b,f=e.isSortable,h=void 0!==f&&f,v=e.isLoading,y=void 0!==v&&v,E=e.heightStretch,O=void 0!==E&&E,j=e.fullHeight,w=void 0!==j&&j,C=e.noRowsDisplay,k=void 0===C?r.a.createElement(S.g,{text:g.b._("No recipes in category")}):C,T={isLoading:y,items:t,disableHeader:!p,heightStretch:O,fullHeight:w,noRowsRenderer:function(){return k}},R=Object(_.a)().getCategoryEditRoute,P=[o&&r.a.createElement(S.a,{dataKey:"id",width:x.d.ButtonColumnWidthPx,minWidth:x.d.ButtonColumnWidthPx,cellRenderer:Object(S.h)({canQuery:"wareCategory"},S.b),cellDataGetter:function(e){var t=e.rowData;return R(t.id,t.categoryType.enum)}}),s&&r.a.createElement(S.a,{dataKey:"id",width:x.d.ButtonColumnWidthPx,minWidth:x.d.ButtonColumnWidthPx,cellRenderer:S.c,columnData:{onRemove:c}}),m&&r.a.createElement(S.a,{dataKey:"visible",width:x.d.ButtonColumnWidthPx,minWidth:x.d.ButtonColumnWidthPx,cellRenderer:Object(S.h)({canMutate:"updateWareCategory"},S.d),columnData:{onToggle:n}}),r.a.createElement(S.a,{dataKey:"nameLabel",width:300,label:g.b._("Name"),cellRenderer:S.e,columnData:{noteKey:"internalNote"}}),r.a.createElement(S.a,{dataKey:"countRecipes",label:g.b._("Recipe count"),width:100,cellRenderer:function(e){var t=e.cellData;return"".concat(t," ").concat(g.b._("Recipes").toLocaleLowerCase())}}),a,h&&r.a.createElement(S.a,{dataKey:"id",width:50,cellRenderer:function(){return r.a.createElement(B.a,null)}})];return h?r.a.createElement.apply(r.a,[Y,$({onSort:i},T)].concat(P)):r.a.createElement.apply(r.a,[S.f,T].concat(P))};function ee(){var e=Object(u.a)(["\n  .origins span {\n    display: inline-block;\n    margin: 0.2rem;\n    padding: 0.2rem;\n    background-color: ",";\n  }\n"]);return ee=function(){return e},e}var te=s.c.div(ee(),x.a.greyLight),ae=Object(j.b)(function(e){var t=e.headline,a=e.subHeadline,n=void 0!==a&&a,c=e.categoryType,i=Object(w.b)().settings,l=Object(f.vb)({branchId:i.branchId,categoryType:c}),o=l.data,u=l.loading,s=l.updateQuery,d=l.refetch,p=Object(f.wb)({},{fetchPolicy:"cache-first"}).data,g=r.a.useMemo(function(){return p&&p.origins?p.origins.reduce(function(e,t){return e[t.enum]=t.code,e},{}):{}},[p]),h=r.a.useCallback(function(e){var t=e.cellData;return t.sort(),t.map(function(e){return r.a.createElement("span",{key:e},g[e])})},[g]),v=Object(f.S)(),y=Object(N.a)(v,1)[0],E=r.a.useCallback(function(e,t){y({categoryId:e,visible:t},{optimisticResponse:{updateWareCategory:{__typename:"WareCategory",id:e,visible:t}}})},[y]),O=Object(f.Q)(),j=Object(N.a)(O,1)[0],C=r.a.useCallback(function(){var e=Object(L.a)(I.a.mark(function e(t){var a,n,r,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.item,n=t.items,r=t.offset,s(function(){return{categories:n}}),e.next=4,j({categoryId:a.id,offset:r});case 4:if(!(c=e.sent)){e.next=9;break}return e.next=8,d();case 8:return e.abrupt("return",c.success);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[d,j,s]),x=Object(W.a)()(u,function(){return o.categories}),k=Object(_.a)().getCategoryCreateRoute;return r.a.createElement(te,null,r.a.createElement(b.a,null,r.a.createElement(m.a,{widthGrowIndex:1},r.a.createElement(D.a,null,t),n&&r.a.createElement(D.a,{size:"smaller"},n)),r.a.createElement(m.a,{fixedWidth:!0},r.a.createElement(M.a,{routeTo:k(c)}))),r.a.createElement(Z,{isLoading:u,categories:x||[],onToggle:E,isSortable:!0,showHeader:!1,fullHeight:!0,showVisibilityColumn:!0,onSort:C},r.a.createElement(S.a,{dataKey:"origins",width:300,className:"origins",cellRenderer:h,style:{fontSize:"0.8rem"}})))});function ne(){var e=Object(u.a)(["\n  height: calc(100% - 3.5rem);\n  padding-top: 1rem;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n"]);return ne=function(){return e},e}var re=s.c.div(ne()),ce=function(){return r.a.createElement(h.a,{pageTitle:g.b._("Category overview"),useBackButton:!0,backRoute:E.a},r.a.createElement(v.a,{forcePercentHeightInMobile:100},r.a.createElement(d.a,{stretchToParent:!0},r.a.createElement(b.a,{justify:"start"},r.a.createElement(m.a,null,r.a.createElement(y.a,{width:20})),r.a.createElement(m.a,null,r.a.createElement(R,null))),r.a.createElement(re,null,r.a.createElement(ae,{categoryType:f.q.Main,headline:g.b._("Category of recipes")}),r.a.createElement(p.a,{size:1.5}),r.a.createElement(ae,{categoryType:f.q.SideDish,headline:g.b._("Category of sidedish")}),r.a.createElement(p.a,{size:1.5}),r.a.createElement(ae,{categoryType:f.q.Cover,headline:g.b._("Category of covers")})))))};function ie(){var e=Object(u.a)(["\n  position: fixed;\n  z-index: 500;\n  right: 0.5rem;\n  top: 0.5rem;\n  width: 10rem;\n  opacity: 0.96;\n  background: ",";\n  border-radius: ",";\n"]);return ie=function(){return e},e}var le=s.c.div(ie(),x.a.black,x.c.Button),oe=a(1453);function ue(){return Object(oe.f)("itemType").value}var se=function(e){var t=e.isMain,a=e.isSideDish,n=e.isCover,c=e.children,i=ue();return!0===t&&i===f.q.Main||!0===a&&i===f.q.SideDish||!0===n&&i===f.q.Cover?r.a.createElement(r.a.Fragment,null,c):null},de=a(1621),me=a(1454),be=function(e){var t=e.isCreate,a=e.createMutation,n=e.updateMutation;return Object(me.b)(t?a:n)?r.a.createElement(de.a,null,t?r.a.createElement(O.Trans,{id:"Create"}):r.a.createElement(O.Trans,{id:"Save"})):null},pe=a(1642),fe=a(47),ge=a(1504),he=a(57),ve=(a(51),a(200)),ye=void 0;function Ee(e){var t=e.isCreate,a=e.initialValues,n=e.loadCreateDefaults,c=e.loadUpdateValues,i=e.onCreate,l=e.onUpdate,o=e.createSuccessMessage,u=e.updateSuccessMessage,s=e.successRedirectPath,d=e.validationSchema,m=e.children,b=function(e){var t=e.onSubmit,a=e.initialValues,n=e.loadValues,c=e.validationSchema,i=e.submitMessage,l=e.submitRedirectPath,o=Object(he.m)().history,u=Object(ve.a)(),s=u.enqueueSuccess,d=u.enqueueWarning,m=r.a.useCallback(function(){var e=Object(L.a)(I.a.mark(function e(a){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a);case 2:i&&s(i),l&&o.push(l);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[s,o,t,i,l]),b=r.a.useCallback(function(e,t){var a=!0,n=!1,r=void 0;try{for(var c,i=t.values()[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var l=c.value;l&&d(l)}}catch(o){n=!0,r=o}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}},[d]),p=r.a.useRef(!1),f=r.a.useCallback(function(){p.current=!1},[]),g=Object(oe.g)({onSubmit:m,onSubmitFailed:b,onReset:f,validationSchema:c,initialValues:a,initialValidationEnabled:void 0===n,ignoreUnknownFieldsInValidation:!0,onFormChanges:ye});return r.a.useEffect(function(){p.current||(n&&Promise.resolve(n(g.state.initialValues)).then(function(e){e&&(g.api.mergeValues(e),g.state.pristineValues=g.state.values),g.api.enableValidation()}),p.current=!0)},[n,g]),g}({initialValues:a,validationSchema:d,onSubmit:t?i:l,loadValues:t?n:c,submitMessage:t?o:u,submitRedirectPath:s});return r.a.createElement(oe.b,{xform:b},m)}function Oe(){return Object(oe.f)("id").value}function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var we=fe.RM.propEq("language");function Ce(){var e=Object(oe.f)("translations").value,t=function(t){return e&&e.find(we(t))},a=function(e){return t(e)};return{hasTranslation:function(e){return!!t(e)},getTranslation:a,getTranslationOrCreate:function(n,r){var c=t(n);return c||(e.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach(function(t){Object(z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({language:n},r())),a(n))}}}var xe=Object(j.b)(function(e){var t=e.loadTranslations,a=Object(ge.a)(),n="NEW"===Oe(),c=Ce(),i=c.hasTranslation,l=c.getTranslationOrCreate;return r.a.useEffect(function(){a.branch&&!a.branch.supportedLanguages.includes(a.currentLanguage)&&a.setLanguage(a.defaultLanguage)},[a]),a.isDefaultLanguage||n?null:i(a.currentLanguage)?null:(t(a.currentLanguage).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(l(a.currentLanguage,function(){return e}),e)}),null)});function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(a,!0).forEach(function(t){Object(z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Re=function(e){var t=e.isCreate,a=e.categoryId,n=e.categoryType,c=e.children,i=Object(ge.a)(),l=Object(_.a)().redirectToCategoryList,u=Object(oe.c)(function(e){return{nameLabel:e.string().required(g.b._("Category name in default language must be entered."))}}),s=Object(f.s)(),d=Object(N.a)(s,1)[0],m=r.a.useCallback(function(){var e=Object(L.a)(I.a.mark(function e(t){var r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({categoryId:a},{fetchPolicy:"no-cache"});case 2:if(null!==(r=e.sent)){e.next=6;break}return l(),e.abrupt("return",t);case 6:return e.abrupt("return",Te({},r.category,{itemType:n,origins:Object(q.a)(r.category.origins)}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[a,n,d,l]),b=Object(f.R)(),p=Object(N.a)(b,1)[0],h=r.a.useCallback(function(e,t){return p({categoryId:e,category:Te({},Ie(t),{translations:t.translations})})},[p]),v=r.a.useCallback(function(e){return h(a,e)},[a,h]),y=Object(f.O)(),E=Object(N.a)(y,1)[0],O=r.a.useCallback(function(){var e=Object(L.a)(I.a.mark(function e(t){var a,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({category:Te({companyBranch:i.branchId,wareCategoryType:n},Ie(t))});case 2:(a=e.sent)&&t.translations&&t.translations.length>0&&(r=a.createCategory.id,h(r,t));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[n,E,h,i]),j=Object(f.t)(),w=Object(N.a)(j,1)[0],C=r.a.useCallback(function(){var e=Object(L.a)(I.a.mark(function e(t){var n,r,c,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({categoryId:a,language:t},{fetchPolicy:"no-cache"});case 2:if(null!==(n=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return r=n.category,c=r.nameLabel,i=r.internalNoteLabel,e.abrupt("return",{nameLabel:c,internalNoteLabel:i});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[a,w]);return r.a.createElement(Ee,{isCreate:t,onCreate:O,onUpdate:v,initialValues:Pe(n),loadUpdateValues:m,validationSchema:u,successRedirectPath:o.b},r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{loadTranslations:C}),c))};function Pe(e){return{id:"NEW",itemType:e,visible:!0,internalNoteLabel:"",pictogram:"",nameLabel:"",minCount:0,maxCount:0,recipes:[],origins:[],translations:[]}}function Ie(e){return{nameLabel:e.nameLabel,internalNoteLabel:e.internalNoteLabel,enabled:e.visible,pictogram:e.pictogram,recipes:e.recipes.map(fe.idProp),minCount:e.minCount,maxCount:e.maxCount,orderOriginCategories:e.origins}}var Le=a(1482),Ne=a(1451),Se=a(1523),De=Object(j.b)(function(e){var t=e.fieldName,a=void 0===t?"id":t,n=e.mutationName,c=e.confirmText,i=e.onDelete,l=Object(oe.d)(a),o=Object(me.a)([],n?[n]:[]),u=Object(he.m)().history;return o&&"NEW"!==l.value?r.a.createElement(Se.a,{type:"button",confirmText:c,onDelete:Object(L.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(l.value);case 2:u.goBack();case 3:case"end":return e.stop()}},e)}))}):null}),We=a(1661),Me=a(58);function _e(){var e=Object(u.a)(["\n    grid-template-columns: "," 1fr ",";\n    grid-template-rows: auto auto auto auto;\n    grid-row-gap: ",";\n    grid-template-areas:\n      '. contentTopRight    contentTopRight'\n      '. contentPrimary     .'\n      '. contentSecondary   .'\n      '. contentBottomRight contentBottomRight'\n  "]);return _e=function(){return e},e}var ze=s.c.div.withConfig({displayName:"StyledFormLayoutGrid",componentId:"sc-1lamm5d-0"})(["display:grid;margin:-",";grid-column-gap:",";grid-template-columns:"," "," "," auto;grid-template-rows:"," auto 1fr auto ",";grid-template-areas:'. .              .                contentTopRight' '. contentPrimary contentSecondary contentTopRight' '. contentPrimary contentSecondary .' '. contentPrimary contentSecondary contentBottomRight' '. .              .                contentBottomRight';.contentPrimary{grid-area:contentPrimary;}.contentSecondary{grid-area:contentSecondary;}.contentTopRight{grid-area:contentTopRight;justify-self:end;align-self:start;}.contentBottomRight{grid-area:contentBottomRight;justify-self:end;align-self:end;}",";"],x.d.Middle,x.d.Middle,x.d.Middle,function(e){return e.primaryColumnWidth},function(e){return e.secondaryColumnWidth},x.d.Middle,x.d.Middle,Object(Me.d)(_e(),x.d.Middle,x.d.Middle,x.d.Middle)),Be=function(e){var t=e.contentPrimary,a=e.contentSecondary,n=e.contentTopRight,c=e.contentBottomRight,i=e.primaryColumnWidth,l=void 0===i?"1fr":i,o=e.secondaryColumnWidth,u=void 0===o?"0":o;return r.a.createElement(ze,{primaryColumnWidth:l,secondaryColumnWidth:u},r.a.createElement("div",{className:"contentPrimary"},t),r.a.createElement("div",{className:"contentSecondary"},a),r.a.createElement("div",{className:"contentTopRight"},n),r.a.createElement("div",{className:"contentBottomRight"},c))},Ve=a(1457),qe=function(e){var t=e.fieldName,a=Object(V.a)(e,["fieldName"]),n=Object(oe.d)(t),c=a.isMulti,i=a.options,l=a.getOptionValue;return Object(j.g)(function(){return r.a.createElement(Ve.a,Object.assign({},c?function(){var e=n.value,t=Array.isArray(e)?function(t){return e.includes(l(t))}:fe.RM.F;return{value:Array.isArray(i)?i.filter(t):[],onChange:function(e){n.setValue(e.map(l))}}}():function(){var e=n.value;return{value:e&&i.find(function(t){return l(t)===e}),onChange:function(e){n.setValue(l(e))}}}(),{onFocus:function(){return n.setTouched()},invalid:n.touched&&n.hasError},a))})},Fe=function(){var e=Object(f.wb)(),t=e.data,a=e.loading;return r.a.createElement(Ne.a,{label:g.b._("cat. origins"),labelWidth:7},r.a.createElement(qe,{fieldName:"origins",isMulti:!0,isLoading:a,isSearchable:!0,options:a?[]:t.origins,getOptionLabel:fe.RM.prop("code"),getOptionValue:fe.RM.prop("enum")}))},He=a(1507),Ae=a(1657),Ue=a(42);function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(a,!0).forEach(function(t){Object(z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Qe=function(){var e=Object(oe.d)("pictogram");return Object(j.g)(function(){return r.a.createElement(Ve.a,{value:e.value?{pictogram:e.value}:null,onChange:function(t){t&&e.setValue(t.pictogram)},options:He.pictograms.map(function(e){return{pictogram:e}}),getOptionValue:Ue.a.prop("pictogram"),formatOptionLabel:function(e){var t=e.pictogram;return r.a.createElement(Ae.a,{pictogramId:t,fontSize:2})},components:{SingleValue:function(e){var t=e.data;return r.a.createElement(Ae.a,{pictogramId:t.pictogram,fontSize:4})}},styles:{container:function(e){return Ge({},e,{width:"8rem"})},menuList:function(e){return Ge({},e,{maxHeight:"35rem"})}},isClearable:!1,isSearchable:!1,minWidth:8})})},Je=a(1521),Ye=a(1458),Xe=s.c.div.withConfig({displayName:"StyledMenuTranslationInput",componentId:"sc-1soh2vg-0"})(["position:relative;.original{font-size:0.9rem;padding:0.3rem 0;opacity:0.7;}.original img{width:1.5rem;margin:0 0.6rem;}.current-language{width:1.5rem;position:absolute;right:0.5rem;top:0.8rem;border:1px #aaa solid;box-sizing:content-box;}"]),$e=Object(j.b)(function(e){var t=e.fieldName,a=e.placeholder,n=Object(oe.e)(t),c=Object(N.a)(n,2),i=c[0],l=c[1],o=Object(ge.a)(),u=Ce(),s=u.getTranslation,d=u.getTranslationOrCreate,m=!o.isDefaultLanguage,b=s(o.currentLanguage),p=m?b&&b[i.name]:i.value,f=l();return r.a.createElement(Xe,null,r.a.createElement(Ye.b,Object.assign({},f,{value:p||"",onChange:m?function(e){var t=e.target.value;d(o.currentLanguage,function(){return{}})[i.name]=t}:f.onChange,inputFullWidth:!0,invalid:!m&&i.touched&&i.hasError,placeholder:a})),r.a.createElement("img",{className:"current-language",src:Object(He.getFlag)(o.currentLanguage),alt:"translation"}),m&&r.a.createElement("div",{className:"original",onClick:function(){return o.setLanguage(o.defaultLanguage)}},r.a.createElement("img",{src:Object(He.getFlag)(o.defaultLanguage),alt:"original text"}),i.value||r.a.createElement("i",null,g.b._("No text is filled"))))}),Ze=function(e){var t=e.fieldName,a=void 0===t?"internalNote":t,n=e.label,c=void 0===n?r.a.createElement(O.Trans,{id:"Internal note"}):n,i=e.placeholder,l=e.localized,o=void 0!==l&&l,u={fieldName:a,placeholder:i,fullWidth:!0};return r.a.createElement(Ne.a,{label:c,labelWidth:7},o?r.a.createElement($e,u):r.a.createElement(Je.a,u))},et=a(1455),tt=Object(s.c)(et.a).withConfig({displayName:"StyledLanguagePicker",componentId:"sc-1hgrqes-0"})(["transform:scale(2) translateY(0.5rem);transform-origin:right;height:2.5rem;"]),at=Object(j.b)(function(){var e=Object(ge.a)();return r.a.createElement("div",null,r.a.createElement(tt,{availableLanguages:e.supportedLanguages,selectedLanguage:e.currentLanguage,onChange:e.setLanguage,formatLanguage:fe.RM.identity,arrowColor:x.a.greyMiddle}))}),nt=a(2860);function rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ct=function(e){var t=e.fieldName,a=void 0===t?"nameLabel":t,n=e.localized,c=void 0!==n&&n,i=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rt(a,!0).forEach(function(t){Object(z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({fieldName:a},Object(V.a)(e,["fieldName","localized"]));return r.a.createElement(Ne.a,{icon:nt.a,labelWidth:x.d.DefaultLabelWidth},c?r.a.createElement($e,i):r.a.createElement(Je.a,i))},it=function(){var e=Object(f.P)(),t=Object(N.a)(e,1)[0];return r.a.createElement(Be,{primaryColumnWidth:"minmax(10rem, 45rem)",secondaryColumnWidth:"14rem",contentPrimary:r.a.createElement(Le.a,null,r.a.createElement(ct,{placeholder:g.b._("Category name"),localized:!0}),r.a.createElement(Ze,{placeholder:g.b._("Category internal note"),fieldName:"internalNoteLabel",localized:!0}),r.a.createElement(Fe,null),r.a.createElement(Ne.a,null,r.a.createElement(We.a,{fieldName:"visible",label:g.b._("To show this category")}))),contentSecondary:r.a.createElement(se,{isMain:!0},r.a.createElement(Qe,null)),contentTopRight:r.a.createElement(at,null),contentBottomRight:r.a.createElement(De,{mutationName:"destroyWareCategory",confirmText:g.b._("Remove this category?"),onDelete:function(e){return t({categoryId:e})}})})},lt=a(1847),ot=a(1641),ut=a(1496);function st(){var e=Object(w.b)().settings;return Object(j.g)(function(){return e.branchId})}var dt=a(1803);function mt(e){var t=e.onAdd,a=e.addLabel,c=void 0===a?g.b._("Add"):a,i=e.addButtonText,l=void 0===i?g.b._("Add"):i,o=e.isLoading,u=void 0!==o&&o,s=Object(V.a)(e,["onAdd","addLabel","addButtonText","isLoading"]),d=Object(he.n)(null),p=Object(N.a)(d,2),f=p[0],h=p[1],v=Object(n.useCallback)(function(){var e=f();null!==e&&(t(e),h(null))},[f,t,h]),y=Object(n.useCallback)(function(e){"Enter"===e.key&&v()},[v]),E=Object(n.useCallback)(function(e){h(e||null)},[h]);return r.a.createElement(b.a,{justify:"flex-start"},r.a.createElement(m.a,{fixedWidth:!0,width:"4rem",margin:"auto 0"},c),r.a.createElement(m.a,{fixedWidth:!0,width:"20rem",margin:"auto 0"},r.a.createElement(Ve.a,Object.assign({value:f(),onChange:E,onKeyDown:y,isLoading:u,isMulti:!1,isClearable:!1,getOptionValue:Ue.a.prop("id"),getOptionLabel:Ue.a.propOr("","nameLabel")},s))),r.a.createElement(m.a,{fixedWidth:!0,width:"10rem",margin:"auto 0"},r.a.createElement(C.a,{text:l,disabled:null===f(),onClick:v})))}var bt=[f.r.Delivery,f.r.Inhouse];function pt(){var e=r.a.useMemo(pe.b,[]);return{priceTypes:bt,priceTypeLabels:e}}function ft(){var e=Object(u.a)(["\n      cursor: move;\n    "]);return ft=function(){return e},e}var gt=s.c.div.withConfig({displayName:"StyledCategoryRecipesView",componentId:"sc-1g4q35k-0"})(["display:flex;flex-direction:column;height:calc(100% - 2rem);width:100%;& .fixed-row{flex:0 0 auto;}& .move-cell{","}"],Object(Me.c)(ft())),ht=s.c.div.withConfig({displayName:"StyledFormStretchedRow",componentId:"sc-1g4q35k-1"})(["flex:1 1 0;margin:1rem 0 0 1rem;"]),vt=Object(G.a)(ht),yt=s.c.div.withConfig({displayName:"StyledRecipeRow",componentId:"sc-1g4q35k-2"})(["display:grid;grid-gap:1rem;grid-template-columns:","px 100px 3fr 1fr 1fr 50px;"],x.d.ButtonColumnWidthPx),Et=Object(G.b)(function(e){var t=e.recipe,a=e.onRemove,n=pt(),c=n.priceTypes,i=n.priceTypeLabels,l=c.map(function(e){var a=t.prices.find(Ue.a.pathEq(["priceType","enum"],e));return r.a.createElement("div",{className:"move-cell",key:e},r.a.createElement(ot.a,null,i[e]),a?r.a.createElement(ut.a,{currencyCode:a.price.currency.code},a.price.value):r.a.createElement("i",null,g.b._("Not set").toLocaleLowerCase()))});return r.a.createElement(yt,null,r.a.createElement("div",null,r.a.createElement(dt.a,{onClick:a})),r.a.createElement("div",{className:"move-cell"},t.code),r.a.createElement("div",{className:"move-cell"},t.nameLabel,r.a.createElement(ot.a,null,t.internalNote||"")),l,r.a.createElement(B.a,null))}),Ot=function(){var e=st(),t=ue(),a=Object(f.zb)({branchId:e,categoryType:t}),n=a.data,c=a.loading,i=Object(oe.d)("recipes"),l=r.a.useCallback(function(){var e=Object(L.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.newIndex,n=t.oldIndex,a!==n){e.next=3;break}return e.abrupt("return");case 3:i.setValue(Object(G.d)(i.value,n,a));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[i]),o=Ue.a.differenceWith(Ue.a.eqProps("id")),u=Object(Me.f)().isDesktop;return Object(j.g)(function(){return r.a.createElement(gt,null,r.a.createElement("div",{className:"fixed-row"},r.a.createElement(mt,{isLoading:c,options:c?[]:o(n.recipes,i.value),onAdd:function(e){return i.value.push(e)},getOptionLabel:function(e){var t=e.nameLabel,a=e.code;return"".concat(a," - ").concat(t)}})),r.a.createElement(vt,{lockAxis:"y",lockToContainerEdges:!0,onSortEnd:l,useDragHandle:!u},r.a.createElement(lt.a,{items:i.value,heightStretch:!0,rowHeight:60,renderItem:function(e,t){return r.a.createElement(Et,{recipe:e,onRemove:function(){i.setValue(Ue.a.reject(Object(fe.idPropEq)(e.id),i.value))},index:t})}})))})},jt=a(189),wt=a.n(jt),Ct=a(1469),xt=a(140),kt=a(1620);function Tt(){var e=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  & > label {\n    min-width: 5rem;\n  }\n  & > * {\n    margin: 0.2rem 0.5rem;\n  }\n  input.count {\n    font-size: 1.5rem;\n    line-height: 1.5rem;\n    text-align: center;\n  }\n"]);return Tt=function(){return e},e}var Rt=s.c.div(Tt()),Pt=function(e){var t=e.count,a=e.label,n=e.enabled,c=e.onChange,i=e.id,l=r.a.useRef(t);return r.a.createElement(Rt,null,r.a.createElement("label",{htmlFor:i},a),r.a.createElement(xt.a,{width:3},r.a.createElement(Ye.a,{id:i,value:0===t?"":t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){e.target.validity.valid&&c(Number.parseInt(e.target.value,10))}),onFocus:function(e){e.target.select()},disabled:0===t||!n,inputFullWidth:!0,type:"tel",pattern:"^[1-9]\\d*$",className:"count"})),r.a.createElement(xt.a,{width:4},r.a.createElement(C.a,{disabled:!n||t<=0,onClick:function(){return c(t-1)}},"\u2796")),r.a.createElement(xt.a,{width:4},r.a.createElement(C.a,{disabled:!n,onClick:function(){return c(t+1)}},"\u2795")),r.a.createElement("div",null,r.a.createElement(kt.a,null,r.a.createElement("input",{type:"checkbox",id:"".concat(i,"-nolimit"),checked:0===t,disabled:!n,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){0===t?c(l.current||1):(l.current=t,c(0))})}),r.a.createElement("label",{htmlFor:"".concat(i,"-nolimit")},r.a.createElement(O.Trans,{id:"Unlimited"})))))},It=function(){return{noLimit:{label:g.b._("No limitation"),min:0,max:0},optional:{label:g.b._("One at most"),min:0,max:1},required:{label:g.b._("One at least"),min:1,max:0},onlyOne:{label:g.b._("Exactly one"),min:1,max:1},custom:{label:g.b._("Custom range")}}},Lt=Object(j.b)(function(){var e=r.a.useMemo(It,[]),t=Object(j.e)(function(){return{currentRule:"noLimit"}}),a=function(e){t.currentRule=e},n=Object(oe.d)("minCount"),c=Object(oe.d)("maxCount");return Object(he.e)(function(){if("custom"!==t.currentRule){var r=wt.a.findKey(e,function(e){var t=e.min,a=e.max;return t===n.value&&a===c.value});r&&a(r)}}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{items:Object.keys(e),formatItem:function(t){return e[t].label},onSingleSelection:function(t){if(t){a(t);var r=e[t];n.value=r.min||0,c.value=r.max||0}},selectedItem:t.currentRule}),r.a.createElement(Pt,{id:"minCount",count:n.value,label:r.a.createElement(O.Trans,{id:"Minimum"}),enabled:"custom"===t.currentRule,onChange:n.setValue}),r.a.createElement(Pt,{id:"maxCount",count:c.value,label:r.a.createElement(O.Trans,{id:"Maximum"}),enabled:"custom"===t.currentRule,onChange:c.setValue}))}),Nt=s.c.div.withConfig({displayName:"FormContainer",componentId:"sc-154ix5u-0"})(["display:flex;flex-direction:column;height:100%;width:100%;"]),St=s.c.div.withConfig({displayName:"FormFixedRow",componentId:"sc-154ix5u-1"})(["flex:0 0 8rem;"]),Dt=s.c.div.withConfig({displayName:"FormStretchedRow",componentId:"sc-154ix5u-2"})(["flex:1 1 0;min-height:0;position:relative;"]),Wt=function(e){var t=e.match.params.categoryId,a=Object(_.a)(t),n=a.isCreate,c=a.itemType,i=a.redirectToCategoryList;return null===c?(i(),null):r.a.createElement(Re,{isCreate:n,categoryId:t,categoryType:c},r.a.createElement(h.a,{pageTitle:Object(pe.a)(c),hideLogoutWidget:!0,useBackButton:!0},r.a.createElement(v.a,{withScrollArea:!0},r.a.createElement(Nt,null,r.a.createElement(St,null,r.a.createElement(d.a,null,r.a.createElement(it,null))),r.a.createElement(se,{isSideDish:!0},r.a.createElement(St,null,r.a.createElement(d.a,null,r.a.createElement(D.a,null,r.a.createElement(O.Trans,{id:"Required amounts of recipes to be picked"})),r.a.createElement(Lt,null)))),r.a.createElement(Dt,null,r.a.createElement(d.a,{stretchToParent:!0,minHeight:25},r.a.createElement(D.a,null,r.a.createElement(O.Trans,{id:"Recipes assigned to this category"})),r.a.createElement(Ot,null))))),r.a.createElement(le,null,r.a.createElement(be,{isCreate:n,createMutation:"createWareCategory",updateMutation:"updateWareCategory"}))))},Mt=a(1644),_t=a(335),zt=a(1846),Bt=Object(j.b)(function(e){var t=e.categoryType,a=e.currentCategories,n=e.addButtonText,c=e.onAdd,i=Object(w.b)().settings,l=Object(f.vb)({branchId:i.branchId,categoryType:t}),o=l.data,u=l.loading,s=o&&o.categories||[];return r.a.createElement(mt,{isLoading:u,options:Ue.a.without(a,s),addButtonText:n,onAdd:c})}),Vt=function(e){var t=e.categoryType,a=e.addButtonText,n=e.noRowsText,c=e.name,i=Object(oe.d)(c);return Object(j.g)(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,{categories:Array.from(i.value),showRemoveColumn:!0,showEditColumn:!1,showHeader:!1,noRowsDisplay:r.a.createElement(S.g,{text:n}),onRemove:function(e){return i.value.remove(i.value.find(Object(fe.idPropEq)(e)))}}),r.a.createElement(Bt,{addButtonText:a,categoryType:t,currentCategories:Array.from(i.value),onAdd:function(e){return i.value.push(e)}}))})},qt=a(152),Ft=a.n(qt),Ht=a(1532);function At(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ut(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?At(a,!0).forEach(function(t){Object(z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):At(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Kt=function(e){var t=e.isCreate,a=e.recipeId,n=e.recipeType,c=e.children,i=Object(ge.a)(),l=Object(_.a)().redirectToRecipeList,u=pt().priceTypeLabels,s=Object(oe.c)(function(e){return{nameLabel:e.string().required(g.b._("Recipe name in default language must be entered.")),code:e.string().required(g.b._("Recipe code must be entered.")),prices:e.object(Qt(function(t){var a=u[t].toLocaleLowerCase();return e.object({value:e.string().required(g.b._("Recipe price for {priceType} must be entered.",{priceType:a}))})}))}}),d=Object(f.u)(),m=Object(N.a)(d,1)[0],b=r.a.useCallback(Object(L.a)(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({branchId:i.branchId},{fetchPolicy:"cache-first"});case 2:if(null===(t=e.sent)){e.next=5;break}return e.abrupt("return",Yt(t.defaults));case 5:return e.abrupt("return");case 6:case"end":return e.stop()}},e)})),[i,m]),p=Object(f.v)(),h=Object(N.a)(p,1)[0],v=r.a.useCallback(Object(L.a)(I.a.mark(function e(){var t;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({recipeId:a},{fetchPolicy:"no-cache"});case 2:if(null!==(t=e.sent)){e.next=6;break}return l(),e.abrupt("return");case 6:return e.abrupt("return",Xt(t.recipe));case 7:case"end":return e.stop()}},e)})),[h,a,l]),y=Object(f.V)(),E=Object(N.a)(y,1)[0],O=r.a.useCallback(function(e,t){return E({recipeId:e,recipe:Ut({},Gt(t),{translations:t.translations})})},[E]),j=r.a.useCallback(function(e){return O(a,e)},[O,a]),w=Object(f.T)(),C=Object(N.a)(w,1)[0],x=r.a.useCallback(function(){var e=Object(L.a)(I.a.mark(function e(t){var a,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({recipe:Ut({companyBranch:i.branchId,wareCategoryType:n},Gt(t))});case 2:(a=e.sent)&&t.translations&&t.translations.length>0&&(r=a.recipe.id,O(r,t));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[C,O,i,n]),k=Object(f.w)(),T=Object(N.a)(k,1)[0],R=r.a.useCallback(function(){var e=Object(L.a)(I.a.mark(function e(t){var n,r,c,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({recipeId:a,language:t},{fetchPolicy:"no-cache"});case 2:if(null!==(n=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return r=n.recipe,c=r.nameLabel,i=r.descriptionLabel,e.abrupt("return",{nameLabel:c,descriptionLabel:i});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[T,a]);return r.a.createElement(Ee,{isCreate:t,onCreate:x,onUpdate:j,initialValues:Jt(n),loadCreateDefaults:b,loadUpdateValues:v,validationSchema:s,successRedirectPath:o.c},r.a.createElement(r.a.Fragment,null,c,r.a.createElement(xe,{loadTranslations:R})))};function Gt(e){return{code:e.code,nameLabel:e.nameLabel||"",internalNote:e.internalNote,descriptionLabel:e.descriptionLabel,enabled:e.visible,prices:Object.keys(e.prices).map(function(t){return{warePriceType:t,price:{value:Ft()(e.prices[t].value).value()},vat:e.prices[t].vatId}}),sideDishCategories:e.sideDishes.map(Ue.a.prop("id")),wareCategories:e.categories.map(Ue.a.prop("id")),associatedRecipes:e.associatedRecipes.map(Ue.a.pick(["associatedRecipe","warePriceType"])),ingredients:e.ingredients.map(function(e){var t=e.stockItem,a=e.quantity;return{stockItem:t,quantity:Object(Ht.b)(a)}})}}function Qt(e){return bt.reduce(function(t,a){return t[a]=e(a),t},{})}function Jt(e){return{id:"NEW",itemType:e,visible:!0,code:"",nameLabel:"",internalNote:"",internalCode:"",descriptionLabel:"",image:"",prices:Qt(function(){return{value:0,vatId:null,currencyCode:""}}),associatedRecipes:[],ingredients:[],sideDishes:[],categories:[],translations:[]}}function Yt(e){var t=e.vats.reduce(function(e,t){var a=t.vatId;return e[t.priceType.enum]=a,e},{});return{prices:Qt(function(a){return{value:0,vatId:t[a],currencyCode:e.currency.code}})}}function Xt(e){return Ut({},e,{itemType:e.recipeType.enum,internalNote:e.internalNote||"",descriptionLabel:e.descriptionLabel||"",associatedRecipes:e.sourceAssociatedRecipes.map(function(e){var t=e.priceType,a=e.recipe;return{warePriceType:t.enum,nameLabel:a.nameLabel,associatedRecipe:a.id,formattedPrice:"?"}}),ingredients:e.sourceIngredients.map(function(e){var t=e.quantity,a=e.stockItem,n=a.id,r=a.label,c=a.allergens;return{stockItem:n,label:r,quantity:t,unitLabel:a.wareUnit.code,allergens:c.map(Ue.a.prop("enum"))}}),prices:Qt(function(t){var a=e.sourcePrices.find(Ue.a.pathEq(["priceType","enum"],t));return a?{value:a.price.value,vatId:a.vat.id,currencyCode:a.price.currency.code}:{value:0,vatId:null,currencyCode:""}})})}var $t=a(1622),Zt=function(e){var t=e.fieldName,a=e.className,n=Object(oe.f)(t);return Object(j.g)(function(){return r.a.createElement("span",{className:a},n.value)})},ea=a(48),ta=Object(ea.a)(r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{d:"M15 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"}),r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M3 12c0-2.61 1.67-4.83 4-5.65V4.26C3.55 5.15 1 8.27 1 12s2.55 6.85 6 7.74v-2.09c-2.33-.82-4-3.04-4-5.65z"})),"Toll"),aa=function(e){var t=e.fieldName,a=Object(V.a)(e,["fieldName"]);return r.a.createElement(Ne.a,{icon:ta},r.a.createElement(xt.a,{width:5},r.a.createElement(Je.a,Object.assign({fieldName:t,fullWidth:!0},a))))},na=function(e){var t=e.items,a=e.fieldName,n=e.isClearable,c=void 0!==n&&n,i=e.getItemId,l=void 0===i?fe.idProp:i,o=Object(oe.d)(a);return Object(j.g)(function(){return r.a.createElement(Ct.a,Object.assign({selectedItem:o.value&&t.find(function(e){return l(e)===o.value}),onSingleSelection:function(e){o.setValue(e?l(e):null),o.setTouched()},isInvalid:o.hasError,isClearable:c,isMulti:!1},e))})},ra=function(e){var t=e.fieldName,a=st(),n=Object(f.Cb)({branchId:a},{fetchPolicy:"cache-first"}),c=n.data;return n.loading?null:r.a.createElement(Ne.a,{label:"".concat(g.b._("VAT"),":")},r.a.createElement(na,{fieldName:t,items:c.vats,formatItem:function(e){var t=e.vat;return"".concat(t,"%")}}))},ca=function(e){var t=e.recipes,a=e.onRemove;return r.a.createElement(S.f,{items:t,disableHeader:!0},r.a.createElement(S.a,{dataKey:"associatedRecipe",width:x.d.ButtonColumnWidthPx,minWidth:x.d.ButtonColumnWidthPx,cellRenderer:function(e){var t=e.cellData;return r.a.createElement(dt.a,{onClick:function(){return a(t)}})}}),r.a.createElement(S.a,{dataKey:"nameLabel",width:300,label:g.b._("Name"),cellRenderer:S.e,columnData:{noteKey:"internalNote"}}),r.a.createElement(S.a,{dataKey:"formattedPrice",width:100,label:g.b._("Price")}))},ia=Object(j.b)(function(e){var t=e.priceType,a=Object(oe.f)("associatedRecipes"),n=Oe(),c=st(),i=Object(f.yb)({branchId:c}),l=i.data,o=i.loading,u=Ue.a.propEq("warePriceType",t),s=Ue.a.propEq("associatedRecipe"),d=Ue.a.filter(u,a.value),m=Ue.a.reject(function(e){return e.id===n||(t=e.id,d.some(s(t)));var t}),b=r.a.useCallback(function(e){a.value.push({warePriceType:t,associatedRecipe:e.id,nameLabel:e.nameLabel,formattedPrice:"?"})},[t,a]),p=r.a.useCallback(function(e){a.value.remove(a.value.find(Ue.a.both(s(e),u)))},[s,u,a.value]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ca,{recipes:d,onRemove:p}),r.a.createElement(mt,{options:o?[]:m(l.recipes),onAdd:b,isLoading:o}))}),la=Object(s.c)(Zt).withConfig({displayName:"FormPricingCurrencyCode",componentId:"sc-5x5h5x-0"})(["padding:0.5rem;"]),oa=function(){var e=pt(),t=e.priceTypes,a=e.priceTypeLabels;return r.a.createElement(r.a.Fragment,null,t.map(function(e){var t=["prices",e];return r.a.createElement(n.Fragment,{key:e},r.a.createElement(D.a,null,a[e]),r.a.createElement($t.a,null,r.a.createElement(aa,{fieldName:[].concat(t,["value"])}),r.a.createElement(la,{fieldName:[].concat(t,["currencyCode"])}),r.a.createElement(_t.a,{left:5},r.a.createElement(ra,{fieldName:[].concat(t,["vatId"])}))),r.a.createElement(p.a,null),r.a.createElement(se,{isMain:!0},r.a.createElement(ia,{priceType:e}),r.a.createElement(p.a,null)))}))},ua=function(e){var t=e.placeholder;return r.a.createElement(Ne.a,{label:r.a.createElement(O.Trans,{id:"Code"}),labelWidth:x.d.DefaultLabelWidth},r.a.createElement(xt.a,{width:9},r.a.createElement(Je.a,{fieldName:"code",fullWidth:!0,placeholder:t})))},sa=function(e){return r.a.createElement(Ne.a,{label:g.b._("External ID"),labelWidth:7},r.a.createElement(Je.a,{fieldName:"internalCode",disabled:!0}))},da=function(e){var t=e.label;return r.a.createElement(We.a,{fieldName:"visible",label:t})},ma=a(1842);function ba(){var e=Object(u.a)(["\n  float: left;\n  width: 2.3rem;\n  height: 2.3rem;\n  border: 1px solid ",";\n  margin: 0.3rem 0.6rem 0.3rem ",";\n  font-size: 1.5rem;\n  text-align: center;\n  vertical-align: middle;\n  cursor: default;\n  color: ",";\n  background-color: ",";\n  &.active {\n    color: ",";\n    background-color: ",";\n  }\n"]);return ba=function(){return e},e}var pa=s.c.div(ba(),x.a.greyMiddle,x.d.MarginAroundFormComponents,x.a.greyMiddle,x.a.white,x.a.black,x.a.yellow),fa=function(e){var t=e.selected,a=e.onToggle,n=Object(f.tb)({},{fetchPolicy:"cache-first"}),c=n.data;return n.loading?null:r.a.createElement(r.a.Fragment,null,c.allergens.map(function(e){return r.a.createElement(pa,{key:e.enum,title:e.code,className:Object(et.b)({active:t.includes(e.enum)}),onClick:a&&function(){return a(e.enum)}},e.category)}))},ga=s.c.div.withConfig({displayName:"StyledAllergenLabel",componentId:"sc-1bpzlke-0"})(["margin:0.7rem 0 0 0.2rem;"]),ha=Object(j.b)(function(){var e=Object(oe.f)("ingredients"),t=wt.a.uniq(wt.a.flatten(e.value.map(Ue.a.prop("allergens"))));return r.a.createElement(Ne.a,{labelWidth:x.d.DefaultLabelWidth,icon:ma.a},r.a.createElement(ga,null,r.a.createElement(O.Trans,{id:"Allergens based on stock cards"})),r.a.createElement(fa,{selected:t}))}),va=function(){return r.a.createElement(Ne.a,{label:r.a.createElement(O.Trans,{id:"Public note"}),labelWidth:x.d.DefaultLabelWidth},r.a.createElement($e,{fieldName:"descriptionLabel",placeholder:g.b._("Public note for customers, allergens")}))},ya=function(e){var t=e.isCreate,a=Object(f.U)(),n=Object(N.a)(a,1)[0];return r.a.createElement(Be,{primaryColumnWidth:"minmax(10rem, 54rem)",secondaryColumnWidth:"3rem",contentPrimary:r.a.createElement(Le.a,null,r.a.createElement(ua,{placeholder:g.b._("Recipe code")}),r.a.createElement(ct,{placeholder:g.b._("Recipe name"),localized:!0}),r.a.createElement(se,{isMain:!0},r.a.createElement(va,null)),r.a.createElement(Ze,{placeholder:g.b._("Recipe internal note")}),!t&&r.a.createElement(sa,null),r.a.createElement(se,{isMain:!0},r.a.createElement(ha,null)),r.a.createElement(Ne.a,{labelWidth:x.d.DefaultLabelWidth},r.a.createElement(da,{label:g.b._("To show this recipe")}))),contentTopRight:r.a.createElement(at,null),contentBottomRight:r.a.createElement(De,{mutationName:"destroyRecipe",confirmText:g.b._("Remove this recipe?"),onDelete:function(e){return n({recipeId:e})}})})},Ea=function(e){var t=e.ingredients,a=e.onRemove,n=e.isLoading,c=void 0!==n&&n;return r.a.createElement(S.f,{isLoading:c,items:t,disableHeader:!0,noRowsRenderer:function(){return r.a.createElement(S.g,{text:g.b._("Recipe has no ingredients")})}},r.a.createElement(S.a,{dataKey:"stockItem",width:x.d.ButtonColumnWidthPx,minWidth:x.d.ButtonColumnWidthPx,cellRenderer:S.c,columnData:{onRemove:a}}),r.a.createElement(S.a,{dataKey:"label",width:300,label:g.b._("Name")}),r.a.createElement(S.a,{dataKey:"quantity",width:60,label:g.b._("Quantity"),cellRenderer:function(e){var t=e.rowIndex;return r.a.createElement(xt.a,{width:2.5},r.a.createElement(Je.a,{fieldName:["ingredients",String(t),"quantity"],fullWidth:!0}))}}),r.a.createElement(S.a,{dataKey:"unitLabel",width:100,label:g.b._("Ware unit")}))},Oa=Ue.a.differenceWith(function(e,t){return e.id===t.stockItem}),ja=Object(j.b)(function(e){var t=e.ingredients,a=e.onAdd,n=e.onRemove,c=st(),i=Object(f.Bb)({branchId:c}),l=i.data,o=i.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ea,{ingredients:t,onRemove:n}),r.a.createElement(mt,{isLoading:o,addButtonText:g.b._("Add ingredient"),options:o?[]:Oa(l.stockItems,t),onAdd:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){a({stockItem:e.id,label:e.nameLabel,quantity:1,unitLabel:e.wareUnit.code,allergens:e.allergens.map(Ue.a.prop("enum"))})})}))}),wa=function(){var e=Object(oe.d)("ingredients");return Object(j.g)(function(){return r.a.createElement(ja,{ingredients:e.value,onAdd:function(t){e.value.push(t)},onRemove:function(t){e.value.splice(e.value.findIndex(Ue.a.propEq("stockItem",t)),1)}})})},Ca=function(e){var t=e.match.params.recipeId,a=Object(_.a)(t),n=a.isCreate,c=a.itemType,i=a.redirectToRecipeList;return null===c?(i(),null):r.a.createElement(Kt,{isCreate:n,recipeId:t,recipeType:c},r.a.createElement(_t.a,{right:1.25,bottom:4},r.a.createElement(h.a,{pageTitle:Object(pe.c)(c),hideLogoutWidget:!0,useBackButton:!0},r.a.createElement(d.a,null,r.a.createElement(ya,{isCreate:n})),r.a.createElement(d.a,null,r.a.createElement(oa,null)),r.a.createElement(d.a,null,r.a.createElement(D.a,null,r.a.createElement(O.Trans,{id:"Recipe ingredients"})),r.a.createElement(p.a,null),r.a.createElement(wa,null)),r.a.createElement(se,{isMain:!0},r.a.createElement(d.a,null,r.a.createElement(D.a,null,r.a.createElement(O.Trans,{id:"Sidedish categories"})),r.a.createElement(ot.a,null,r.a.createElement(O.Trans,{id:"These sidedish are presented with recipe"})),r.a.createElement(Vt,{name:"sideDishes",categoryType:zt.a.SideDish,addButtonText:g.b._("Attach sidedish category"),noRowsText:g.b._("Recipe has no sidedish category attached")})),r.a.createElement(d.a,null,r.a.createElement(D.a,null,r.a.createElement(O.Trans,{id:"Category assignments"})),r.a.createElement(ot.a,null,r.a.createElement(O.Trans,{id:"Recipe is in these categories"})),r.a.createElement(Vt,{name:"categories",categoryType:zt.a.Main,addButtonText:g.b._("Add to category"),noRowsText:g.b._("Recipe is not in any category")})))),r.a.createElement(le,null,r.a.createElement(be,{isCreate:n,createMutation:"createRecipe",updateMutation:"updateRecipe"}))))},xa=a(1456),ka=a(1844),Ta=a(339);function Ra(){var e=Object(u.a)(["\n  [aria-label='grid']:focus {\n    outline: none;\n  }\n\n  [role='columnheader'] {\n    display: flex;\n    align-items: center;\n    overflow: hidden;\n  }\n"]);return Ra=function(){return e},e}var Pa=Object(s.c)(S.f)(Ra()),Ia=Object(j.b)(function(e){var t=e.stockItems,a=e.isLoading;return r.a.createElement(Pa,{items:t,heightStretch:!0,noRowsRenderer:function(){return a?r.a.createElement(Ta.a,null):r.a.createElement("h3",null,r.a.createElement(O.Trans,{id:"Selected branch has no stock cards"}))}},r.a.createElement(S.a,{dataKey:"id",width:x.d.ButtonColumnWidthPx,minWidth:x.d.ButtonColumnWidthPx,cellRenderer:Object(S.h)({canQuery:"stockItem"},S.b)}),r.a.createElement(S.a,{dataKey:"code",width:100,label:g.b._("Card code")}),r.a.createElement(S.a,{dataKey:"nameLabel",width:300,minWidth:30,flexGrow:2,label:g.b._("Card name")}),r.a.createElement(S.a,{dataKey:"quantity",width:100,label:g.b._("Card stock"),cellRenderer:La}),r.a.createElement(S.a,{dataKey:"allowNegativeValue",width:300,label:g.b._("Negative stock"),cellRenderer:Na}),r.a.createElement(S.a,{dataKey:"note",width:300,label:g.b._("Card note")}))});function La(e){var t=e.cellData,a=e.rowData;return"".concat(t," ").concat(a.wareUnit.code)}function Na(e){return!0===e.cellData?r.a.createElement(O.Trans,{id:"Permitted"}):r.a.createElement(O.Trans,{id:"Forbidden"})}var Sa=Object(j.b)(function(){var e=Object(ge.a)(),t=Object(f.Bb)({branchId:e.branchId}),a=t.data,n=t.loading,c=e.filter.getPredicate({partialMatch:["code","nameLabel"],exactMatch:["plu"]}),i=n?[]:a.stockItems.filter(c);return r.a.createElement(Ia,{stockItems:i,isLoading:n})}),Da=function(){var e=Object(_.a)().getStockCreateRoute;return r.a.createElement(h.a,{pageTitle:g.b._("Stock overview"),useBackButton:!0},r.a.createElement(v.a,{forcePercentHeightInMobile:100},r.a.createElement(d.a,{stretchToParent:!0},r.a.createElement(Mt.b,null,r.a.createElement("div",{className:"filter"},r.a.createElement(b.a,{justify:"start",flexWrap:"wrap"},r.a.createElement(m.a,null,r.a.createElement(y.a,{width:20})),r.a.createElement(m.a,null,r.a.createElement(ka.a,null))),r.a.createElement(xa.a,{mutationName:"createStockItem"},r.a.createElement(M.a,{routeTo:e()}))),r.a.createElement("div",{className:"table"},r.a.createElement(Sa,null))))))},Wa=a(1509);function Ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ma(a,!0).forEach(function(t){Object(z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ma(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var za=function(e){var t=e.stockId,a=e.isCreate,n=e.children,c=Object(ge.a)(),i=Object(_.a)().redirectToStockList,l=Object(oe.c)(function(e){return{code:e.string().required(),nameLabel:e.string().required(),wareUnit:e.string().required(),ingredients:e.array().of(e.object({quantity:e.string().required()}))}}),u=Object(f.x)(),s=Object(N.a)(u,1)[0],d=r.a.useCallback(function(){var e=Object(L.a)(I.a.mark(function e(t){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({branchId:c.branchId});case 2:if(null!==(a=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:return e.abrupt("return",_a({},t,{},{allowNegativeDefault:Ba(a.defaults.allowNegative)}));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[c,s]),m=Object(f.y)(),b=Object(N.a)(m,1)[0],p=r.a.useCallback(function(){var e=Object(L.a)(I.a.mark(function e(a){var n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({stockId:t},{fetchPolicy:"no-cache"});case 2:if(null!==(n=e.sent)){e.next=6;break}return i(),e.abrupt("return",a);case 6:return e.abrupt("return",_a({},{id:(r=n.stockItem).id,internalNote:"TBD",nameLabel:r.nameLabel,code:r.code,note:r.note,plu:r.plu||"",wareUnit:r.wareUnit.enum,quantity:r.quantity,allergens:r.allergens.map(Ue.a.prop("enum")),allowNegative:r.allowNegative,allowNegativeDefault:Ba(r.companyBranch.allowNegative)}));case 7:case"end":return e.stop()}var r},e)}));return function(t){return e.apply(this,arguments)}}(),[b,i,t]),g=Object(f.X)(),h=Object(N.a)(g,1)[0],v=r.a.useCallback(function(e){return h({stockItem:_a({companyBranch:c.branchId},Va(e))})},[h,c]),y=Object(f.ab)(),E=Object(N.a)(y,1)[0],O=r.a.useCallback(function(e){return E({stockId:t,stockItem:Va(e)})},[t,E]);return r.a.createElement(Ee,{isCreate:a,onCreate:v,onUpdate:O,initialValues:{id:"NEW",internalNote:"",nameLabel:"",code:"",plu:"",note:"",wareUnit:null,quantity:0,allergens:[],allowNegative:f.e.Default,allowNegativeDefault:f.e.Default},loadCreateDefaults:d,loadUpdateValues:p,validationSchema:l,successRedirectPath:o.d},n)};function Ba(e){return e?f.e.Default:f.e.Disabled}function Va(e){return{code:e.code,label:e.nameLabel,note:e.note,plu:e.plu,allergens:e.allergens,wareUnit:e.wareUnit,allowNegative:e.allowNegative}}var qa=function(){var e=Object(oe.d)("allergens"),t=r.a.useCallback(function(t){var a=e.value;a.includes(t)?e.setValue(Ue.a.without([t],a)):e.setValue([].concat(Object(q.a)(a),[t]))},[e]);return Object(j.g)(function(){return r.a.createElement(Ne.a,{icon:ma.a,labelWidth:7},r.a.createElement(fa,{selected:e.value,onToggle:t}))})},Fa=a(246),Ha=[{type:f.e.Enabled,label:Object(Fa.i18nMark)("Permit")},{type:f.e.Disabled,label:Object(Fa.i18nMark)("Forbid")}],Aa=Object(j.b)(function(){var e=Object(oe.h)().values.allowNegativeDefault;return r.a.createElement(Ne.a,{label:g.b._("Negative stock"),labelWidth:7},r.a.createElement(na,{items:Ha,fieldName:"allowNegative",getItemId:fe.RM.prop("type"),formatItem:function(t){return t.type===e?r.a.createElement("span",null,g.b._(t.label),r.a.createElement("i",null," (".concat(g.b._("Is default setting").toLocaleLowerCase(),")"))):g.b._(t.label)}}))}),Ua=Object(ea.a)(r.a.createElement("path",{d:"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"}),"Fingerprint"),Ka=function(){return r.a.createElement(Ne.a,{icon:Ua,labelWidth:7},r.a.createElement(xt.a,{width:9},r.a.createElement(Je.a,{fieldName:"plu",fullWidth:!0,placeholder:g.b._("PLU")})))},Ga=Object(ea.a)(r.a.createElement("path",{d:"M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"}),"SelectAll"),Qa=function(e){var t=Object(f.Db)(),a=t.data,n=t.loading;return r.a.createElement(Ne.a,{icon:Ga,labelWidth:7},r.a.createElement(qe,{options:a.wareUnits,isLoading:n,getOptionLabel:Ue.a.prop("code"),getOptionValue:Ue.a.prop("enum"),placeholder:g.b._("Choose unit"),fieldName:"wareUnit",width:12}))},Ja=function(){var e=Object(f.Y)(),t=Object(N.a)(e,1)[0];return r.a.createElement(Be,{primaryColumnWidth:"minmax(10rem, 54rem)",contentPrimary:r.a.createElement(Le.a,null,r.a.createElement(ct,{placeholder:g.b._("Card name")}),r.a.createElement(ua,{placeholder:g.b._("Card code")}),r.a.createElement(Qa,null),r.a.createElement(Ka,null),r.a.createElement(Ze,{fieldName:"note",placeholder:g.b._("Card note"),label:g.b._("Card note")}),r.a.createElement(qa,null),r.a.createElement(Aa,null)),contentBottomRight:r.a.createElement(De,{mutationName:"destroyStockItem",confirmText:g.b._("Remove this card?"),onDelete:function(e){return t({stockId:e})}})})},Ya=a(1635),Xa=function(e){var t=e.stockId,a=Object(f.Ub)({stockId:t}),n=a.data;if(a.loading)return r.a.createElement(Ya.a,null);var c=n.stockItem.ingredients;return 0===c.length?r.a.createElement(D.a,null,r.a.createElement(O.Trans,{id:"No recipes are using stock card"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,null,r.a.createElement(O.Trans,{id:"Recipes using this card"})),r.a.createElement(S.f,{items:Object(q.a)(c),disableHeader:!0,fullHeight:!0},r.a.createElement(S.a,{dataKey:"",cellDataGetter:function(e){var t=e.rowData;return{pathname:"".concat(o.c,"/").concat(t.recipe.id),state:{recipeType:t.recipe.recipeType.enum}}},cellRenderer:S.b,width:100}),r.a.createElement(S.a,{dataKey:"recipe",width:300,label:g.b._("Name"),cellRenderer:function(e){var t=e.rowData;return r.a.createElement(r.a.Fragment,null,t.recipe.nameLabel,r.a.createElement(ot.a,null,t.recipe.descriptionLabel))}})))},$a=function(e){var t=e.match.params.stockId,a=Object(_.a)(t).isCreate;return r.a.createElement(h.a,{pageTitle:g.b._("Stock card"),hideLogoutWidget:!0,useBackButton:!0},r.a.createElement(za,{isCreate:a,stockId:t},r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(Ja,null),!a&&r.a.createElement(Wa.a,{queryName:"recipes"},r.a.createElement(Xa,{stockId:t}))),r.a.createElement(le,null,r.a.createElement(be,{isCreate:a,createMutation:"createStockItem",updateMutation:"updateStockItem"})))))};a.d(t,"MenuRouting",function(){return Za});var Za=function(){return r.a.createElement(c.e,null,r.a.createElement(l.a,{path:"".concat(o.b,"/:categoryId"),component:Wt}),r.a.createElement(l.a,{path:o.b,component:ce}),r.a.createElement(l.a,{path:"".concat(o.c,"/:recipeId"),component:Ca}),r.a.createElement(l.a,{path:o.c,component:Mt.a}),r.a.createElement(l.a,{path:"".concat(o.d,"/:stockId"),component:$a}),r.a.createElement(l.a,{path:o.d,component:Da}),r.a.createElement(c.b,{to:o.b,from:o.a}),r.a.createElement(c.c,{component:i.a}))};t.default=Za}}]);
//# sourceMappingURL=187.5d165de9.chunk.js.map