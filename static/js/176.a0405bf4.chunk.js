(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{1456:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(5),a=n(2607),c=n(0),i=n.n(c),o=n(26),l=n(43),u=n(19),d=n(185);function s(){var e=Object(r.a)(["\n  display: flex;\n\n  div.description {\n    margin: ",";\n    min-width: ",";\n    flex: 0 0 auto;\n    text-align: right;\n  }\n\n  div.contents {\n    margin-left: 0.5rem;\n    align-self: stretch;\n    flex: 1 1 auto;\n  }\n\n  div.label {\n    padding-top: 0.2rem;\n    display: inline-block;\n  }\n"]);return s=function(){return e},e}var m=o.default.div(s(),function(e){return e.labelMargin},function(e){var t=e.labelWidth,n=e.labelWidthUnits;return"".concat(t).concat(n)}),f=function(e){var t=e.icon,n=e.label,r=e.labelWidth,c=void 0===r?0:r,o=e.labelWidthUnits,s=void 0===o?u.d.DefaultSizeUnit:o,f=e.labelMargin,b=void 0===f?"0.5rem 0.2rem 0 auto":f,v=e.children,h=t;return"string"===typeof t&&(Object(l.c)('IconLine: Do not use icon prop as string! Replace "'.concat(t,'" with the one imported from @material-ui/icons.')),h=a.a),i.a.createElement(m,{labelWidth:c,labelWidthUnits:s,labelMargin:b},i.a.createElement("div",{className:"description"},i.a.createElement(d.a,{icon:h,color:u.a.greyDark}),n?i.a.createElement("div",{className:"label"},n):null),i.a.createElement("div",{className:"contents"},v))}},1457:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(62),a=n(0),c=n.n(a),i=n(1465),o=n(57),l=function(e){var t=e.mutationName,n=e.children,a=Object(o.b)().user;return Object(r.useObserver)(function(){return a.canMutate(t)?c.a.createElement(c.a.Fragment,null,n):c.a.createElement(i.a,null,"No access to mutation ".concat(t))})}},1458:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(46),a=n(0),c=n.n(a),i=n(1521),o=n(19),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)({},e,{control:function(t,n){var a=n.selectProps,c=a.width,i=a.minWidth,l=Object(r.a)({},t,{border:"1px solid ".concat(o.a.greyMiddle),margin:o.d.MarginAroundFormComponents,width:void 0!==c?"".concat(c,"rem"):"100%",minWidth:void 0!==i?"".concat(i,"rem"):"8rem"});return e.control?e.control(l,n):l},menu:function(t,n){var a=n.selectProps.width,c=Object(r.a)({},t,{zIndex:20,color:o.a.black,width:void 0!==a?"".concat(a,"rem"):"100%"});return e.menu?e.menu(c,n):c},valueContainer:function(t,n){var a=n.selectProps.maxHeight,c=Object(r.a)({},t,{maxHeight:void 0!==a?"".concat(a,"rem"):"100%",overflowY:void 0!==a?"scroll":"hidden"});return e.valueContainer?e.valueContainer(c,n):c}})};function u(e){return c.a.createElement(i.b,Object.assign({},e,{styles:l(e.styles)}))}},1459:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(26),a=n(1464),c=n(19),i=r.default.input.attrs(function(e){var t=e.invalid,n=void 0!==t&&t,r=e.inputFullWidth,c=void 0!==r&&r;return{className:Object(a.cn)({invalid:n,fullWidth:c})}}).withConfig({displayName:"FormInputStyled",componentId:"sc-18qocdt-0"})(["margin:",";&.invalid{border:1px red solid;background-color:#ff000011;}&.fullWidth{width:100%;}"],c.d.MarginAroundFormComponents)},1460:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(5),a=n(26),c=n(0),i=n.n(c),o=n(55),l=n(1487),u=n(141),d=n(19);function s(){var e=Object(r.a)(["\n    margin: 0;\n    grid-row: "," ;\n    grid-column: span 16;\n    height: "," ;\n    position: relative;\n  "]);return s=function(){return e},e}function m(){var e=Object(r.a)(["\n  position: fixed;\n  bottom: 0.5rem;\n  width: ",";\n  left: ",";\n  top: ",";"]);return m=function(){return e},e}var f=a.default.div.withConfig({displayName:"PageLayoutFullHeightItem__StyledPageLayoutFullHeightItem",componentId:"sc-1mean6j-0"})([""," ",""],Object(o.c)(m(),function(e){return void 0!==e.widthInColumns?"calc(("+e.widthInColumns+" * 6.22vw) - "+d.d.LayoutGridCellMargin+")":"calc(100vh - (2 * "+d.d.LayoutGridCellMargin+"))"},function(e){return void 0!==e.column?"calc(("+e.column+" * 6.22vw) + "+d.d.LayoutGridCellMargin+")":d.d.LayoutGridCellMargin},function(e){return void 0!==e.row?"calc(("+e.row+" * 3.9375rem) + "+d.d.LayoutGridCellMargin+")":"calc(3.9375rem + "+d.d.LayoutGridCellMargin+")"}),Object(o.d)(s(),function(e){return e.rowInMobile},function(e){var t=e.forcePercentHeightInMobile;return t?"calc(".concat(t,"vh - ").concat(d.d.PageHeaderHeight+.25+d.d.DefaultSizeUnit,")"):"unset"})),b=function(e){var t=e.children,n=e.row,r=void 0===n?1:n,a=e.rowInMobile,c=void 0===a?16:a,o=e.column,d=void 0===o?0:o,s=e.widthInColumns,m=void 0===s?16:s,b=e.withScrollArea,v=void 0!==b&&b,h=e.scrollAreaId,p=e.forcePercentHeightInMobile;return i.a.createElement(f,{column:d,row:r,rowInMobile:c,widthInColumns:m,withScrollArea:v,forcePercentHeightInMobile:p},v?i.a.createElement(l.a,{id:h},t):i.a.createElement(u.a,{height:100,heightUnit:"%"},t))}},1461:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(5);function a(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: ",";\n  justify-content: ",";\n"]);return a=function(){return e},e}var c=n(26).default.div(a(),function(e){var t=e.flexWrap;return void 0===t?"unset":t},function(e){var t=e.justify;return void 0===t?"space-between":t})},1462:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),a=n(26),c=n(19);function i(){var e=Object(r.a)(["\n  color: ",";\n  font-weight: lighter;\n  margin: ",";\n  font-size: ",";\n"]);return i=function(){return e},e}var o=a.default.h2(i(),function(e){var t=e.light;return void 0!==t&&t?c.a.greyLight:c.a.greyDarkest},function(e){var t=e.margin;return void 0===t?"0 0.5rem 0 0.5rem":t},function(e){return"smaller"===e.size&&"1rem"})},1465:function(e,t,n){"use strict";n.d(t,"a",function(){return r});n(0);var r=function(e){e.children;return null}},1466:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(62),a=n(0),c=n.n(a),i=n(1465),o=n(57),l=function(e){var t=e.queryName,n=e.children,a=Object(o.b)().user;return Object(r.useObserver)(function(){return a.canQuery(t)?c.a.createElement(c.a.Fragment,null,n):c.a.createElement(i.a,null,"No access to query ".concat(t))})}},1467:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(5);function a(){var e=Object(r.a)(["\n  flex: ",";\n  padding: ",";\n  margin: ",";\n"]);return a=function(){return e},e}var c=n(26).default.div(a(),function(e){var t=e.fixedWidth,n=void 0!==t&&t,r=e.width,a=e.widthGrowIndex,c=void 0===a?0:a;return n?r?"0 0 ".concat(r):"0 0":"".concat(c," 0")},function(e){var t=e.padding;return void 0===t?"0.25rem":t},function(e){var t=e.margin;return void 0===t?"":t})},1468:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(5),a=n(0),c=n.n(a),i=n(26),o=n(19);function l(){var e=Object(r.a)(["\n  border-top: 1px solid ",";\n  margin: 0.25rem 0rem;\n"]);return l=function(){return e},e}var u=i.default.div(l(),o.a.greyLight),d=function(e){var t=e.visible;return void 0===t||t?c.a.createElement(u,null):null}},1470:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(20),a=n(0),c=n.n(a),i=n(57);function o(e){var t=Object(i.b)().user;c.a.useEffect(function(){return Object(r.autorun)(function(){t.isReady&&t.hasSingleBranch&&e(t.branches[0])})})}},1471:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(5),a=n(98),c=n(1464),i=n(0),o=n.n(i),l=n(26),u=n(31);function d(){var e=Object(r.a)(["\n  ","\n\n  color: ",";\n\n  &.interactive {\n    cursor: pointer;\n  }\n\n  &.invalid {\n    border: 1px red solid;\n  }\n\n  > div {\n    margin: 0.5rem 0.6rem;\n    display: inline-block;\n  }\n\n  > div.active {\n    font-weight: bolder;\n    text-decoration: underline;\n  }\n"]);return d=function(){return e},e}var s=l.default.div(d(),function(e){return""},function(e){var t=e.textColor;return t||"inherit"}),m=function(e){var t=e.items,n=e.formatItem,r=void 0===n?u.a.prop("displayName"):n,i=e.isMulti,l=void 0!==i&&i,d=e.isClearable,m=void 0!==d&&d,f=e.isInvalid,b=void 0!==f&&f,v=e.selectedItem,h=e.selectedItems,p=e.onSingleSelection,g=e.onMultiSelection,E=e.textColor,O=1===t.length,y=function(e){return 1!==t.length&&(l&&Array.isArray(h)?u.a.contains(e,h):u.a.equals(v,e))},j=function(e){O||(null===e?l&&g?g([]):p&&p(null):l&&g?y(e)?g(Array.isArray(h)?u.a.without([e],h):[e]):g(Array.isArray(h)?u.a.concat(h,[e]):[]):p&&p(e))};return o.a.createElement(s,{className:Object(c.cn)({invalid:b,interactive:!O}),textColor:E},m&&o.a.createElement("div",{className:Object(c.cn)({active:!(l?Array.isArray(h)&&h.length>0:null!==v&&void 0!==v)}),onClick:function(){j(null)}},o.a.createElement(a.Trans,{id:"optionselector.clear-filter"})),t.map(function(e,t){var n=r(e);return o.a.createElement("div",{key:t,className:Object(c.cn)({active:y(e)}),onClick:function(){j(e)}},n)}))}},1472:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n(59),a=n(0),c=n.n(a),i="/settings/menu",o="".concat(i,"/recipe"),l="".concat(i,"/category"),u="".concat(i,"/stock"),d="create";function s(e){var t=Object(r.useRouterContext)(),n=t.location,a=t.history,i=c.a.useMemo(function(){return new URLSearchParams(n.search).get("type")},[n.search]),s=function(e,t){return t?"".concat(e,"?type=").concat(t):e},m=function(){return o},f=function(){return l},b=function(){return u};return{itemType:i,isCreate:e===d,getItemRoute:s,getRecipeListRoute:m,getRecipeCreateRoute:function(e){return s("".concat(o,"/").concat(d),e)},getRecipeEditRoute:function(e,t){return s("".concat(o,"/").concat(e),t)},getCategoryListRoute:f,getCategoryCreateRoute:function(e){return s("".concat(l,"/").concat(d),e)},getCategoryEditRoute:function(e,t){return s("".concat(l,"/").concat(e),t)},getStockListRoute:b,getStockDepositRoute:function(){return"".concat(u,"/deposit")},getStockTransferRoute:function(){return"".concat(u,"/transfer")},getStockCreateRoute:function(){return s("".concat(u,"/").concat(d))},getStockEditRoute:function(e,t){return s("".concat(u,"/").concat(e),t)},redirectToCategoryList:function(){a.replace(f())},redirectToRecipeList:function(){a.replace(m())},redirectToStockList:function(){a.replace(b())}}}},1473:function(e,t,n){"use strict";var r=n(5),a=n(58),c=(n(1534),n(0)),i=n.n(c),o=n(1495),l=n(26),u=n(45),d=n(1694),s=n(1550),m=n(330),f=n(139),b=function(e){var t=e.target,n=e.Link,r=void 0===n?s.a:n,c=Object(a.a)(e,["target","Link"]);return i.a.createElement(r,{to:t},i.a.createElement(m.a,null,i.a.createElement(f.a,Object.assign({icon:d.a},c))))},v=n(1537),h=n(49),p=Object(h.a)(i.a.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye"),g=n(19),E=function(e){var t=e.isVisible,n=Object(a.a)(e,["isVisible"]);return i.a.createElement(m.a,null,i.a.createElement(f.a,Object.assign({icon:p,iconColor:t?g.a.white:g.a.greyMiddle,color:g.a.greyMiddle},n)))},O=n(1514),y=n(1457),j=n(1466),C=n(1519);function w(){var e=Object(r.a)(["\n  padding: 1rem;\n  color: ",";\n  font-style: 'italic';\n"]);return w=function(){return e},e}n.d(t,"f",function(){return k}),n.d(t,"h",function(){return x}),n.d(t,"b",function(){return S}),n.d(t,"c",function(){return M}),n.d(t,"d",function(){return T}),n.d(t,"e",function(){return I}),n.d(t,"g",function(){return N}),n.d(t,"a",function(){return o.d});var k=function(e){var t=e.items,n=e.heightStretch,r=void 0!==n&&n,c=e.fullHeight,l=void 0!==c&&c,u=e.rowHeight,d=void 0===u?60:u,s=e.isLoading,m=void 0!==s&&s,f=e.children,b=Object(a.a)(e,["items","heightStretch","fullHeight","rowHeight","isLoading","children"]),v=i.a.useCallback(function(e){var n=e.index;return t[n]},[t]),h=i.a.useCallback(function(){return m?i.a.createElement(O.a,null):null},[m]),p=function(e,n){return i.a.createElement(o.h,Object.assign({autoHeight:!r&&!l,width:e,height:n,headerHeight:50,rowCount:t?t.length:0,rowHeight:d,rowGetter:v,noRowsRenderer:h,style:{outline:"none"}},b),f)};return l?i.a.createElement(o.a,{disableHeight:!0},function(e){var n=e.width;return p(n,t.length*d)}):r?i.a.createElement(o.a,null,function(e){var t=e.width,n=e.height;return p(t,n)}):i.a.createElement(o.i,{scrollElement:window},function(e){var t=e.height;return i.a.createElement(o.a,{disableHeight:!0},function(e){var n=e.width;return p(n,t)})})};function x(e,t){var n=e.canQuery,r=e.canMutate;return function(e){var a=t(e);return n&&(a=i.a.createElement(j.a,{queryName:n},a)),r&&(a=i.a.createElement(y.a,{mutationName:r},a)),a}}function S(e){var t=e.cellData;return i.a.createElement(b,{target:t})}function M(e){var t=e.cellData,n=e.columnData;return i.a.createElement(v.a,{onClick:function(){return n.onRemove&&n.onRemove(t)}})}function T(e){var t=e.cellData,n=e.columnData,r=e.rowData;return i.a.createElement(E,{isVisible:t,onClick:function(){return n.onToggle(r.id,!t)}})}function I(e){var t=e.cellData,n=e.rowData,r=e.columnData;return i.a.createElement(i.a.Fragment,null,t,i.a.createElement(C.a,null,n[r.noteKey]))}var N=Object(l.default)(function(e){var t=e.text,n=void 0===t?u.b._("Table is empty"):t,r=Object(a.a)(e,["text"]);return i.a.createElement("div",r,n)})(w(),g.a.greyMiddle)},1474:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=n(26).default.div.withConfig({displayName:"CardDock",componentId:"sc-1fyaqia-0"})(["position:absolute;",";",";"],function(e){var t=e.position;return"BottomRight"===t||"BottomLeft"===t?"bottom: 0":"top: 0"},function(e){var t=e.position;return"BottomLeft"===t||"TopLeft"===t?"left: 0":"right: 0"})},1475:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(57),i=n(31),o=n(1497),l=n(58),u=n(1471),d=n(19),s=function(e){var t=e.branches,n=e.selectedBranch,r=e.selectedBranches,c=e.textColor,i=void 0===c?d.a.black:c,o=Object(l.a)(e,["branches","selectedBranch","selectedBranches","textColor"]);return a.a.createElement(u.a,Object.assign({items:t,selectedItem:n,selectedItems:r,textColor:i,formatItem:function(e){return a.a.createElement("span",{title:e.brand.name},e.name)}},o))};n.d(t,"a",function(){return m});var m=function(e){var t=e.breakpoint,n=void 0===t?3:t,r=e.branches,l=e.selectedBranches,u=void 0===l?[]:l,d=e.isMulti,m=void 0!==d&&d,f=e.isClearable,b=void 0===f||f,v=e.hideWhenSingleBranch,h=void 0!==v&&v,p=e.textColor,g=e.onSelectionChange,E=e.onSelectionClear,O=e.getDropdownProps,y=void 0===O?function(){return{}}:O,j=Object(c.b)().user,C=function(e){return u.includes(e.id)},w={textColor:p,isClearable:b,isMulti:m,branches:r||j.branches,selectedBranch:j.branches.find(C)||null,selectedBranches:j.branches.filter(C),onSingleSelection:function(e){null===e&&E?E():null!==e&&g&&g([e.id],[e])},onMultiSelection:function(e){0===e.length&&E?E():e.length&&g&&g(e.map(i.a.prop("id")),e)}};return j.hasSingleBranch&&h?null:j.branches.length<n?a.a.createElement(s,w):a.a.createElement(o.a,Object.assign({},w,y()))}},1476:function(e,t,n){var r={"./cs.svg":1477,"./de.svg":1478,"./en.svg":1479,"./pl.svg":1480,"./sk.svg":1481};function a(e){var t=c(e);return n(t)}function c(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id=1476},1482:function(e,t,n){var r={"./logo-doveze.svg":1483,"./logo-gopay.svg":1484,"./logo-mastercard.svg":1485,"./logo-visa.svg":1486};function a(e){var t=c(e);return n(t)}function c(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=c,e.exports=a,a.id=1482},1487:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(5);function a(){var e=Object(r.a)(["\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  height: 100%;\n"]);return a=function(){return e},e}var c=n(26).default.div(a())},1488:function(e,t,n){"use strict";var r=n(91),a=n(0),c=n.n(a),i=n(49),o=Object(i.a)(c.a.createElement("path",{d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"}),"StoreMallDirectory"),l=n(62),u=n(1456),d=n(57),s=n(1470),m=n(1475);n.d(t,"a",function(){return f});var f=function(e){var t=e.isMulti,n=e.width,a=Object(d.b)(),i=a.settings,f=a.user;return Object(s.a)(function(e){i.selectBranch(e.id)}),Object(l.useObserver)(function(){return f.hasSingleBranch?null:c.a.createElement(u.a,{icon:o},c.a.createElement(m.a,{selectedBranches:i.branchId?[i.branchId]:void 0,onSelectionChange:function(e){var t=Object(r.a)(e,1)[0];return i.selectBranch(t)},isMulti:t,isClearable:!1,getDropdownProps:function(){return{width:n}},hideWhenSingleBranch:!0}))})}},1491:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n.n(r),c=n(184),i=function(e){var t=e.price,n=e.currencyCode,r=e.className;return a.a.createElement("span",{className:r},n?"".concat(Object(c.d)(t)," ").concat(n):Object(c.d)(t))}},1492:function(e,t,n){"use strict";function r(e){var t=e.toLocaleLowerCase();return function(e){return e.toLocaleLowerCase().includes(t)}}n.d(t,"a",function(){return r})},1493:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1542);function a(){return Object(r.a)().list}},1494:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return i});var r=n(57);function a(e,t){var n=Object(r.b)().user;return e.every(n.canQuery)&&t.every(n.canMutate)}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t,[])}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a([],t)}},1497:function(e,t,n){"use strict";var r=n(46),a=n(58),c=n(98),i=n(0),o=n.n(i),l=n(5);function u(){var e=Object(l.a)(["\n  cursor: ",";\n"]);return u=function(){return e},e}var d=n(26).default.div(u(),function(e){var t=e.cursor;return void 0===t?"default":t}),s=function(e){var t=e.branch,n=e.onClick,r=e.short,a=void 0!==r&&r,c=e.showBrand,i=void 0===c||c;return o.a.createElement(d,{cursor:"pointer",onClick:n},a?t.name.substr(0,8):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,t.name),i&&o.a.createElement("span",null," [".concat(t.brand.name,"]"))))},m=n(1458),f=n(31),b=n(45),v=n(19);n.d(t,"a",function(){return p});var h=function(e){var t=e.getStyles,n=e.innerProps,r=n.ref,i=Object(a.a)(n,["ref"]);return o.a.createElement("div",Object.assign({},i,{ref:r,style:t("clearIndicator",e)}),o.a.createElement("div",{style:{padding:"0px 5px"}},o.a.createElement(c.Trans,{id:"All"})))},p=function(e){var t=e.branches,n=e.selectedBranch,c=e.onSingleSelection,i=e.selectedBranches,l=e.onMultiSelection,u=Object(a.a)(e,["branches","selectedBranch","onSingleSelection","selectedBranches","onMultiSelection"]);return o.a.createElement(m.a,Object.assign({value:u.isMulti?i:n,placeholder:u.isMulti?b.b._("Filter branches..."):b.b._("Select a branch"),maxHeight:v.d.ButtonHeight,options:t,getOptionValue:f.a.prop("id"),formatOptionLabel:function(e){return o.a.createElement(s,{branch:e})},filterOption:function(e,t){return e.data.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())},closeMenuOnSelect:!u.isMulti,components:{ClearIndicator:h},styles:{clearIndicator:function(e){return Object(r.a)({},e,{cursor:"pointer"})}},onChange:function(e){u.isMulti&&l&&Array.isArray(e)&&l(e),!u.isMulti&&c&&(Array.isArray(e)?c(f.a.head(e)||null):c(e||null))}},u))}},1503:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(58),a=n(0),c=n.n(a),i=n(1455),o=n(1504),l=n(139),u=n(19),d=function(e){var t=e.children,n=Object(r.a)(e,["children"]);return c.a.createElement(i.FormApi,null,function(e){return c.a.createElement(l.a,Object.assign({color:u.a.green,disabled:!Object(o.a)(e)||e.submitting,onClick:function(t){t.preventDefault(),e.submitForm(t)}},n),t)})}},1504:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return i});var r=n(1489),a=n(45);function c(e){return!e.errors||0===Object.keys(e.errors).length}function i(e){return function(t){return Object(r.isEmpty)(t+"")?a.b._("{fieldName} must be entered",{fieldName:e}):null}}},1505:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(58),a=n(0),c=n.n(a),i=n(81),o=n(1457),l=n(1466),u=n(331),d=n(141),s=n(19),m=function(e){var t=e.route,n=e.component,m=e.canQuery,f=e.canMutate,b=Object(r.a)(e,["route","component","canQuery","canMutate"]),v=t?c.a.createElement(i.b,{to:t},Object(a.createElement)(n)):Object(a.createElement)(n);return m&&(v=c.a.createElement(l.a,{queryName:m},v)),f&&(v=c.a.createElement(o.a,{mutationName:f},v)),c.a.createElement(u.a,b,c.a.createElement(d.a,{height:s.d.DashboardButtonHeight},v))}},1507:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1559),a=n(1496),c=n(0),i=n.n(c),o=function(e){var t=e.children;return i.a.createElement(a.c,{utils:r.a},t)}},1509:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(5);function a(){var e=Object(r.a)(["\n  color: inherit;\n  text-decoration-color: rgba(0, 0, 0, 0.08);\n  &:hover {\n    text-decoration-color: rgba(0, 0, 0, 0.5);\n  }\n  &:visited {\n    text-decoration-color: rgba(0, 0, 0, 0.08);\n  }\n"]);return a=function(){return e},e}var c=n(26).default.a(a())},1510:function(e,t,n){"use strict";var r=n(5),a=n(26),c=n(0),i=n.n(c),o=n(49),l=Object(o.a)(i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z",opacity:".87"}),i.a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"})),"CancelOutlined"),u=n(59),d=n(88),s=n(209),m=n(1516),f=n(19);function b(){var e=Object(r.a)(["\n  padding: 0.2rem 0.3rem 0.1rem 0.3rem;\n"]);return b=function(){return e},e}n.d(t,"a",function(){return p});var v=Object(s.a)(b()),h=a.default.div.withConfig({displayName:"DeliveryTimeBadge__StyledDelayedTimeMark",componentId:"g9mune-0"})(["background:",";border:2px solid ",";width:0.6rem;height:0.6rem;border-radius:0.7rem;position:absolute;"],f.a.white,f.a.greyMiddle),p=function(e){var t=e.deliverAt,n=e.deliveredAt,r=e.isCancelled,a=void 0!==r&&r,c=e.isDelayed,o=void 0!==c&&c,s=e.onClick,f=!(n||a),b=Object(u.useTimer)({interval:u.MINUTE,enabled:f}),p=m.a.UNKNOWN;if(a)return i.a.createElement(m.b,{variant:p,className:v},i.a.createElement(l,null));if(!t)return i.a.createElement(m.b,{variant:p},i.a.createElement("span",{role:"img","aria-label":"Unknown"},"\u2754"));var g=Object(d.differenceInMinutes)(t,n||b);return p=g>20?m.a.NORMAL:g>0?m.a.WARNING:m.a.CRITICAL,i.a.createElement(i.a.Fragment,null,o&&i.a.createElement(h,null),i.a.createElement(m.b,{minutes:g,variant:p,onClick:s}))}},1514:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(5),a=n(26),c=n(0),i=n.n(c),o=n(19);function l(){var e=Object(r.a)(["\n  0% {\n    -webkit-transform: scale(0);\n  }\n  100% {\n    -webkit-transform: scale(1);\n    opacity: 0;\n  }\n"]);return l=function(){return e},e}function u(){var e=Object(r.a)(["\n  0% {\n    -webkit-transform: scale(0);\n    transform: scale(0);\n  }\n  100% {\n    -webkit-transform: scale(1);\n    transform: scale(1);\n    opacity: 0;\n  }\n"]);return u=function(){return e},e}var d=Object(a.keyframes)(u()),s=Object(a.keyframes)(l()),m=a.default.div.withConfig({displayName:"BlockLoader__StyledBlockLoader",componentId:"sc-2zh6cb-0"})(["width:40px;height:40px;margin:100px auto;background-color:",";border-radius:100%;-webkit-animation:"," 1s infinite ease-in-out;animation:"," 1s infinite ease-in-out;"],o.a.orange,s,d),f=function(e){return i.a.createElement(m,null,i.a.createElement("div",{className:"bounce1"}),i.a.createElement("div",{className:"bounce2"}),i.a.createElement("div",{className:"bounce3"}))}},1516:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return O});var r,a,c=n(5),i=n(206),o=n(26),l=n(209),u=n(0),d=n.n(u),s=n(19);function m(){var e=Object(c.a)(["\n  cursor: pointer;\n"]);return m=function(){return e},e}function f(){var e=Object(c.a)(["\n  font-size: 1.7rem;\n  font-weight: bold;\n"]);return f=function(){return e},e}function b(){var e=Object(c.a)(["\n  font-size: 0.8rem;\n"]);return b=function(){return e},e}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING",e[e.NORMAL=3]="NORMAL"}(a||(a={}));var v=o.default.div.withConfig({displayName:"TimeBadge__StyledTimeBadge",componentId:"zuoyiw-0"})(["height:2rem;line-height:2rem;width:2rem;border-radius:50%;overflow:hidden;border:1px solid white;color:",";background:",";text-align:center;font-family:'Open Sans',sans-serif;"],s.a.white,s.a.greyMiddle),h=(r={},Object(i.a)(r,a.UNKNOWN,Object(o.default)(v).withConfig({displayName:"TimeBadge__UNKNOWN",componentId:"zuoyiw-1"})([""])),Object(i.a)(r,a.CRITICAL,Object(o.default)(v).withConfig({displayName:"TimeBadge__CRITICAL",componentId:"zuoyiw-2"})(["background:",";"],s.a.red)),Object(i.a)(r,a.WARNING,Object(o.default)(v).withConfig({displayName:"TimeBadge__WARNING",componentId:"zuoyiw-3"})(["background:",";color:",";font-weight:bold;"],s.a.orange,s.a.black)),Object(i.a)(r,a.NORMAL,Object(o.default)(v).withConfig({displayName:"TimeBadge__NORMAL",componentId:"zuoyiw-4"})(["background:",";"],s.a.green)),r),p=Object(l.a)(b()),g=Object(l.a)(f()),E=Object(l.a)(m()),O=d.a.forwardRef(function(e,t){var n=e.minutes,r=e.className,c=e.children,i=e.variant,o=e.onClick,u=h[i],s=c,m=["animated"];return void 0!==n&&((n>99||n<-9)&&m.push(p),n<-99?(s="\u2012",m.push(g)):s=n.toString()),o&&m.push(E),d.a.createElement(u,{ref:t,key:n,onClick:o,className:l.b.apply(void 0,[r,{heartBeat:i===a.CRITICAL&&n>0,pulse:i===a.WARNING}].concat(m))},s)})},1517:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),a=n.n(r),c=function(e){var t=e.customer;return t?a.a.createElement("span",null,"".concat(t.lastName?"".concat(t.firstName," ").concat(t.lastName):t.defaultPhone?t.defaultPhone.phone:"")):a.a.createElement("i",null,"unknown")}},1518:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(59),a=n(0),c=n.n(a),i=n(1530),o=n(19),l=n(139),u=function(e){var t=e.confirmNode,n=e.initialColor,a=void 0===n?o.a.greyMiddle:n,u=e.confirmColor,d=void 0===u?o.a.red:u,s=e.confirmDisableMs,m=void 0===s?300:s,f=e.resetToInitialMs,b=void 0===f?3*r.SECOND:f,v=e.disabled,h=e.children,p=e.onConfirm,g=c.a.useRef(null),E=Object(i.a)({confirmDisableMs:m,resetToInitialMs:b,onConfirm:p,ref:g}),O=E.confirming,y=E.onClick;return c.a.createElement(l.a,{ref:g,onClick:y,color:O?d:a,disabled:v},O?t:h)}},1519:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),a=n(26),c=n(19);function i(){var e=Object(r.a)(["\n  color: ",";\n"]);return i=function(){return e},e}var o=a.default.div(i(),c.a.greyMiddle)},1522:function(e,t,n){"use strict";var r=n(5),a=n(98),c=n(162),i=n.n(c),o=n(0),l=n.n(o),u=n(339),d=n(26),s=n(41),m=n(184),f=n(19),b=n(1517),v=n(1510),h=n(1609),p=n(185);function g(){var e=Object(r.a)(["\n  display: inline-block;\n  position: absolute;\n  right: 3.8rem;\n  top: 0;\n"]);return g=function(){return e},e}var E=d.default.div(g()),O=function(){return l.a.createElement(E,{"data-testid":"OrderStarIndicator"},l.a.createElement(p.a,{icon:h.a,color:f.a.orange}))};function y(){var e=Object(r.a)(["\n  font-style: italic;\n  color: ",";\n"]);return y=function(){return e},e}function j(){var e=Object(r.a)(["\n  padding: 0.3rem 0.6rem;\n  display: inline-block;\n  border-top-left-radius: ",";\n  background-color: ",";\n  color: ",";\n"]);return j=function(){return e},e}function C(){var e=Object(r.a)(["\n  color: ",";\n"]);return C=function(){return e},e}function w(){var e=Object(r.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0.1rem;\n    right: -0.3rem;\n    left: 0.9rem;\n    bottom: 0.3rem;\n    border-top: 2px solid ",";\n    transform: rotate(13deg);\n    transform-origin: 0% 0%;\n    opacity: 0.7;\n  }\n"]);return w=function(){return e},e}function k(){var e=Object(r.a)(["\n  flex: 0 0 3.5rem;\n  text-align: right;\n  position: relative;\n"]);return k=function(){return e},e}function x(){var e=Object(r.a)(["\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n"]);return x=function(){return e},e}function S(){var e=Object(r.a)(["\n  flex: 1 0;\n  padding: 0 0 0 0.5rem;\n"]);return S=function(){return e},e}function M(){var e=Object(r.a)(["\n  flex: 0 0 2rem;\n"]);return M=function(){return e},e}function T(){var e=Object(r.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  padding: 0.4rem;\n"]);return T=function(){return e},e}function I(){var e=Object(r.a)(["\n  text-align: left;\n  cursor: pointer;\n  &:hover {\n    background-color: ",";\n  }\n  &:active {\n    background-color: ",";\n  }\n"]);return I=function(){return e},e}n.d(t,"b",function(){return A}),n.d(t,"a",function(){return W});var N=Object(d.default)(u.Element)(I(),i()(f.a.turquoise).alpha(.05).string(),i()(f.a.turquoise).alpha(.2).string()),R=d.default.div(T()),D=d.default.div(M()),L=d.default.div(S()),B=d.default.div(x()),F=d.default.div(k()),_=d.default.div(w(),f.a.orange),z=d.default.div(C(),f.a.orange),A=d.default.div(j(),f.c.Card,f.a.green,f.a.white),H=d.default.div(y(),f.a.violet),W=function(e){var t=e.order,n=e.isCancelled,r=e.showBranch,c=e.onClick;return l.a.createElement(N,{onClick:c,name:"order-".concat(t.id)},r&&l.a.createElement(A,null,t.companyBranch.name),l.a.createElement(R,null,l.a.createElement(D,null,l.a.createElement(v.a,{deliverAt:t.deliverAt?new Date(t.deliverAt):null,deliveredAt:t.deliveredAt?new Date(t.deliveredAt):null,isCancelled:n,isDelayed:null!==t.delayedDeliveryTime})),l.a.createElement(L,null,null!==t.sector?t.sector.name:t.deliveryType&&t.deliveryType.enum===s.a.Pickup?l.a.createElement(H,null,l.a.createElement(a.Trans,{id:"To pickup"})):Object(m.a)(t.address)),l.a.createElement(B,null,l.a.createElement(b.a,{customer:t.customer})),l.a.createElement(F,null,t.isPriority&&l.a.createElement(O,null),t.totalSum.formattedValue,t.isPaidWithCard&&l.a.createElement(l.a.Fragment,null,l.a.createElement(_,{"data-testid":"PaidMark"}),l.a.createElement(z,null,l.a.createElement(a.Trans,{id:"Paid"}))))))}},1528:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(25),a=n.n(r),c=n(36),i=n(46),o=n(7),l=n(59),u=n(83),d=n(20),s=n(62);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(o.useApolloClient)(),r=Object(o.useApolloDefender)().onError,m=Object(s.useObservable)({data:null,loading:!1,error:void 0,wasExecuted:!1,get hasAnyError(){return Boolean(m.error)}});Object(l.useReaction)(function(){return m.error},function(e){e&&r(e)});var f=function(n,r){return new o.ApolloOperationError(n,e,Object(i.a)({},t,{variables:r}))},b=function(){var r=Object(c.a)(a.a.mark(function r(c){var o;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return m.loading=!0,r.prev=1,r.next=4,n.query(Object(i.a)({},t,{query:e,variables:c}));case 4:o=r.sent,Object(d.runInAction)(function(){m.wasExecuted=!0,m.data=o.data,m.loading=!1,o.errors&&o.errors.length>0&&(m.error=f(new u.ApolloError({graphQLErrors:o.errors}),c))}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),Object(d.runInAction)(function(){m.error=f(r.t0,c),m.loading=!1});case 11:return r.abrupt("return",m);case 12:case"end":return r.stop()}},r,null,[[1,8]])}));return function(e){return r.apply(this,arguments)}}();return{result:m,execute:b,reset:function(){Object(d.runInAction)(function(){m.wasExecuted=!1,m.data=null,m.error=void 0,m.loading=!1})}}}},1529:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(5),a=n(1602),c=n(0),i=n.n(c),o=n(26),l=n(1468),u=n(1456),d=n(45),s=n(19);function m(){var e=Object(r.a)(["\n  color: ",";\n  margin-left: 0.5rem;\n"]);return m=function(){return e},e}function f(){var e=Object(r.a)(["\n  color: ",";\n"]);return f=function(){return e},e}var b=o.default.span(f(),s.a.orange),v=o.default.span(m(),s.a.greyDark),h=function(e){var t=e.note,n=e.previousNote;return t||n?i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,null),i.a.createElement(u.a,{icon:a.a,labelMargin:"0"},i.a.createElement(b,null,t||d.b._("Without note").toLocaleLowerCase()),i.a.createElement(v,null,n))):null}},1530:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(91),a=n(0),c=n.n(a);function i(e){var t=e.confirmDisableMs,n=e.resetToInitialMs,a=e.onConfirm,i=e.ref,o=c.a.useState(!1),l=Object(r.a)(o,2),u=l[0],d=l[1],s=c.a.useCallback(function(){i.current&&(i.current.disabled=!0),d(!0),setTimeout(function(){i.current&&(i.current.disabled=!1)},t)},[i,t]),m=c.a.useCallback(function(){d(!1),a()},[a]),f=u?m:s;return c.a.useEffect(function(){if(u){var e=setTimeout(function(){return d(!1)},n);return function(){return clearTimeout(e)}}},[n,u]),{confirming:u,onClick:f}}},1531:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return m});var r,a,c=n(206),i=n(257),o=n(41),l=n(45),u=(r={},Object(c.a)(r,o.u.Main,Object(i.i18nMark)("Ware categories")),Object(c.a)(r,o.u.SideDish,Object(i.i18nMark)("Sidedish categories")),Object(c.a)(r,o.u.Cover,Object(i.i18nMark)("Cover categories")),r),d=(a={},Object(c.a)(a,o.u.Main,Object(i.i18nMark)("Ware recipe")),Object(c.a)(a,o.u.SideDish,Object(i.i18nMark)("Sidedish recipe")),Object(c.a)(a,o.u.Cover,Object(i.i18nMark)("Cover recipe")),a);function s(e){return l.b._(u[e])}function m(e){return l.b._(d[e])}},1532:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(2578),a=n(59),c=n(0),i=n.n(c),o=n(1459),l=n(1456),u=n(57),d=n(141),s=n(45),m=function(e){var t=e.modelType,n=Object(u.b)().settings.menu[t],c=Object(a.useDebounceCallback)(n.setFilterInput);return i.a.createElement(l.a,{icon:r.a},i.a.createElement(d.a,{width:17},i.a.createElement(o.a,{defaultValue:n.filterInput,inputFullWidth:!0,onChange:function(e){return c(e.target.value)},placeholder:s.b._("Filter by name or code")})))}},1533:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(5),a=n(1691),c=n(0),i=n.n(c),o=n(81),l=n(26),u=n(330),d=n(139),s=n(19);function m(){var e=Object(r.a)(["\n  position: absolute;\n  right: 0;\n  z-index: 5;\n"]);return m=function(){return e},e}var f=l.default.div(m()),b=function(e){var t=e.routeTo,n=e.onClick,r=i.a.createElement(u.a,null,i.a.createElement(d.a,{icon:a.a,color:s.a.green,onClick:n}));return i.a.createElement(f,null,t?i.a.createElement(o.b,{to:t},r):r)}},1534:function(e,t,n){},1535:function(e,t,n){"use strict";var r=n(41);n.d(t,"b",function(){return r.u}),n.d(t,"a",function(){return r.v})},1536:function(e,t,n){"use strict";var r=n(5),a=n(0),c=n.n(a),i=n(26),o=n(1457),l=n(203),u=n(1467),d=n(1461),s=n(45),m=n(204),f=n(1460),b=n(1488),v=n(62),h=n(57),p=n(1458),g=n(141),E=n(41),O=n(31),y=n(1531),j=Object(v.observer)(function(){var e=Object(h.b)().settings.menu.recipe,t=Object(E.cb)({branchId:e.branchId}),n=t.data,r=t.loading;return c.a.createElement(g.a,{width:17},c.a.createElement(p.a,{key:e.branchId,onChange:function(t){e.setCategoryFilter(t?t.id:null)},options:function(){if(!n||!n.categories)return[];var e=O.a.groupBy(function(e){return e.categoryType.enum.toString()},n.categories);return Object.keys(e).map(function(t){return{label:Object(y.a)(t),options:e[t]}})}(),isMulti:!1,isClearable:!0,isSearchable:!0,isLoading:r,placeholder:s.b._("Filter by category"),getOptionValue:O.a.prop("id"),getOptionLabel:O.a.propOr("","nameLabel")}))}),C=n(1532),w=n(91),k=n(98),x=n(1452),S=n(2612),M=n(59),T=n(139),I=n(1472),N=n(1533),R=function(){var e=c.a.useState(!1),t=Object(w.a)(e,2),n=t[0],r=t[1],a=Object(M.useRouterContext)().history,i=Object(I.b)().getRecipeCreateRoute,o=function(e){return function(){a.push(i(e))}};return c.a.createElement(c.a.Fragment,null,c.a.createElement(N.a,{onClick:function(e){e.preventDefault(),r(!0)}}),c.a.createElement(x.a,{open:n,onClose:function(){return r(!1)}},c.a.createElement(S.a,null,"Select item type"),c.a.createElement(T.a,{onClick:o(E.u.Main)},c.a.createElement(k.Trans,{id:"Ware"})),c.a.createElement(T.a,{onClick:o(E.u.SideDish)},c.a.createElement(k.Trans,{id:"Sidedish"})),c.a.createElement(T.a,{onClick:o(E.u.Cover)},c.a.createElement(k.Trans,{id:"Cover"}))))},D=n(1492),L=n(1547),B=n(1473),F=n(1462),_=n(19),z=n(1535),A=function(e){var t=e.recipes,n=e.onToggle,r=e.onRemove,a=e.showEditColumn,i=void 0===a||a,o=e.showRemoveColumn,l=void 0!==o&&o,u=e.showVisibilityColumn,d=void 0===u||u,m=e.showTypeColumn,f=void 0!==m&&m,b=e.isLoading,v=void 0!==b&&b,h=e.heightStretch,p={isLoading:v,items:t,heightStretch:void 0!==h&&h,noRowsRenderer:function(){return v?c.a.createElement(L.a,null):c.a.createElement(F.a,null,s.b._("No recipes has been found"))}},g=Object(I.b)().getRecipeEditRoute;return c.a.createElement(B.f,p,i&&c.a.createElement(B.a,{dataKey:"id",width:_.d.ButtonColumnWidthPx,minWidth:_.d.ButtonColumnWidthPx,cellRenderer:Object(B.h)({canQuery:"recipe"},B.b),cellDataGetter:function(e){var t=e.rowData;return g(t.id,t.recipeType.enum)}}),l&&c.a.createElement(B.a,{dataKey:"id",width:_.d.ButtonColumnWidthPx,minWidth:_.d.ButtonColumnWidthPx,cellRenderer:B.c,columnData:{onRemove:r}}),d&&c.a.createElement(B.a,{dataKey:"visible",width:_.d.ButtonColumnWidthPx,minWidth:_.d.ButtonColumnWidthPx,cellRenderer:Object(B.h)({canMutate:"updateRecipe"},B.d),columnData:{onToggle:n}}),f&&c.a.createElement(B.a,{dataKey:"recipeType",width:100,label:s.b._("Type"),cellRenderer:W}),c.a.createElement(B.a,{dataKey:"code",width:100,label:s.b._("Code")}),c.a.createElement(B.a,{dataKey:"nameLabel",width:600,flexGrow:2,label:s.b._("Name"),cellRenderer:B.e,columnData:{noteKey:"internalNote"}}),c.a.createElement(B.a,{dataKey:"prices",width:150,label:s.b._("Delivery sale"),cellRenderer:H,columnData:{priceType:z.a.Delivery}}),c.a.createElement(B.a,{dataKey:"prices",width:150,label:s.b._("Local sale"),cellRenderer:H,columnData:{priceType:z.a.Inhouse}}),c.a.createElement(B.a,{dataKey:"availableAmount",label:s.b._("recipe.list.availableAmount",{},{defaults:"Stock"}),width:100}),c.a.createElement(B.a,{dataKey:"internalNote",label:s.b._("Internal note"),width:200}))};function H(e){var t=e.cellData,n=e.columnData.priceType,r=t.find(O.a.pathEq(["priceType","enum"],n));return r?r.price.formattedValue:c.a.createElement("i",null,s.b._("Not set").toLocaleLowerCase())}function W(e){var t=e.rowData.recipeType.enum;return t===E.u.SideDish?s.b._("Sidedish").toLocaleLowerCase():t===E.u.Cover?s.b._("Cover").toLocaleLowerCase():s.b._("Ware").toLocaleLowerCase()}var P=Object(v.observer)(function(){var e=Object(h.b)().settings,t=Object(E.gb)({branchId:e.branchId,categoryId:e.menu.recipe.categoryFilterId}),n=t.data,r=t.loading,a=Object(v.useComputed)(function(){if(!n||!n.recipes||0===n.recipes.length)return[];var t=Object(D.a)(e.menu.recipe.filterInput);return n.recipes.filter(O.a.cond([[O.a.propSatisfies(t,"code"),O.a.T],[O.a.propSatisfies(t,"nameLabel"),O.a.T]]))},[n&&n.recipes]);return c.a.createElement(A,{recipes:a,onToggle:e.menu.recipe.changeVisibility,isLoading:r,heightStretch:!0,showTypeColumn:!0})});function V(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n\n  & .filter {\n    flex: 0 0 auto;\n  }\n\n  & .table {\n    flex: 1 1 0;\n    min-height: 0;\n  }\n"]);return V=function(){return e},e}n.d(t,"b",function(){return q}),n.d(t,"a",function(){return U});var q=i.default.div(V()),U=function(e){return c.a.createElement(m.a,{pageTitle:s.b._("Recipe overview"),useBackButton:!0},c.a.createElement(f.a,{forcePercentHeightInMobile:100},c.a.createElement(l.a,{stretchToParent:!0},c.a.createElement(q,null,c.a.createElement("div",{className:"filter"},c.a.createElement(d.a,{justify:"start",flexWrap:"wrap"},c.a.createElement(u.a,null,c.a.createElement(b.a,{width:20})),c.a.createElement(u.a,null,c.a.createElement(C.a,{modelType:"recipe"})),c.a.createElement(u.a,null,c.a.createElement(j,null))),c.a.createElement(o.a,{mutationName:"createRecipe"},c.a.createElement(R,null))),c.a.createElement("div",{className:"table"},c.a.createElement(P,null))))))}},1537:function(e,t,n){"use strict";var r=n(1560),a=n(0),c=n.n(a),i=n(49),o=Object(i.a)(c.a.createElement("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"RemoveCircleOutline"),l=n(330),u=n(139);n.d(t,"a",function(){return d});var d=function(e){var t=Object(r.a)({},e);return c.a.createElement(l.a,null,c.a.createElement(u.a,Object.assign({icon:o},t)))}},1540:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return v});var r=n(91),a=n(26),c=n(0),i=n.n(c),o=n(41),l=n(139),u=n(19),d=[20,30,45,60,75,90,105,120],s=[10,20,30,45,60,75,90],m=a.default.div.withConfig({displayName:"DeliveryMinutes__StyledDeliveryMinutes",componentId:"i7ojyp-0"})(["display:flex;justify-content:center;"]),f=a.default.div.withConfig({displayName:"DeliveryMinutes__StyledMinutesItem",componentId:"i7ojyp-1"})(["margin:1rem 1rem 0 0;"]),b=function(e){var t=e.deliveryType,n=e.onMinuteClick,a=e.initialMinutes,c=i.a.useState(a),o=Object(r.a)(c,2),d=o[0],s=o[1],b=v(t);return i.a.createElement(m,null,b.map(function(e){return i.a.createElement(f,{key:e},i.a.createElement(l.a,{onClick:function(){s(e),n(e)},color:d===e?u.a.yellow:u.a.green},e))}))};function v(e){return e===o.a.Pickup?s:d}},1542:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(57);function a(){return Object(r.b)().order}},1543:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(91),a=n(98),c=n(1452),i=n(2612),o=n(2609),l=n(2610),u=n(0),d=n.n(u),s=n(1540),m=n(139),f=function(e){var t=e.title,n=e.deliveryType,f=e.onConfirm,b=e.onCancel,v=e.children,h=e.cancelText,p=e.refApi,g=Object(u.useState)(!1),E=Object(r.a)(g,2),O=E[0],y=E[1],j=function(){return y(!0)},C=function(){return y(!1)};return p&&(p.current={openDialog:j,closeDialog:C}),d.a.createElement(d.a.Fragment,null,v&&v({openDialog:j,closeDialog:C}),d.a.createElement(c.a,{open:O,onClose:C},d.a.createElement(i.a,null,t),d.a.createElement(o.a,null,d.a.createElement(s.a,{deliveryType:n,onMinuteClick:function(e){C(),f(e)}})),d.a.createElement(l.a,null,d.a.createElement(m.a,{onClick:function(){C(),b&&b()}},h||d.a.createElement(a.Trans,{id:"Cancel"})))))}},1547:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var c=function(){return Math.random().toString(36).substring(2)},i=function(e){var t=e.rtl,n=e.speed,i=e.interval,o=e.style,l=e.width,u=e.height,d=e.baseUrl,s=e.gradientRatio,m=e.animate,f=e.ariaLabel,b=e.children,v=e.className,h=e.uniquekey,p=e.primaryColor,g=e.primaryOpacity,E=e.secondaryColor,O=e.secondaryOpacity,y=e.preserveAspectRatio,j=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n}(e,["rtl","speed","interval","style","width","height","baseUrl","gradientRatio","animate","ariaLabel","children","className","uniquekey","primaryColor","primaryOpacity","secondaryColor","secondaryOpacity","preserveAspectRatio"]),C=h?h+"-idClip":c(),w=h?h+"-idGradient":c(),k=t?{transform:"scaleX(-1)"}:{},x="0; "+i+"; 1",S=n+"s";return Object(r.createElement)("svg",a({role:"img",style:a({},o,k),className:v,"aria-label":f||null,viewBox:"0 0 "+l+" "+u,preserveAspectRatio:y},j),f?Object(r.createElement)("title",null,f):null,Object(r.createElement)("rect",{x:"0",y:"0",width:l,height:u,clipPath:"url("+d+"#"+C+")",style:{fill:"url("+d+"#"+w+")"}}),Object(r.createElement)("defs",null,Object(r.createElement)("clipPath",{id:C},b),Object(r.createElement)("linearGradient",{id:w},Object(r.createElement)("stop",{offset:"0%",stopColor:p,stopOpacity:g},m&&Object(r.createElement)("animate",{attributeName:"offset",values:-s+"; "+-s+"; 1",keyTimes:x,dur:S,repeatCount:"indefinite"})),Object(r.createElement)("stop",{offset:"50%",stopColor:E,stopOpacity:O},m&&Object(r.createElement)("animate",{attributeName:"offset",values:-s/2+"; "+-s/2+"; "+(1+s/2),keyTimes:x,dur:S,repeatCount:"indefinite"})),Object(r.createElement)("stop",{offset:"100%",stopColor:p,stopOpacity:g},m&&Object(r.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+s),keyTimes:x,dur:S,repeatCount:"indefinite"})))))},o={animate:!0,ariaLabel:"Loading interface...",baseUrl:"",gradientRatio:2,height:130,interval:.25,preserveAspectRatio:"none",primaryColor:"#f0f0f0",primaryOpacity:1,rtl:!1,secondaryColor:"#e0e0e0",secondaryOpacity:1,speed:2,style:{},width:400},l=function(e){return Object(r.createElement)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:e.width,height:e.height})},u=function(e){var t=a({},o,e),n=e.children?e.children:Object(r.createElement)(l,a({},t));return Object(r.createElement)(i,a({},t),n)},d=function(e){return Object(r.createElement)(u,a({},e),Object(r.createElement)("circle",{cx:"10",cy:"20",r:"8"}),Object(r.createElement)("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),Object(r.createElement)("circle",{cx:"10",cy:"50",r:"8"}),Object(r.createElement)("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),Object(r.createElement)("circle",{cx:"10",cy:"80",r:"8"}),Object(r.createElement)("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),Object(r.createElement)("circle",{cx:"10",cy:"110",r:"8"}),Object(r.createElement)("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))}},1550:function(e,t,n){"use strict";var r=n(46),a=n(58),c=n(0),i=n.n(c),o=n(74),l=n(81);function u(e){return"/"===e.charAt(0)}function d(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}var s=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],c=e&&u(e),i=t&&u(t),o=c||i;if(e&&u(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var s=0,m=a.length;m>=0;m--){var f=a[m];"."===f?d(a,m):".."===f?(d(a,m),s++):s&&(d(a,m),s--)}if(!o)for(;s--;s)a.unshift("..");!o||""===a[0]||a[0]&&u(a[0])||a.unshift("");var b=a.join("/");return n&&"/"!==b.substr(-1)&&(b+="/"),b};n.d(t,"a",function(){return m});var m=function(e){var t=e.to,n=e.from,r=Object(a.a)(e,["to","from"]);return i.a.createElement(o.Route,{children:function(e){var a=e.location;return i.a.createElement(l.b,Object.assign({to:f(t,n||"".concat(a.pathname,"/"))},r))}})};function f(e,t){if("string"===typeof e)return s(e,t);var n=s(e.pathname||"",t);return Object(r.a)({},e,{pathname:n})}},1558:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(46),a=n(58),c=n(1496),i=n(0),o=n.n(i),l=n(1455),u=n(45),d=n(1507),s=function(e){var t=e.field,n=e.inline,i=void 0===n||n,s=Object(a.a)(e,["field","inline"]);return o.a.createElement(d.a,null,o.a.createElement(l.Field,{field:t,render:function(e){return o.a.createElement(c.b,Object(r.a)({variant:i?"inline":"dialog",value:e.value,onChange:function(t){return e.setValue(t)},onOpen:function(){return e.setTouched(!0)},format:"lll",ampm:!1,hideTabs:!0,maxDateMessage:u.b._("Date is too much in the future"),minDateMessage:u.b._("Date is too much in the past")},s))}}))}},1561:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(5);function a(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]);return a=function(){return e},e}var c=n(26).default.div(a())},1567:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),a=n(26),c=n(19);function i(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-bottom: 1px solid ",";\n  padding: 0.1rem 0 0.1rem 0;\n"]);return i=function(){return e},e}var o=a.default.div(i(),c.a.greyMiddle)},1569:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(58),a=(n(1534),n(0)),c=n.n(a),i=n(1495);function o(e){var t=e.items,n=e.renderItem,a=e.heightStretch,o=void 0!==a&&a,l=e.rowHeight,u=void 0===l?60:l,d=Object(r.a)(e,["items","renderItem","heightStretch","rowHeight"]),s=c.a.useCallback(function(e){var r=e.key,a=e.style,i=e.index;return c.a.createElement("div",{key:r,style:a},n(t[i],i))},[n,t]),m=function(e,n){return c.a.createElement(i.g,Object.assign({width:e,height:n,headerHeight:50,rowHeight:u,rowCount:t?t.length:0,rowRenderer:s,style:{outline:"none"}},d))};return o?c.a.createElement(i.a,null,function(e){var t=e.width,n=e.height;return m(t,n)}):c.a.createElement(i.i,{scrollElement:window},function(e){var t=e.height;return c.a.createElement(i.a,{disableHeight:!0},function(e){var n=e.width;return m(n,t)})})}},1570:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(58),a=n(107),c=n(0),i=n.n(c),o=n(57),l=n(1458),u=n(45),d=function(e){var t=e.brands,n=e.selectedBrand,c=e.onSelection,d=Object(r.a)(e,["brands","selectedBrand","onSelection"]),s=Object(o.b)().user;return i.a.createElement(l.a,Object.assign({placeholder:u.b._("Select brand"),options:t||s.brands,value:n,formatOptionLabel:a.RM.prop("name"),getOptionValue:a.RM.prop("id"),getOptionLabel:a.RM.prop("name"),isClearable:!0,isSearchable:!0,onChange:function(e){return c(e)},autoFocus:!0},d))}},1571:function(e,t,n){"use strict";var r=n(5),a=n(62),c=n(0),i=n.n(c),o=n(26),l=n(19),u=n(1493),d=n(1522),s=n(1468),m=n(335),f=n(41),b=n(46),v=n(2553),h=n(2555),p=n(1456),g=n(1509),E=function(e){var t=e.phones,n=e.emails,r=function(e){return i.a.createElement(p.a,{icon:e.icon,key:e.value,labelMargin:"0"},i.a.createElement("div",{title:e.description||""},function(e){return e.isMail?i.a.createElement(g.a,{href:"mailto:".concat(e.value)},e.value):i.a.createElement(g.a,{href:"tel:".concat(e.value.replace("/ /g",""))},e.value)}(e)))};return i.a.createElement(i.a.Fragment,null,(t.length>0||n.length>0)&&i.a.createElement(s.a,null),t.map(function(e){return r(Object(b.a)({icon:v.a,isMail:!1,value:e.phone},e))}),n.map(function(e){return r(Object(b.a)({icon:h.a,isMail:!0,value:e.email},e))}))},O=n(1529),y=n(98),j=function(e){var t=e.current,n=e.total;return i.a.createElement(y.Trans,{id:"It's customer's <0/> order <1/>",components:[i.a.createElement(y.Trans,{id:"{current, selectordinal, one {#st} two {#nd} few {#rd} other {#th}}",values:{current:t}}),i.a.createElement(y.Trans,{id:"{total, plural, one {} other {from total of # orders}}",values:{total:n}})]})},C=n(45),w=n(1491);function k(){var e=Object(r.a)(["\n  flex: 0 0 4.5rem;\n  text-align: right;\n  color: ",";\n"]);return k=function(){return e},e}function x(){var e=Object(r.a)(["\n  flex: 1 0;\n  color: ",";\n"]);return x=function(){return e},e}function S(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding-left: 3rem;\n"]);return S=function(){return e},e}var M=o.default.div(S()),T=o.default.div(x(),l.a.greyMiddle),I=o.default.div(k(),l.a.greyMiddle),N=function(e){var t=e.label,n=e.price,r=e.highlight,a=void 0!==r&&r;return i.a.createElement(M,null,i.a.createElement(T,null,t),i.a.createElement(I,null,a?i.a.createElement("b",null,i.a.createElement(w.a,{price:n})):i.a.createElement(w.a,{price:n})))};function R(){var e=Object(r.a)(["\n  margin: 0 0 0 auto;\n  width: 20rem;\n  text-align: right;\n"]);return R=function(){return e},e}var D=o.default.div(R()),L=function(e){var t=e.totals;return i.a.createElement(D,null,i.a.createElement(N,{label:C.b._("Tips"),price:t.tip.value}),i.a.createElement(N,{label:C.b._("Transport fee"),price:t.transportFee.value}),i.a.createElement(N,{label:C.b._("Covers price"),price:t.coverPrice.value}),i.a.createElement(N,{label:C.b._("Discount total"),price:-1*t.totalDiscount.value}),i.a.createElement(N,{label:C.b._("Total price"),price:t.totalSum.value,highlight:!0}))},B=n(49),F=Object(B.a)(i.a.createElement("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),"FormatListNumbered");function _(){var e=Object(r.a)(["\n  display: inline-block;\n  background: ",";\n  border-radius: 0.7rem;\n  margin: 0 0 0 1rem;\n  padding: 0.1rem 0.8rem;\n"]);return _=function(){return e},e}var z=o.default.div(_(),function(e){switch(e.orderOrigin.enum){case f.k.DameJidlo:return l.a.orange;default:return l.a.greyLight}}),A=function(e){var t=e.displayedId,n=e.orderOrigin;return i.a.createElement(p.a,{icon:F,labelMargin:"0"},t,i.a.createElement(z,{orderOrigin:n,displayedId:t},n.code))},H=Object(B.a)(i.a.createElement("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"}),"Announcement"),W=function(e){var t=e.rules,n=e.children;return t.length>0||n?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,null),i.a.createElement(p.a,{icon:H,labelMargin:"0"},n,i.a.createElement("br",null),t.join(", "))):null},P=Object(B.a)(i.a.createElement("path",{d:"M16.24 7.76C15.07 6.59 13.54 6 12 6v6l-4.24 4.24c2.34 2.34 6.14 2.34 8.49 0 2.34-2.34 2.34-6.14-.01-8.48zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"Timelapse"),V=n(184);function q(){var e=Object(r.a)(["\n  margin-left: 1rem;\n  display: inline-block;\n  color: ",";\n"]);return q=function(){return e},e}var U=o.default.div(q(),l.a.greyMiddle);function G(){var e=Object(r.a)(["\n  color: ",";\n"]);return G=function(){return e},e}function K(){var e=Object(r.a)(["\n  font-weight: bold;\n  color: ",";\n"]);return K=function(){return e},e}var Q,J=o.default.span(K(),l.a.orange),Y=Object(o.default)(U)(G(),l.a.orange),X=function(e){var t=e.order,n=[];if(t.delayedDeliveryTime?n.push(i.a.createElement("div",{key:"delayedDeliveryTime"},i.a.createElement(J,null,Object(V.f)(t.delayedDeliveryTime)),i.a.createElement(Y,null,i.a.createElement(y.Trans,{id:"Deliver at time"})))):t.deliverAt&&n.push(i.a.createElement("div",{key:"deliverAt"},Object(V.f)(t.deliverAt),i.a.createElement(U,null,i.a.createElement(y.Trans,{id:"Deliver on time"})))),t.driver){var r=t.driver.user,a=r.firstName,c=r.lastName;n.push(i.a.createElement("div",{key:"driver"},"".concat(a," ").concat(c),i.a.createElement(U,null,i.a.createElement(y.Trans,{id:"Driver"}))))}return 0===n.length?null:i.a.createElement(p.a,{icon:P,labelMargin:"0"},n)},Z=n(206),$=n(257),ee=n(1601),te=n(31),ne=(Q={},Object(Z.a)(Q,f.m.NewOrders,Object($.i18nMark)("Created")),Object(Z.a)(Q,f.m.Preparing,Object($.i18nMark)("Preparing")),Object(Z.a)(Q,f.m.ReadyToDeliver,Object($.i18nMark)("Ready to deliver")),Object(Z.a)(Q,f.m.OnWay,Object($.i18nMark)("On way")),Object(Z.a)(Q,f.m.Finished,Object($.i18nMark)("Finished")),Q),re=function(e){var t=e.orderTiming;return i.a.createElement(p.a,{icon:ee.a,labelMargin:"0"},te.a.reject(function(e){var t=e.createdAt,n=e.orderStateCategory;return null===t||!ne[n]},t).map(function(e){return i.a.createElement("div",{key:e.orderStateCategory},Object(V.f)(e.createdAt),i.a.createElement(U,null,C.b._(ne[e.orderStateCategory])))}))};function ae(){var e=Object(r.a)(["\n  flex: 0 0 4.5rem;\n  text-align: right;\n  color: ",";\n"]);return ae=function(){return e},e}function ce(){var e=Object(r.a)(["\n  flex: 1 0;\n  color: ",";\n"]);return ce=function(){return e},e}function ie(){var e=Object(r.a)(["\n  flex: 0 0 5rem;\n"]);return ie=function(){return e},e}function oe(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding-left: 3rem;\n"]);return oe=function(){return e},e}var le=o.default.div(oe()),ue=o.default.div(ie()),de=o.default.div(ce(),l.a.black),se=o.default.div(ae(),l.a.greyMiddle),me=function(e){var t=e.code,n=e.label,r=e.price;return i.a.createElement(le,null,i.a.createElement(ue,null,t),i.a.createElement(de,null,n),i.a.createElement(se,null,i.a.createElement(w.a,{price:r})))},fe=function(e){var t=e.orderWares;return i.a.createElement("div",null,t.map(function(e){return i.a.createElement(c.Fragment,{key:e.id},i.a.createElement(me,{code:e.recipe.code,label:e.recipe.nameLabel,price:e.price.value}),i.a.createElement(i.a.Fragment,null,e.sidedishes.map(function(e){return i.a.createElement(me,{key:e.id,code:"+".concat(e.recipe.code),label:e.recipe.nameLabel,price:e.price.value})})))}))},be=n(1474),ve=n(91),he=Object(B.a)(i.a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),pe=n(330),ge=n(139);function Ee(){var e=Object(r.a)(["\n  position: absolute;\n  bottom: 4rem;\n  left: 0;\n  background: ",";\n  padding: ",";\n  border: solid 1px ",";\n  border-radius: ",";\n  box-shadow: 2px 6px 21px -2px rgba(0, 0, 0, 0.75);\n  & > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(r.a)(["\n  position: relative;\n"]);return Oe=function(){return e},e}var ye=o.default.div(Oe()),je=o.default.div(Ee(),l.a.white,l.d.Small,l.a.greyLight,l.c.Card,l.d.Middle),Ce=function(e){var t=e.children,n=i.a.useState(!1),r=Object(ve.a)(n,2),a=r[0],c=r[1];return i.a.Children.count(t)?i.a.createElement(ye,null,i.a.createElement(pe.a,null,i.a.createElement(ge.a,{icon:he,disabled:null===t,onClick:function(){return c(!a)}})),a&&i.a.createElement(je,null,t)):null},we=n(141),ke=n(1518),xe=function(e){var t=e.orderId,n=Object(f.z)(),r=Object(ve.a)(n,1)[0];return i.a.createElement(we.a,{width:l.d.OrderFlowMenuButtonWidth},i.a.createElement(ke.a,{confirmNode:i.a.createElement(y.Trans,{id:"Really cancel?"}),onConfirm:function(){r({orderId:t})}},i.a.createElement(y.Trans,{id:"Cancel order"})))},Se=n(1457),Me=function(e){var t=e.orderId,n=e.isDelivery,r=Object(f.M)(),a=Object(ve.a)(r,1)[0];return n?i.a.createElement(Se.a,{mutationName:"updateOrderDeliveryToPickup"},i.a.createElement(we.a,{width:l.d.OrderFlowMenuButtonWidth},i.a.createElement(ke.a,{confirmNode:i.a.createElement(y.Trans,{id:"Really change?"}),onConfirm:function(){a({orderId:t})}},i.a.createElement(y.Trans,{id:"Change to pickup"})))):null},Te=n(107),Ie=n(1494),Ne=n(59),Re=n(1464),De=n(1530);function Le(){var e=Object(r.a)(["\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 5px;\n\n  > * {\n    height: 100%;\n  }\n\n  button.flat-left {\n    border-top-left-radius: 0px;\n    border-bottom-left-radius: 0px;\n  }\n"]);return Le=function(){return e},e}var Be,Fe=o.default.div(Le()),_e=function(e){var t=e.confirmNode,n=e.selectNode,r=e.initialColor,a=void 0===r?l.a.greyMiddle:r,c=e.confirmColor,o=void 0===c?l.a.red:c,u=e.confirmDisableMs,d=void 0===u?300:u,s=e.resetToInitialMs,m=void 0===s?30*Ne.SECOND:s,f=e.disabled,b=e.children,v=e.onConfirm,h=i.a.useRef(null),p=Object(De.a)({confirmDisableMs:d,resetToInitialMs:m,onConfirm:v,ref:h}),g=p.confirming,E=p.onClick;return i.a.createElement(Fe,null,g&&n,i.a.createElement(we.a,{width:l.d.OrderFlowMenuButtonWidth},i.a.createElement(ge.a,{ref:h,onClick:E,color:g?o:a,className:Object(Re.cn)({"flat-left":g}),disabled:f},g?t:b)))},ze=n(58),Ae=n(1458),He=function(e){var t=e.paymentMethods,n=e.selectedMethod,r=e.onSelection,a=Object(ze.a)(e,["paymentMethods","selectedMethod","onSelection"]);return i.a.createElement(Ae.a,Object.assign({value:n,options:t,getOptionValue:Te.idProp,isSearchable:!1,formatOptionLabel:function(e){return e.description||e.paymentGate.code},filterOption:function(e,t){var n=e.data,r=n.description,a=n.paymentGate;return(r||a.code).toLocaleLowerCase().includes(t.toLocaleLowerCase())},styles:{control:function(e){return Object(b.a)({},e,{borderRadius:l.c.Button,borderTopRightRadius:0,borderBottomRightRadius:0,height:"100%",margin:0})}},onChange:function(e){r(e||null)}},a))},We=function(e){var t=e.orderId,n=e.paymentMethods,r=n.length>0,a=Object(f.A)(),c=Object(ve.a)(a,1)[0],o=Object(Ie.a)("updateOrderPaymentMethod"),l=i.a.useState(null),u=Object(ve.a)(l,2),d=u[0],s=u[1];i.a.useEffect(function(){s(function(){return r?Te.RM.head(n):null})},[r,n]);return o&&r?i.a.createElement(_e,{confirmNode:i.a.createElement(y.Trans,{id:"Change"}),onConfirm:function(){d&&c({orderId:t,paymentMethodId:d.id})},selectNode:i.a.createElement(He,{paymentMethods:n,selectedMethod:d,onSelection:s})},i.a.createElement(y.Trans,{id:"Change payment method"})):null},Pe=n(1609),Ve=function(e){var t=e.orderId,n=e.isPriority,r=Object(f.T)(),a=Object(ve.a)(r,1)[0];return i.a.createElement(Se.a,{mutationName:"setPriorityOrder"},i.a.createElement(pe.a,null,i.a.createElement(ge.a,{icon:Pe.a,iconColor:n?l.a.orange:l.a.white,onClick:function(){return a({orderId:t,isPriority:!n})}}),">"))},qe=(Be={},Object(Z.a)(Be,f.n.Accepted,Object($.i18nMark)("Accept order")),Object(Z.a)(Be,f.n.ReadyToDeliver,Object($.i18nMark)("Ready to deliver")),Object(Z.a)(Be,f.n.Finished,Object($.i18nMark)("Finish order")),Be),Ue=function(e){var t=e.orderId,n=e.nextState,r=Object(f.N)(),a=Object(ve.a)(r,1)[0];return i.a.createElement(Se.a,{mutationName:"addOrderState"},i.a.createElement(ge.a,{text:C.b._(qe[n]),color:n===f.n.ReadyToDeliver?l.a.greyMiddle:l.a.green,width:"".concat(l.d.OrderFlowMenuButtonWidth,"rem"),onClick:function(){a({orderId:t,state:n})}}))},Ge=n(2575),Ke=n(1521),Qe=n(185),Je=o.default.div.withConfig({displayName:"OrderDriverSelect__StyledDriverName",componentId:"krow6a-0"})(["margin:0.1rem 0 0rem 0.2rem;display:inline-block;vertical-align:top;font-size:1.25rem;"]),Ye=o.default.div.withConfig({displayName:"OrderDriverSelect__StyledValueContainer",componentId:"krow6a-1"})(["margin:0 0 0 0.7rem;display:flex;pointer-events:none;width:80%;"]),Xe={color:l.a.white},Ze={control:function(e){return Object(b.a)({},e,Xe,{background:l.a.green,height:l.d.ButtonHeight+l.d.DefaultSizeUnit,border:"none",borderWidth:0,borderRadius:l.c.Button,margin:0})},menu:function(e){return Object(b.a)({},e)},valueContainer:function(e){return Object(b.a)({},e,Xe)},singleValue:function(e){return Object(b.a)({},e,Xe)},placeholder:function(e){return Object(b.a)({},e,Xe,{fontSize:"1.2rem"})},clearIndicator:function(e){return Object(b.a)({},e,{color:l.a.white})},indicatorSeparator:function(e){return Object(b.a)({},e,{display:"none"})}},$e=function(e){var t=e.drivers,n=e.selectedDriver,r=e.isLoading,a=e.onSelect,c=e.onClear,o=e.onReload;return i.a.createElement(Ae.a,{options:t,value:n,getOptionValue:te.a.prop("id"),isLoading:r,isSearchable:!1,isClearable:!0,placeholder:"Deliver order",width:16,styles:Ze,noOptionsMessage:function(){return C.b._("No drivers available")},onChange:function(e){null===e?c():a(e)},onMenuOpen:o,components:{ValueContainer:function(e){return i.a.createElement(Ye,null,i.a.createElement(Qe.a,{icon:Ge.a,fontSize:2,color:l.a.white}),i.a.createElement(Ke.a.ValueContainer,e))},DropdownIndicator:function(){return null}},formatOptionLabel:function(e){return i.a.createElement(Je,null,"".concat(e.firstName," ").concat(e.lastName))},theme:function(e){return Object(b.a)({},e,{blurInputOnSelect:!1,colors:Object(b.a)({},e.colors,{primary:l.a.greyMiddle,primary25:l.a.greyLight})})}})},et=function(e){var t=e.branchId,n=e.orderId,r=e.orderStateCategory,a=Object(Ie.b)("drivers"),c=Object(f.N)(),o=Object(ve.a)(c,1)[0],l=Object(f.S)(),u=Object(ve.a)(l,1)[0],d=Object(f.Q)(),s=Object(ve.a)(d,1)[0],m=Object(f.lb)({branchId:[t],orderId:n},{skip:!a}),b=m.data,v=m.loading,h=m.refetch;return i.a.createElement(Se.a,{mutationName:"createUserDeliveringOrder"},i.a.createElement($e,{drivers:v||!a?[]:b.drivers,selectedDriver:v?null:b.order.driver&&b.order.driver.user,isLoading:v,onReload:h,onClear:function(){var e=b.order.driver;e&&s({orderDriverId:e.id})},onSelect:function(e){u({orderId:n,driverId:e.id}),r!==f.m.OnWay&&o({orderId:n,state:f.n.OnWay})}}))},tt=o.default.div.withConfig({displayName:"OrderStateFlowContainer__StyledOrderStateFlowContainer",componentId:"sc-58okdq-0"})(["margin:0 0 0 auto;padding-left:",";text-align:right;& .menu-item{margin:0 0 0 ",";display:inline-block;vertical-align:bottom;text-align:left;height:100%;}"],l.d.ButtonHeight+l.d.DefaultSizeUnit,l.d.Middle),nt=function(e){var t=e.children;return i.a.createElement(tt,null,c.Children.map(t,function(e,t){return i.a.createElement("div",{className:"menu-item",key:t},e)}))},rt=Object(B.a)(i.a.createElement(i.a.Fragment,null,i.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),i.a.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"Schedule"),at=n(1543),ct=function(e){var t=e.orderId,n=e.isDelivery,r=Object(f.O)(),a=Object(ve.a)(r,1)[0];return i.a.createElement(Se.a,{mutationName:"orderNotifyCustomer"},i.a.createElement(at.a,{title:n?C.b._("Send expected time of delivery to customer (in minutes)"):C.b._("Send expected time of pickup to customer (in minutes)"),deliveryType:n?f.a.Messenger:f.a.Pickup,onConfirm:function(e){a({orderId:t,minutes:e})}},function(e){var t=e.openDialog;return i.a.createElement(ge.a,{icon:rt,onClick:t})}))},it=function(e){var t=e.children;return i.a.createElement(be.a,{position:"BottomLeft"},i.a.createElement(Ce,null,t))},ot=function(e){return i.a.createElement(nt,null,i.a.createElement(it,null,e.canCancel&&i.a.createElement(xe,e),i.a.createElement(Me,e),i.a.createElement(We,e)),i.a.createElement(ct,e),i.a.createElement(Ue,Object.assign({nextState:f.n.Accepted},e)))},lt=function(e){return i.a.createElement(nt,null,i.a.createElement(it,null,e.canCancel&&i.a.createElement(xe,e),i.a.createElement(Me,e),i.a.createElement(We,e)),i.a.createElement(Ve,e),i.a.createElement(ct,e),e.canDeliver&&i.a.createElement(Ue,Object.assign({nextState:f.n.ReadyToDeliver},e)),e.canDeliver?i.a.createElement(et,e):i.a.createElement(Ue,Object.assign({nextState:f.n.Finished},e)))},ut=function(e){return i.a.createElement(nt,null,i.a.createElement(it,null,e.canCancel&&i.a.createElement(xe,e),i.a.createElement(We,e)),i.a.createElement(Ve,e),e.isDelivery?i.a.createElement(et,e):i.a.createElement(Ue,Object.assign({nextState:f.n.Finished},e)))},dt=function(e){return i.a.createElement(nt,null,i.a.createElement(it,null,e.canCancel&&i.a.createElement(xe,e),i.a.createElement(We,e)),i.a.createElement(ct,e),i.a.createElement(et,e),i.a.createElement(Ue,Object.assign({nextState:f.n.Finished},e)))},st=function(e){return i.a.createElement(nt,null,i.a.createElement(it,null,e.canCancel&&i.a.createElement(xe,e),i.a.createElement(We,e)))},mt=function(e){var t=e.orderId,n=e.branchId,r=Object(f.sb)({orderId:t,branchId:n}),a=r.data;if(r.loading)return null;var c=a.order,o=a.companyBranch.allowedCategories,l=null!==c.deliveryType&&c.deliveryType.enum!==f.a.Pickup,u=l&&(o.includes(f.m.OnWay)||o.includes(f.m.ReadyToDeliver)),d=c.isCancelable,s=c.isPriority,m={orderId:t,branchId:n,orderStateCategory:c.orderStateCategory,paymentMethods:c.paymentMethods,canCancel:d,canDeliver:u,isDelivery:l,isPriority:s};switch(c.orderStateCategory){case f.m.NewOrders:return i.a.createElement(ot,m);case f.m.Preparing:return i.a.createElement(lt,m);case f.m.ReadyToDeliver:return i.a.createElement(ut,m);case f.m.OnWay:return i.a.createElement(dt,m);case f.m.Finished:return i.a.createElement(st,m);default:return null}},ft=o.default.div.withConfig({displayName:"OrderDetail__StyledOrderDetail",componentId:"sc-1sl8m9d-0"})(["padding:0 0.5rem 0.5rem 1.1rem;"]),bt=i.a.memo(function(e){var t=e.orderId,n=Object(f.kb)({orderId:t}),r=n.data;if(n.loading)return i.a.createElement(m.a,null);var a=r.order;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ft,null,i.a.createElement(s.a,null),i.a.createElement(fe,{orderWares:a.items}),i.a.createElement(L,{totals:a}),i.a.createElement(W,{rules:a.allAppliedRules},i.a.createElement(j,{current:a.customerOrdersCountCurrent,total:a.customerOrdersCountTotal})),i.a.createElement(E,{phones:a.customer.phones,emails:a.customer.emails}),i.a.createElement(O.a,{note:a.note,previousNote:a.previousNote}),i.a.createElement(s.a,null),i.a.createElement(A,{displayedId:a.id,orderOrigin:a.orderOrigin}),i.a.createElement(s.a,null),i.a.createElement(re,{orderTiming:a.orderTiming}),i.a.createElement(X,{order:a})),i.a.createElement(mt,{orderId:t,branchId:a.companyBranch.id}))});function vt(){var e=Object(r.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  margin-bottom: 0.5rem;\n  position: relative;\n"]);return vt=function(){return e},e}n.d(t,"a",function(){return pt});var ht=o.default.div(vt(),l.a.white,l.a.greyDarkest,l.c.Card),pt=Object(a.observer)(function(e){var t=e.order,n=e.showBranch,r=e.isCancelled,a=e.onToggleDetail,c=Object(u.a)(),o=t.id,l=i.a.useCallback(function(){c.toggleOrderDetail(o),a&&a()},[a,o,c]),s=c.isOrderDetailOpen(o);return i.a.createElement(ht,{id:"order-".concat(o)},i.a.createElement(d.a,{order:t,showBranch:n,isCancelled:r,onClick:l}),s&&i.a.createElement(bt,{orderId:o}))})},1572:function(e,t,n){"use strict";var r=n(58),a=n(0),c=n.n(a),i=n(1455),o=n(257),l=n(1496),u=n(1507),d=function(e){return c.a.createElement(u.a,null,c.a.createElement(l.a,Object.assign({variant:"inline",format:"ll",maxDateMessage:o.i18n._("Date is too much in the future"),minDateMessage:o.i18n._("Date is too much in the past")},e)))};n.d(t,"a",function(){return s});var s=function(e){var t=e.field,n=Object(r.a)(e,["field"]);return c.a.createElement(i.Field,{field:t,render:function(e){return c.a.createElement(d,Object.assign({value:e.value,onChange:function(t){return e.setValue(t)},onOpen:function(){return e.setTouched(!0)}},n))}})}},1601:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(49);t.a=Object(c.a)(a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.a.createElement("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})),"AccessTime")},1602:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(49);t.a=Object(c.a)(a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{d:"M22 10l-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5l5.5 5.5H15V5.5z"}),a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"})),"Note")},1609:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(49);t.a=Object(c.a)(a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),a.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),"Star")},1701:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(49);t.a=Object(c.a)(a.a.createElement("path",{d:"M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"}),"Store")},2553:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(49);t.a=Object(c.a)(a.a.createElement("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}),"Phone")},2555:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(49);t.a=Object(c.a)(a.a.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline")},2575:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(49);t.a=Object(c.a)(a.a.createElement("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"}),"DirectionsCar")},2577:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(49);t.a=Object(c.a)(a.a.createElement("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}),"Assignment")},2578:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(49);t.a=Object(c.a)(a.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search")},2619:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(74),i=n(186),o=n(45),l=n(208),u=n(127),d=n(203),s=n(204),m=n(98),f=n(1467),b=n(1461),v=n(1572),h=n(1503),p=function(){return a.a.createElement(b.a,{justify:"flex-start"},a.a.createElement(f.a,{fixedWidth:!0,width:"12rem"},a.a.createElement(v.a,{field:"dateFrom",label:a.a.createElement(m.Trans,{id:"From date"}),autoOk:!0})),a.a.createElement(f.a,{fixedWidth:!0,width:"12rem"},a.a.createElement(v.a,{field:"dateTo",label:a.a.createElement(m.Trans,{id:"To date"}),autoOk:!0})),a.a.createElement(f.a,null,a.a.createElement(h.a,{width:"15rem"},a.a.createElement(m.Trans,{id:"Show history for branch"}))))},g=n(1694),E=n(62),O=n(1567),y=n(1462),j=n(335),C=n(1550),w=n(57),k=n(330),x=n(184),S=n(139),M=n(88),T=n(1455),I=n(41),N=n(1528),R=Object(r.createContext)(null),D=function(e){var t=e.children,n=Object(w.b)().statistics,r=Object(N.a)(I.o),c=r.result,i=r.execute;return a.a.createElement(T.Form,{onSubmit:function(e){n.closureBranch&&i({branchId:n.closureBranch,dateFrom:Object(x.b)(e.dateFrom),dateTo:Object(x.b)(e.dateTo)})},defaultValues:{dateFrom:Object(M.subDays)(new Date,1),dateTo:new Date}},a.a.createElement(R.Provider,{value:c},t))},L=Object(E.observer)(function(){var e=Object(r.useContext)(R),t=e.data,n=e.loading,c=e.wasExecuted,i=Object(w.b)().statistics;return c?n?a.a.createElement(y.a,null,a.a.createElement(j.a,null)):i.closureBranch?t&&0===t.history.length?a.a.createElement(y.a,null,a.a.createElement(m.Trans,{id:"No closures found"})):a.a.createElement(a.a.Fragment,null,t&&t.history.map(function(e){return a.a.createElement(O.a,{key:e.id},a.a.createElement(f.a,{fixedWidth:!0},a.a.createElement(C.a,{to:"../".concat(e.id)},a.a.createElement(k.a,null,a.a.createElement(S.a,{icon:g.a})))),a.a.createElement(f.a,{widthGrowIndex:1},"[".concat(e.reportSequence,"] ").concat(Object(x.b)(e.reportDatetime))))})):a.a.createElement(y.a,null,a.a.createElement(m.Trans,{id:"Select a branch"})):null}),B=n(91),F=n(5),_=n(26),z=n(1470),A=n(1475),H=n(81),W=n(1466),P=n(19),V=function(e){return a.a.createElement(W.a,{queryName:"lastFinancialReport"},a.a.createElement(H.b,{to:"/overview/closure"},a.a.createElement(S.a,{text:o.b._("Current closure"),color:P.a.orange,width:"15rem",height:P.d.ButtonHeight+P.d.DefaultSizeUnit})))};function q(){var e=Object(F.a)(["\n  float: right;\n  margin: 0.5rem;\n"]);return q=function(){return e},e}var U=_.default.div(q()),G=Object(E.observer)(function(e){var t=e.showCurrent,n=Object(w.b)().statistics;return Object(z.a)(function(e){n.setClosureBranch(e.id)}),a.a.createElement(a.a.Fragment,null,a.a.createElement(A.a,{selectedBranches:n.closureBranch?[n.closureBranch]:[],onSelectionChange:function(e){var t=Object(B.a)(e,1)[0];return n.setClosureBranch(t)},onSelectionClear:function(){return n.setClosureBranch(null)},isClearable:!1,hideWhenSingleBranch:!0}),t&&a.a.createElement(U,null,a.a.createElement(V,null)))}),K=function(e){return a.a.createElement(D,null,a.a.createElement(s.a,{pageTitle:o.b._("Closure history"),useBackButton:!0,backRoute:"/overview"},a.a.createElement(d.a,null,a.a.createElement(G,{showCurrent:!0}),a.a.createElement(p,null)),a.a.createElement(d.a,null,a.a.createElement(L,null))))},Q=n(55);function J(){var e=Object(F.a)(["\n  padding: 0;\n  "]);return J=function(){return e},e}function Y(){var e=Object(F.a)(["\n    width: max-content;\n  "]);return Y=function(){return e},e}var X=_.default.p.withConfig({displayName:"MonospaceOutput__StyledMonospaceOutput",componentId:"hmbc1i-0"})(["color:white;font-family:Menlo,'Lucida Console',monospace;white-space:pre-wrap;margin:0.2rem 0.5rem 0.5rem 0;line-height:1.8rem;",";"],Object(Q.d)(Y())),Z=_.default.div.withConfig({displayName:"MonospaceOutput__StyledScrollableContainer",componentId:"hmbc1i-1"})(["padding:1.4rem 4rem 0 0.5rem;display:inline-block;overflow-x:auto;-webkit-overflow-scrolling:touch;width:100%;",";"],Object(Q.d)(J())),$=function(e){return a.a.createElement(X,null,e.replace(new RegExp("\t","g"),"\t"))},ee=function(e){var t=e.text,n=e.scrollable;return void 0!==n&&n?a.a.createElement(Z,null,$(t)):$(t)},te=Object(E.observer)(function(e){var t=e.reportId,n=void 0===t?"":t,r=Object(w.b)().statistics,c=!r.closureBranch,i=Object(I.Y)({branchId:r.closureBranch,reportId:n,showReport:Boolean(n)},{skip:c}),l=i.data,u=i.loading;return c?a.a.createElement(ee,{text:o.b._("Select a branch")}):u?a.a.createElement(ee,{text:o.b._("Computing")}):a.a.createElement(ee,{scrollable:!0,text:n?l.report.plainData:l.lastReport.plainData})}),ne=n(25),re=n.n(ne),ae=n(36),ce=n(59),ie=n(334),oe=n(207),le=function(e){return a.a.createElement(W.a,{queryName:"financialReports"},a.a.createElement(H.b,{to:"/overview/closure/history"},a.a.createElement(S.a,{text:o.b._("Closure history"),color:P.a.greyDark,width:"15rem",height:P.d.ButtonHeight+P.d.DefaultSizeUnit})))},ue=n(1457),de=n(141),se=n(1518),me=function(e){var t=e.onClick,n=e.disabled;return a.a.createElement(ue.a,{mutationName:"createFinancialReport"},a.a.createElement(de.a,{width:12},a.a.createElement(se.a,{onConfirm:t,initialColor:P.a.green,confirmNode:a.a.createElement(m.Trans,{id:"Are you sure?"}),confirmColor:P.a.orange,disabled:n},a.a.createElement(m.Trans,{id:"Create closure"}))))},fe=function(e){var t=e.showCurrent,n=Object(w.b)().statistics,c=Object(oe.a)().enqueueSuccess,i=Object(ce.useRouterContext)().history,l=Object(I.I)(),u=Object(B.a)(l,1)[0],d=Object(r.useCallback)(Object(ae.a)(re.a.mark(function e(){var t,r;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.closureBranch){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u({branchId:n.closureBranch});case 4:(t=e.sent)&&(r=t.result.id,i.push("/overview/closure/".concat(r)),c(o.b._("Closure has been created")));case 6:case"end":return e.stop()}},e)})),[u,c,i,n]);return Object(E.useObserver)(function(){return a.a.createElement(ie.a,{margin:"".concat(P.d.Middle," 0 0 0")},a.a.createElement(b.a,null,t?a.a.createElement(V,null):a.a.createElement(me,{onClick:d,disabled:!n.closureBranch}),a.a.createElement(le,null)))})},be=function(e){var t=e.match;return a.a.createElement(s.a,{pageTitle:o.b._("Closure"),useBackButton:!0,backRoute:"/overview"},a.a.createElement(d.a,null,a.a.createElement(G,{showCurrent:!1}),a.a.createElement(fe,{showCurrent:Boolean(t.params.reportId)})),a.a.createElement(te,{reportId:t.params.reportId}))},ve=n(205),he=n(7),pe=a.a.createContext(void 0),ge=function(){return a.a.useContext(pe)};function Ee(){var e=Object(w.b)().statistics,t=a.a.useState(),n=Object(B.a)(t,2),r=n[0],c=n[1],i=a.a.useCallback(function(){c({branches:Object(ve.a)(e.branchesFilter),drivers:Object(ve.a)(e.drivers),dateTimeFrom:Object(he.isoDate)(e.dateTimeFrom),dateTimeTo:Object(he.isoDate)(e.dateTimeTo)})},[e]),o={dateTimeFrom:e.dateTimeFrom,dateTimeTo:e.dateTimeTo},l=a.a.useCallback(function(t){return a.a.createElement(T.Form,{onSubmit:i,onChange:function(t){var n=t.values;return e.updateFilter(n)},defaultValues:o},a.a.createElement(pe.Provider,{value:r},t))},[o,i,r,e]);return{filter:r,executeFilter:i,renderForm:l}}var Oe=function(e){var t=e.plain,n=e.children;return a.a.createElement(a.a.Fragment,null,a.a.createElement(y.a,{light:!0},n),a.a.createElement(ee,{text:t,scrollable:!0}))},ye=function(){var e=ge(),t=Object(I.vb)({filter:e?{branches:e.branches,dateTimeFrom:e.dateTimeFrom,dateTimeTo:e.dateTimeTo}:{branches:[]}},{skip:!e}),n=t.data,r=t.loading;if(!e)return null;if(r)return a.a.createElement(ee,{text:o.b._("Computing")});var c=n.stats;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Oe,{plain:c.daily},a.a.createElement(m.Trans,{id:"Daily statistics"})),a.a.createElement(Oe,{plain:c.category},a.a.createElement(m.Trans,{id:"By category"})),a.a.createElement(Oe,{plain:c.delivery},a.a.createElement(m.Trans,{id:"By type"})),a.a.createElement(Oe,{plain:c.drivers},a.a.createElement(m.Trans,{id:"By driver"})))},je=function(){var e=Object(w.b)().statistics;return Object(z.a)(function(t){e.setBranchFilter([t.id])}),Object(E.useObserver)(function(){return a.a.createElement(A.a,{selectedBranches:Array.from(e.branches),onSelectionChange:e.setBranchFilter,onSelectionClear:e.clearBranchFilter,isMulti:!0,hideWhenSingleBranch:!0})})},Ce=n(1558),we=Object(_.default)(b.a).withConfig({displayName:"StatisticsFilter__StyledFlexRowSingle",componentId:"f0b31d-0"})(["flex-wrap:wrap;"]),ke=function(){var e=Object(w.b)().statistics;return Object(E.useObserver)(function(){return a.a.createElement(we,{justify:"flex-start"},a.a.createElement(f.a,{fixedWidth:!0,width:"12rem"},a.a.createElement(Ce.a,{field:"dateTimeFrom",label:a.a.createElement(m.Trans,{id:"From"}),autoOk:!0})),a.a.createElement(f.a,{fixedWidth:!0,width:"12rem"},a.a.createElement(Ce.a,{field:"dateTimeTo",label:a.a.createElement(m.Trans,{id:"To"}),autoOk:!0})),a.a.createElement(f.a,null,a.a.createElement(h.a,{width:"15rem"},a.a.createElement(m.Trans,{id:"{0, plural, one {Show for one branch} few {Show for # branches} other {Show for # branches}}",values:{0:e.branchesFilter.length}}))))})},xe=function(e){var t=e.children;return(0,Ee().renderForm)(t)},Se=function(){return a.a.createElement(s.a,{pageTitle:o.b._("Sales statistics"),useBackButton:!0},a.a.createElement(xe,null,a.a.createElement(d.a,null,a.a.createElement(je,null),a.a.createElement(ke,null)),a.a.createElement(ye,null)))},Me=n(1561),Te=n(331),Ie=n(1460),Ne=n(333),Re=n(1495),De=n(1571),Le=function(){var e=Object(w.b)().statistics,t=ge(),n=a.a.useRef(new Map),r=a.a.useRef(null),c=a.a.useMemo(function(){return new Re.c({fixedWidth:!0,defaultHeight:55,minHeight:55})},[]),i=Object(I.xb)({filter:t},{skip:!t}),o=i.data,l=i.loading;a.a.useEffect(function(){n.current.clear(),c.clearAll(),r.current&&r.current.resetLoadMoreRowsCache(!0)},[t,c]);var u=Object(N.a)(I.s).execute,d=a.a.useCallback(function(){var e=Object(ae.a)(re.a.mark(function e(r){var a,c,i,o,l,d;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.startIndex,c=r.stopIndex,!t){e.next=6;break}return e.next=4,u({filter:t,pagination:{fromIndex:a,toIndex:c}});case 4:if((i=e.sent).data)for(o=Object(ve.a)(i.data.stats.orders.list),l=a;l<=c;l++)(d=o.shift())&&n.current.set(l,d);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[u,t]),s=a.a.useCallback(function(e){var t=e.index;return void 0!==n.current.get(t)},[]),f=a.a.useCallback(function(t){var r=t.index,i=t.key,o=t.style,l=t.parent,u=n.current.get(r);return void 0===u?a.a.createElement("div",{style:o,key:i},"..."):a.a.createElement(Re.b,{key:i,columnIndex:0,rowIndex:r,cache:c,parent:l},function(t){var n=t.measure;return a.a.createElement("div",{style:o},a.a.createElement(De.a,{order:u,showBranch:e.branchesFilter.length>1,isCancelled:u.orderStateCategory===I.m.Cancel,onToggleDetail:function(){setTimeout(n,500)}}))})},[c,e.branchesFilter.length]);if(!t)return null;if(l)return a.a.createElement(j.a,null);var b=o.stats.counts,v=b.finished+b.cancelled;return 0===v?a.a.createElement(m.Trans,{id:"No orders"}):a.a.createElement(Re.a,null,function(e){var t=e.width,n=e.height;return a.a.createElement(Re.f,{rowCount:v,isRowLoaded:s,loadMoreRows:d,ref:r},function(e){var r=e.onRowsRendered,i=e.registerChild;return a.a.createElement(Re.g,{ref:i,onRowsRendered:r,rowHeight:c.rowHeight,deferredMeasurementCache:c,rowCount:v,width:t,height:n,rowRenderer:f})})})},Be=n(1491);function Fe(){var e=Object(F.a)(["\n    font-size: 1.7rem;\n  "]);return Fe=function(){return e},e}function _e(){var e=Object(F.a)(["\n    font-size: 3.3rem;\n  "]);return _e=function(){return e},e}function ze(){var e=Object(F.a)(["\n    font-size: 0.9rem;\n  "]);return ze=function(){return e},e}function Ae(){var e=Object(F.a)(["\n  font-size: 1.2rem;\n  "]);return Ae=function(){return e},e}function He(){var e=Object(F.a)(["\n    margin: 0rem 1rem 0 1rem;\n  "]);return He=function(){return e},e}function We(){var e=Object(F.a)(["\n  margin: 1.4rem 4rem 0 0.5rem;\n  "]);return We=function(){return e},e}var Pe=_.default.div.withConfig({displayName:"OrdersStatisticsSummary__StyledStatPanel",componentId:"sc-1nzggd2-0"})(["display:inline-block;",";",";"],Object(Q.c)(We()),Object(Q.d)(He())),Ve=_.default.h1.withConfig({displayName:"OrdersStatisticsSummary__StyledStatLabel",componentId:"sc-1nzggd2-1"})(["font-weight:normal;margin:0;",";",";"],Object(Q.c)(Ae()),Object(Q.d)(ze())),qe=_.default.h2.withConfig({displayName:"OrdersStatisticsSummary__StyledStatValue",componentId:"sc-1nzggd2-2"})(["font-weight:normal;margin:0;",";",";"],Object(Q.c)(_e()),Object(Q.d)(Fe())),Ue=Object(E.observer)(function(){var e=ge(),t=Object(I.wb)({filter:e},{skip:!e}),n=t.data,r=t.loading;if(!e)return null;if(r)return a.a.createElement(ee,{text:o.b._("Computing")});var c=n.stats.finishedOrders;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Pe,null,a.a.createElement(Ve,null,a.a.createElement(m.Trans,{id:"Total turnover"})),a.a.createElement(qe,null,a.a.createElement(Be.a,{price:c.total.value,currencyCode:c.total.currency.code}))),a.a.createElement(Pe,null,a.a.createElement(Ve,null,a.a.createElement(m.Trans,{id:"Online payments"})),a.a.createElement(qe,null,a.a.createElement(Be.a,{price:c.onlinePayments.value,currencyCode:c.onlinePayments.currency.code}))),a.a.createElement(Pe,null,a.a.createElement(Ve,null,a.a.createElement(m.Trans,{id:"Orders count"})),a.a.createElement(qe,null,c.finishedCount+c.cancelledCount)),a.a.createElement(Pe,null,a.a.createElement(Ve,null,a.a.createElement(m.Trans,{id:"Total commissions"})),a.a.createElement(qe,null,a.a.createElement(Be.a,{price:c.fees.value,currencyCode:c.fees.currency.code}))),a.a.createElement(ee,{text:n.stats.orderStatisticsPlain,scrollable:!0}))}),Ge=n(1458),Ke=n(31),Qe=Object(E.observer)(function(){var e=Object(w.b)().statistics,t=Object(I.W)({branches:e.branchesFilter}),n=t.data,r=t.loading;return a.a.useEffect(function(){r||e.setDriversFilter(Ke.a.intersection(e.drivers,n.drivers.map(Ke.a.prop("id"))))},[n,r,e]),a.a.createElement(Ge.a,{isMulti:!0,isClearable:!0,isSearchable:!0,filterOption:function(e,t){return 0===t.length||Object(x.c)(e.data).toLocaleLowerCase().includes(t.toLocaleLowerCase())},placeholder:o.b._("Filter by drivers"),isLoading:r,options:r?[]:Object(ve.a)(n.drivers),value:r?[]:n.drivers.filter(function(t){return e.drivers.includes(t.id)}),formatOptionLabel:x.c,getOptionValue:Ke.a.prop("id"),onChange:function(t){t?e.setDriversFilter(t.map(Ke.a.prop("id"))):e.setDriversFilter([])}})}),Je=function(e){var t=e.children,n=e.autoFilter,r=Ee(),c=r.executeFilter,i=r.renderForm;return a.a.useEffect(function(){n&&c()},[n,c]),i(t)},Ye=function(e){var t=e.match,n=Object(w.b)().statistics;return"today"===t.params.filter&&n.setTodayOrdersFilter(),a.a.createElement(Je,{autoFilter:t.params.filter},a.a.createElement(Ne.a,{pageTitle:o.b._("Orders statistics"),showSoundControl:!1,useBackButton:!0},a.a.createElement(Te.a,{gridColumn:"1 / span 9",gridRow:"1"},a.a.createElement(d.a,null,a.a.createElement(je,null),a.a.createElement(Qe,null),a.a.createElement(ke,null))),a.a.createElement(Te.a,{gridColumn:"1 / span 9",gridRow:"2"},a.a.createElement(Ue,null)),a.a.createElement(Ie.a,{withScrollArea:!1,row:1,column:9,widthInColumns:7,forcePercentHeightInMobile:90},a.a.createElement(Me.a,null,a.a.createElement(Le,null)))))},Xe=n(1505),Ze=n(2577),$e=function(e){return a.a.createElement(S.a,{text:o.b._("Closure"),icon:Ze.a,color:P.a.turquoise})},et=function(e){return a.a.createElement(S.a,{text:o.b._("Sales statistics"),icon:Ze.a,color:P.a.turquoise})},tt=function(e){return a.a.createElement(S.a,{text:o.b._("Orders statistics"),icon:Ze.a,color:P.a.turquoise})},nt=function(e){return a.a.createElement(Ne.a,{isForIconDashboard:!0},a.a.createElement(Xe.a,{gridColumn:1,gridColumnSpan:2,key:"OrdersStatistics",route:"/overview/orders",component:tt,canQuery:"statistics"}),a.a.createElement(Xe.a,{gridColumn:3,gridColumnSpan:2,key:"DailyStatistics",route:"/overview/statistics",component:et,canQuery:"statistics"}),a.a.createElement(Xe.a,{gridColumn:5,gridColumnSpan:2,key:"Closure",route:"/overview/closure",component:$e,canQuery:"lastFinancialReport"}))},rt=n(1536),at=n(107),ct=n(1492),it=n(1569),ot=20,lt=20,ut=15,dt=_.default.div.withConfig({displayName:"StockStatisticsTable__StyledStockStatisticsTable",componentId:"sc-7muzl2-0"})(["margin:1rem;& .stock-item{display:grid;grid-gap:0 4px;grid-template-columns:5rem 1fr;grid-template-rows:","px auto;}& .code{grid-column:1;grid-row:1;}& .header{grid-column:2;grid-row:1;white-space:nowrap;border-bottom:1px solid ",";& .quantity{font-weight:bold;}}& .branches{grid-column:2;grid-row:2;margin-top:0.2rem;}& .header,& .branchItem{display:flex;flex-direction:row;}& .header .name,& .branches .branchName{flex:1 1 auto;max-width:20rem;}& .header .quantity,& .branches .quantity{flex:0 0 5rem;margin-right:1rem;text-align:right;}& .branchItem,& .header .quantity{font-size:0.9rem;}& .branchItem{height:","px;overflow:hidden;}& .branchName{color:",";}& .nameAtBranch{flex:2 1 auto;color:",";}"],ot,P.a.greyMiddle,lt,P.a.greyMiddle,P.a.greyMiddle),st=function(e){var t=e.items;return a.a.createElement(it.a,{items:t,rowHeight:function(e){var n=e.index;return ot+ut+t[n].branches.length*lt},heightStretch:!0,renderItem:function(e){return a.a.createElement(dt,null,a.a.createElement("div",{className:"stock-item"},a.a.createElement("div",{className:"code"},e.code),a.a.createElement("div",{className:"header"},a.a.createElement("div",{className:"name"},e.nameLabel),a.a.createElement("div",{className:"quantity"},e.quantity," ",e.wareUnit.code),a.a.createElement("div",{className:"nameAtBranch"},"\xa0")),a.a.createElement("div",{className:"branches"},e.branches.map(function(t){return a.a.createElement("div",{className:"branchItem",key:t.branchName},a.a.createElement("div",{className:"branchName"},t.branchName),a.a.createElement("div",{className:"quantity"},t.quantity," ",e.wareUnit.code),e.showNamePerBranch&&a.a.createElement("div",{className:"nameAtBranch"},t.itemNameAtBranch))}))))}})},mt=Object(E.observer)(function(){var e=Object(w.b)().statistics,t=Object(I.zb)({brandId:e.stockBrandId},{skip:!e.stockBrandId}),n=t.data,r=t.loading;if(!e.stockBrandId)return null;if(r)return a.a.createElement(j.a,null);var c=e.stockSearchInput,i=Object(ct.a)(c),o=at.RM.cond([[at.RM.propEq("plu",c),at.RM.T],[at.RM.propSatisfies(i,"code"),at.RM.T],[at.RM.propSatisfies(i,"nameLabel"),at.RM.T]]),l=at.RM.sortWith([at.RM.ascend(at.RM.prop("code"))])(n.stockItems.filter(o)).reduce(function(e,t){var n=e.find(function(e){var n=e.code,r=e.wareUnit;return n===t.code&&r.id===t.wareUnit.id}),r={stockItemId:t.id,quantity:t.quantity,branchName:t.companyBranch.name,itemNameAtBranch:t.nameLabel};return n?(n.branches.push(r),n.nameLabel!==t.nameLabel&&(n.showNamePerBranch=!0)):e.push({code:t.code,wareUnit:t.wareUnit,nameLabel:t.nameLabel,showNamePerBranch:!1,branches:[r],quantity:t.quantity}),e},[]);return a.a.createElement(st,{items:l})}),ft=n(257),bt=n(1701),vt=n(2578),ht=n(1459),pt=n(1456),gt=n(1570),Et=Object(_.default)(b.a).withConfig({displayName:"StockStatisticsFilter__StyledFlexRowSingle",componentId:"sc-1c1ii2t-0"})(["flex-wrap:wrap;"]),Ot=function(){var e=Object(w.b)(),t=e.user,n=e.statistics;return Object(E.useObserver)(function(){return a.a.createElement(Et,{justify:"flex-start"},a.a.createElement(f.a,null,a.a.createElement(ie.a,{margin:"0 1rem 0 0"},a.a.createElement(pt.a,{icon:bt.a},a.a.createElement(de.a,{width:16},a.a.createElement(gt.a,{selectedBrand:t.brands.find(Object(at.idPropEq)(n.stockBrandId))||null,onSelection:function(e){n.setStockBrand(e?e.id:null)}}))))),a.a.createElement(f.a,null,a.a.createElement(pt.a,{icon:vt.a},a.a.createElement(de.a,{width:14},a.a.createElement(ht.a,{defaultValue:n.stockSearchInput,inputFullWidth:!0,onChange:function(e){return n.setStockFilter(e.target.value)},placeholder:ft.i18n._("Filter by name or code")})))))})},yt=function(){return a.a.createElement(s.a,{pageTitle:o.b._("Stock statistics"),useBackButton:!0},a.a.createElement(Ie.a,{forcePercentHeightInMobile:100},a.a.createElement(d.a,{stretchToParent:!0},a.a.createElement(rt.b,null,a.a.createElement("div",{className:"filter"},a.a.createElement(Ot,null)),a.a.createElement("div",{className:"table"},a.a.createElement(mt,null))))))};n.d(t,"OverviewRoutes",function(){return jt});var jt=function(e){var t=e.match;return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.a,{title:o.b._("Overview")}),a.a.createElement(c.Switch,null,a.a.createElement(u.a,{exact:!0,path:t.path,component:nt}),a.a.createElement(u.a,{path:"".concat(t.path,"/closure/history"),component:K}),a.a.createElement(u.a,{path:"".concat(t.path,"/closure/:reportId?"),component:be}),a.a.createElement(u.a,{path:"".concat(t.path,"/statistics"),component:Se}),a.a.createElement(u.a,{path:"".concat(t.path,"/orders/:filter?"),component:Ye}),a.a.createElement(u.a,{path:"".concat(t.path,"/stock"),component:yt}),a.a.createElement(c.Route,{component:l.a})))};t.default=jt}}]);
//# sourceMappingURL=176.a0405bf4.chunk.js.map